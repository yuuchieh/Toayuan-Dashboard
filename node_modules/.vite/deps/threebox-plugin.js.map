{
  "version": 3,
  "sources": ["../../threebox-plugin/src/three.js", "../../threebox-plugin/src/utils/constants.js", "../../threebox-plugin/src/utils/validate.js", "../../threebox-plugin/src/utils/utils.js", "../../threebox-plugin/src/camera/CameraSync.js", "../../threebox-plugin/src/utils/suncalc.js", "../../threebox-plugin/src/utils/material.js", "../../threebox-plugin/src/animation/AnimationManager.js", "../../threebox-plugin/src/objects/CSS2DRenderer.js", "../../threebox-plugin/src/objects/objects.js", "../../threebox-plugin/src/objects/Object3D.js", "../../threebox-plugin/src/objects/sphere.js", "../../threebox-plugin/src/objects/extrusion.js", "../../threebox-plugin/src/objects/label.js", "../../threebox-plugin/src/objects/tooltip.js", "../../threebox-plugin/src/objects/loaders/OBJLoader.js", "../../threebox-plugin/src/objects/loaders/MTLLoader.js", "../../threebox-plugin/src/objects/fflate.min.js", "../../threebox-plugin/src/objects/loaders/FBXLoader.js", "../../threebox-plugin/src/objects/loaders/GLTFLoader.js", "../../threebox-plugin/src/objects/loaders/ColladaLoader.js", "../../threebox-plugin/src/objects/loadObj.js", "../../threebox-plugin/src/objects/line.js", "../../threebox-plugin/src/objects/tube.js", "../../threebox-plugin/src/objects/LabelRenderer.js", "../../threebox-plugin/src/objects/effects/BuildingShadows.js", "../../threebox-plugin/src/Threebox.js", "../../threebox-plugin/main.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright 2010-2021 Three.js Authors\n * SPDX-License-Identifier: MIT\n */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e((t=\"undefined\"!=typeof globalThis?globalThis:t||self).THREE={})}(this,(function(t){\"use strict\";const e=\"132\",n=100,i=300,r=301,s=302,a=303,o=304,l=306,c=307,h=1e3,u=1001,d=1002,p=1003,m=1004,f=1005,g=1006,v=1007,y=1008,x=1009,_=1012,b=1014,M=1015,w=1016,S=1020,T=1022,E=1023,A=1026,L=1027,R=33776,C=33777,P=33778,I=33779,D=35840,N=35841,z=35842,B=35843,F=37492,O=37496,U=2300,H=2301,G=2302,k=2400,V=2401,W=2402,j=2500,q=2501,X=3e3,Y=3001,J=3007,Z=3002,Q=3004,K=3005,$=3006,tt=7680,et=35044,nt=35048,it=\"300 es\";class rt{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,i=n.length;e<i;e++)n[e].call(this,t);t.target=null}}}const st=[];for(let t=0;t<256;t++)st[t]=(t<16?\"0\":\"\")+t.toString(16);let at=1234567;const ot=Math.PI/180,lt=180/Math.PI;function ct(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(st[255&t]+st[t>>8&255]+st[t>>16&255]+st[t>>24&255]+\"-\"+st[255&e]+st[e>>8&255]+\"-\"+st[e>>16&15|64]+st[e>>24&255]+\"-\"+st[63&n|128]+st[n>>8&255]+\"-\"+st[n>>16&255]+st[n>>24&255]+st[255&i]+st[i>>8&255]+st[i>>16&255]+st[i>>24&255]).toUpperCase()}function ht(t,e,n){return Math.max(e,Math.min(n,t))}function ut(t,e){return(t%e+e)%e}function dt(t,e,n){return(1-n)*t+n*e}function pt(t){return 0==(t&t-1)&&0!==t}function mt(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function ft(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}var gt=Object.freeze({__proto__:null,DEG2RAD:ot,RAD2DEG:lt,generateUUID:ct,clamp:ht,euclideanModulo:ut,mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},inverseLerp:function(t,e,n){return t!==e?(n-t)/(e-t):0},lerp:dt,damp:function(t,e,n,i){return dt(t,e,1-Math.exp(-n*i))},pingpong:function(t,e=1){return e-Math.abs(ut(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(at=t%2147483647),at=16807*at%2147483647,(at-1)/2147483646},degToRad:function(t){return t*ot},radToDeg:function(t){return t*lt},isPowerOfTwo:pt,ceilPowerOfTwo:mt,floorPowerOfTwo:ft,setQuaternionFromProperEuler:function(t,e,n,i,r){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),c=s((e+i)/2),h=a((e+i)/2),u=s((e-i)/2),d=a((e-i)/2),p=s((i-e)/2),m=a((i-e)/2);switch(r){case\"XYX\":t.set(o*h,l*u,l*d,o*c);break;case\"YZY\":t.set(l*d,o*h,l*u,o*c);break;case\"ZXZ\":t.set(l*u,l*d,o*h,o*c);break;case\"XZX\":t.set(o*h,l*m,l*p,o*c);break;case\"YXY\":t.set(l*p,o*h,l*m,o*c);break;case\"ZYZ\":t.set(l*m,l*p,o*h,o*c);break;default:console.warn(\"THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: \"+r)}}});class vt{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error(\"index is out of range: \"+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error(\"index is out of range: \"+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn(\"THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn(\"THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn(\"THREE.Vector2: offset has been removed from .fromBufferAttribute().\"),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,s=this.y-t.y;return this.x=r*n-s*i+t.x,this.y=r*i+s*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}vt.prototype.isVector2=!0;class yt{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error(\"THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.\")}set(t,e,n,i,r,s,a,o,l){const c=this.elements;return c[0]=t,c[1]=i,c[2]=a,c[3]=e,c[4]=r,c[5]=o,c[6]=n,c[7]=s,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,s=n[0],a=n[3],o=n[6],l=n[1],c=n[4],h=n[7],u=n[2],d=n[5],p=n[8],m=i[0],f=i[3],g=i[6],v=i[1],y=i[4],x=i[7],_=i[2],b=i[5],M=i[8];return r[0]=s*m+a*v+o*_,r[3]=s*f+a*y+o*b,r[6]=s*g+a*x+o*M,r[1]=l*m+c*v+h*_,r[4]=l*f+c*y+h*b,r[7]=l*g+c*x+h*M,r[2]=u*m+d*v+p*_,r[5]=u*f+d*y+p*b,r[8]=u*g+d*x+p*M,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],l=t[7],c=t[8];return e*s*c-e*a*l-n*r*c+n*a*o+i*r*l-i*s*o}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],l=t[7],c=t[8],h=c*s-a*l,u=a*o-c*r,d=l*r-s*o,p=e*h+n*u+i*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return t[0]=h*m,t[1]=(i*l-c*n)*m,t[2]=(a*n-i*s)*m,t[3]=u*m,t[4]=(c*e-i*o)*m,t[5]=(i*r-a*e)*m,t[6]=d*m,t[7]=(n*o-l*e)*m,t[8]=(s*e-n*r)*m,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,i,r,s,a){const o=Math.cos(r),l=Math.sin(r);return this.set(n*o,n*l,-n*(o*s+l*a)+s+t,-i*l,i*o,-i*(-l*s+o*a)+a+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],s=i[3],a=i[6],o=i[1],l=i[4],c=i[7];return i[0]=e*r+n*o,i[3]=e*s+n*l,i[6]=e*a+n*c,i[1]=-n*r+e*o,i[4]=-n*s+e*l,i[7]=-n*a+e*c,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}let xt;yt.prototype.isMatrix3=!0;class _t{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if(\"undefined\"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===xt&&(xt=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\")),xt.width=t.width,xt.height=t.height;const n=xt.getContext(\"2d\");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=xt}return e.width>2048||e.height>2048?(console.warn(\"THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons\",t),e.toDataURL(\"image/jpeg\",.6)):e.toDataURL(\"image/png\")}}let bt=0;class Mt extends rt{constructor(t=Mt.DEFAULT_IMAGE,e=Mt.DEFAULT_MAPPING,n=1001,i=1001,r=1006,s=1008,a=1023,o=1009,l=1,c=3e3){super(),Object.defineProperty(this,\"id\",{value:bt++}),this.uuid=ct(),this.name=\"\",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=s,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=o,this.offset=new vt(0,0),this.repeat=new vt(1,1),this.center=new vt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new yt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this}toJSON(t){const e=void 0===t||\"string\"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.5,type:\"Texture\",generator:\"Texture.toJSON\"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const i=this.image;if(void 0===i.uuid&&(i.uuid=ct()),!e&&void 0===t.images[i.uuid]){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(wt(i[t].image)):e.push(wt(i[t]))}else e=wt(i);t.images[i.uuid]={uuid:i.uuid,url:e}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:\"dispose\"})}transformUv(t){if(this.mapping!==i)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case h:t.x=t.x-Math.floor(t.x);break;case u:t.x=t.x<0?0:1;break;case d:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case h:t.y=t.y-Math.floor(t.y);break;case u:t.y=t.y<0?0:1;break;case d:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&this.version++}}function wt(t){return\"undefined\"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||\"undefined\"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||\"undefined\"!=typeof ImageBitmap&&t instanceof ImageBitmap?_t.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn(\"THREE.Texture: Unable to serialize Texture.\"),{})}Mt.DEFAULT_IMAGE=void 0,Mt.DEFAULT_MAPPING=i,Mt.prototype.isTexture=!0;class St{constructor(t=0,e=0,n=0,i=1){this.x=t,this.y=e,this.z=n,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error(\"index is out of range: \"+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error(\"index is out of range: \"+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn(\"THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn(\"THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=this.w,s=t.elements;return this.x=s[0]*e+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*e+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*e+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*e+s[7]*n+s[11]*i+s[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,i,r;const s=.01,a=.1,o=t.elements,l=o[0],c=o[4],h=o[8],u=o[1],d=o[5],p=o[9],m=o[2],f=o[6],g=o[10];if(Math.abs(c-u)<s&&Math.abs(h-m)<s&&Math.abs(p-f)<s){if(Math.abs(c+u)<a&&Math.abs(h+m)<a&&Math.abs(p+f)<a&&Math.abs(l+d+g-3)<a)return this.set(1,0,0,0),this;e=Math.PI;const t=(l+1)/2,o=(d+1)/2,v=(g+1)/2,y=(c+u)/4,x=(h+m)/4,_=(p+f)/4;return t>o&&t>v?t<s?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(t),i=y/n,r=x/n):o>v?o<s?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(o),n=y/i,r=_/i):v<s?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(v),n=x/r,i=_/r),this.set(n,i,r,e),this}let v=Math.sqrt((f-p)*(f-p)+(h-m)*(h-m)+(u-c)*(u-c));return Math.abs(v)<.001&&(v=1),this.x=(f-p)/v,this.y=(h-m)/v,this.z=(u-c)/v,this.w=Math.acos((l+d+g-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn(\"THREE.Vector4: offset has been removed from .fromBufferAttribute().\"),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}St.prototype.isVector4=!0;class Tt extends rt{constructor(t,e,n={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new St(0,0,t,e),this.scissorTest=!1,this.viewport=new St(0,0,t,e),this.texture=new Mt(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:t,height:e,depth:1},this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:g,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}setTexture(t){t.image={width:this.width,height:this.height,depth:this.depth},this.texture=t}setSize(t,e,n=1){this.width===t&&this.height===e&&this.depth===n||(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this}dispose(){this.dispatchEvent({type:\"dispose\"})}}Tt.prototype.isWebGLRenderTarget=!0;class Et extends Tt{constructor(t,e,n){super(t,e);const i=this.texture;this.texture=[];for(let t=0;t<n;t++)this.texture[t]=i.clone()}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let i=0,r=this.texture.length;i<r;i++)this.texture[i].image.width=t,this.texture[i].image.height=e,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this.texture.length=0;for(let e=0,n=t.texture.length;e<n;e++)this.texture[e]=t.texture[e].clone();return this}}Et.prototype.isWebGLMultipleRenderTargets=!0;class At extends Tt{constructor(t,e,n){super(t,e,n),this.samples=4}copy(t){return super.copy.call(this,t),this.samples=t.samples,this}}At.prototype.isWebGLMultisampleRenderTarget=!0;class Lt{constructor(t=0,e=0,n=0,i=1){this._x=t,this._y=e,this._z=n,this._w=i}static slerp(t,e,n,i){return console.warn(\"THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.\"),n.slerpQuaternions(t,e,i)}static slerpFlat(t,e,n,i,r,s,a){let o=n[i+0],l=n[i+1],c=n[i+2],h=n[i+3];const u=r[s+0],d=r[s+1],p=r[s+2],m=r[s+3];if(0===a)return t[e+0]=o,t[e+1]=l,t[e+2]=c,void(t[e+3]=h);if(1===a)return t[e+0]=u,t[e+1]=d,t[e+2]=p,void(t[e+3]=m);if(h!==m||o!==u||l!==d||c!==p){let t=1-a;const e=o*u+l*d+c*p+h*m,n=e>=0?1:-1,i=1-e*e;if(i>Number.EPSILON){const r=Math.sqrt(i),s=Math.atan2(r,e*n);t=Math.sin(t*s)/r,a=Math.sin(a*s)/r}const r=a*n;if(o=o*t+u*r,l=l*t+d*r,c=c*t+p*r,h=h*t+m*r,t===1-a){const t=1/Math.sqrt(o*o+l*l+c*c+h*h);o*=t,l*=t,c*=t,h*=t}}t[e]=o,t[e+1]=l,t[e+2]=c,t[e+3]=h}static multiplyQuaternionsFlat(t,e,n,i,r,s){const a=n[i],o=n[i+1],l=n[i+2],c=n[i+3],h=r[s],u=r[s+1],d=r[s+2],p=r[s+3];return t[e]=a*p+c*h+o*d-l*u,t[e+1]=o*p+c*u+l*h-a*d,t[e+2]=l*p+c*d+a*u-o*h,t[e+3]=c*p-a*h-o*u-l*d,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error(\"THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.\");const n=t._x,i=t._y,r=t._z,s=t._order,a=Math.cos,o=Math.sin,l=a(n/2),c=a(i/2),h=a(r/2),u=o(n/2),d=o(i/2),p=o(r/2);switch(s){case\"XYZ\":this._x=u*c*h+l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h-u*d*p;break;case\"YXZ\":this._x=u*c*h+l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h+u*d*p;break;case\"ZXY\":this._x=u*c*h-l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h-u*d*p;break;case\"ZYX\":this._x=u*c*h-l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h+u*d*p;break;case\"YZX\":this._x=u*c*h+l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h-u*d*p;break;case\"XZY\":this._x=u*c*h-l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h+u*d*p;break;default:console.warn(\"THREE.Quaternion: .setFromEuler() encountered an unknown order: \"+s)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],i=e[4],r=e[8],s=e[1],a=e[5],o=e[9],l=e[2],c=e[6],h=e[10],u=n+a+h;if(u>0){const t=.5/Math.sqrt(u+1);this._w=.25/t,this._x=(c-o)*t,this._y=(r-l)*t,this._z=(s-i)*t}else if(n>a&&n>h){const t=2*Math.sqrt(1+n-a-h);this._w=(c-o)/t,this._x=.25*t,this._y=(i+s)/t,this._z=(r+l)/t}else if(a>h){const t=2*Math.sqrt(1+a-n-h);this._w=(r-l)/t,this._x=(i+s)/t,this._y=.25*t,this._z=(o+c)/t}else{const t=2*Math.sqrt(1+h-n-a);this._w=(s-i)/t,this._x=(r+l)/t,this._y=(o+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(ht(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const i=Math.min(1,e/n);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn(\"THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.\"),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,i=t._y,r=t._z,s=t._w,a=e._x,o=e._y,l=e._z,c=e._w;return this._x=n*c+s*a+i*l-r*o,this._y=i*c+s*o+r*a-n*l,this._z=r*c+s*l+n*o-i*a,this._w=s*c-n*a-i*o-r*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,i=this._y,r=this._z,s=this._w;let a=s*t._w+n*t._x+i*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;const o=1-a*a;if(o<=Number.EPSILON){const t=1-e;return this._w=t*s+e*this._w,this._x=t*n+e*this._x,this._y=t*i+e*this._y,this._z=t*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(o),c=Math.atan2(l,a),h=Math.sin((1-e)*c)/l,u=Math.sin(e*c)/l;return this._w=s*h+this._w*u,this._x=n*h+this._x*u,this._y=i*h+this._y*u,this._z=r*h+this._z*u,this._onChangeCallback(),this}slerpQuaternions(t,e,n){this.copy(t).slerp(e,n)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}Lt.prototype.isQuaternion=!0;class Rt{constructor(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error(\"index is out of range: \"+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error(\"index is out of range: \"+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\"),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error(\"THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.\"),this.applyQuaternion(Pt.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Pt.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=t.elements,s=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*s,this}applyQuaternion(t){const e=this.x,n=this.y,i=this.z,r=t.x,s=t.y,a=t.z,o=t.w,l=o*e+s*i-a*n,c=o*n+a*e-r*i,h=o*i+r*n-s*e,u=-r*e-s*n-a*i;return this.x=l*o+u*-r+c*-a-h*-s,this.y=c*o+u*-s+h*-r-l*-a,this.z=h*o+u*-a+l*-s-c*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\"),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,i=t.y,r=t.z,s=e.x,a=e.y,o=e.z;return this.x=i*o-r*a,this.y=r*s-n*o,this.z=n*a-i*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return Ct.copy(this).projectOnVector(t),this.sub(Ct)}reflect(t){return this.sub(Ct.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(ht(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn(\"THREE.Vector3: offset has been removed from .fromBufferAttribute().\"),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}Rt.prototype.isVector3=!0;const Ct=new Rt,Pt=new Lt;class It{constructor(t=new Rt(1/0,1/0,1/0),e=new Rt(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,a=-1/0;for(let o=0,l=t.length;o<l;o+=3){const l=t[o],c=t[o+1],h=t[o+2];l<e&&(e=l),c<n&&(n=c),h<i&&(i=h),l>r&&(r=l),c>s&&(s=c),h>a&&(a=h)}return this.min.set(e,n,i),this.max.set(r,s,a),this}setFromBufferAttribute(t){let e=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,a=-1/0;for(let o=0,l=t.count;o<l;o++){const l=t.getX(o),c=t.getY(o),h=t.getZ(o);l<e&&(e=l),c<n&&(n=c),h<i&&(i=h),l>r&&(r=l),c>s&&(s=c),h>a&&(a=h)}return this.min.set(e,n,i),this.max.set(r,s,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Nt.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),zt.copy(e.boundingBox),zt.applyMatrix4(t.matrixWorld),this.union(zt));const n=t.children;for(let t=0,e=n.length;t<e;t++)this.expandByObject(n[t]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Nt),Nt.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(kt),Vt.subVectors(this.max,kt),Bt.subVectors(t.a,kt),Ft.subVectors(t.b,kt),Ot.subVectors(t.c,kt),Ut.subVectors(Ft,Bt),Ht.subVectors(Ot,Ft),Gt.subVectors(Bt,Ot);let e=[0,-Ut.z,Ut.y,0,-Ht.z,Ht.y,0,-Gt.z,Gt.y,Ut.z,0,-Ut.x,Ht.z,0,-Ht.x,Gt.z,0,-Gt.x,-Ut.y,Ut.x,0,-Ht.y,Ht.x,0,-Gt.y,Gt.x,0];return!!qt(e,Bt,Ft,Ot,Vt)&&(e=[1,0,0,0,1,0,0,0,1],!!qt(e,Bt,Ft,Ot,Vt)&&(Wt.crossVectors(Ut,Ht),e=[Wt.x,Wt.y,Wt.z],qt(e,Bt,Ft,Ot,Vt)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Nt.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(Nt).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(Dt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Dt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Dt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Dt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Dt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Dt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Dt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Dt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Dt)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}It.prototype.isBox3=!0;const Dt=[new Rt,new Rt,new Rt,new Rt,new Rt,new Rt,new Rt,new Rt],Nt=new Rt,zt=new It,Bt=new Rt,Ft=new Rt,Ot=new Rt,Ut=new Rt,Ht=new Rt,Gt=new Rt,kt=new Rt,Vt=new Rt,Wt=new Rt,jt=new Rt;function qt(t,e,n,i,r){for(let s=0,a=t.length-3;s<=a;s+=3){jt.fromArray(t,s);const a=r.x*Math.abs(jt.x)+r.y*Math.abs(jt.y)+r.z*Math.abs(jt.z),o=e.dot(jt),l=n.dot(jt),c=i.dot(jt);if(Math.max(-Math.max(o,l,c),Math.min(o,l,c))>a)return!1}return!0}const Xt=new It,Yt=new Rt,Jt=new Rt,Zt=new Rt;class Qt{constructor(t=new Rt,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):Xt.setFromPoints(t).getCenter(n);let i=0;for(let e=0,r=t.length;e<r;e++)i=Math.max(i,n.distanceToSquared(t[e]));return this.radius=Math.sqrt(i),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){Zt.subVectors(t,this.center);const e=Zt.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.add(Zt.multiplyScalar(n/t)),this.radius+=n}return this}union(t){return Jt.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(Yt.copy(t.center).add(Jt)),this.expandByPoint(Yt.copy(t.center).sub(Jt)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Kt=new Rt,$t=new Rt,te=new Rt,ee=new Rt,ne=new Rt,ie=new Rt,re=new Rt;class se{constructor(t=new Rt,e=new Rt(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Kt)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Kt.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Kt.copy(this.direction).multiplyScalar(e).add(this.origin),Kt.distanceToSquared(t))}distanceSqToSegment(t,e,n,i){$t.copy(t).add(e).multiplyScalar(.5),te.copy(e).sub(t).normalize(),ee.copy(this.origin).sub($t);const r=.5*t.distanceTo(e),s=-this.direction.dot(te),a=ee.dot(this.direction),o=-ee.dot(te),l=ee.lengthSq(),c=Math.abs(1-s*s);let h,u,d,p;if(c>0)if(h=s*o-a,u=s*a-o,p=r*c,h>=0)if(u>=-p)if(u<=p){const t=1/c;h*=t,u*=t,d=h*(h+s*u+2*a)+u*(s*h+u+2*o)+l}else u=r,h=Math.max(0,-(s*u+a)),d=-h*h+u*(u+2*o)+l;else u=-r,h=Math.max(0,-(s*u+a)),d=-h*h+u*(u+2*o)+l;else u<=-p?(h=Math.max(0,-(-s*r+a)),u=h>0?-r:Math.min(Math.max(-r,-o),r),d=-h*h+u*(u+2*o)+l):u<=p?(h=0,u=Math.min(Math.max(-r,-o),r),d=u*(u+2*o)+l):(h=Math.max(0,-(s*r+a)),u=h>0?r:Math.min(Math.max(-r,-o),r),d=-h*h+u*(u+2*o)+l);else u=s>0?-r:r,h=Math.max(0,-(s*u+a)),d=-h*h+u*(u+2*o)+l;return n&&n.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(te).multiplyScalar(u).add($t),d}intersectSphere(t,e){Kt.subVectors(t.center,this.origin);const n=Kt.dot(this.direction),i=Kt.dot(Kt)-n*n,r=t.radius*t.radius;if(i>r)return null;const s=Math.sqrt(r-i),a=n-s,o=n+s;return a<0&&o<0?null:a<0?this.at(o,e):this.at(a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;return t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,i,r,s,a,o;const l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,u=this.origin;return l>=0?(n=(t.min.x-u.x)*l,i=(t.max.x-u.x)*l):(n=(t.max.x-u.x)*l,i=(t.min.x-u.x)*l),c>=0?(r=(t.min.y-u.y)*c,s=(t.max.y-u.y)*c):(r=(t.max.y-u.y)*c,s=(t.min.y-u.y)*c),n>s||r>i?null:((r>n||n!=n)&&(n=r),(s<i||i!=i)&&(i=s),h>=0?(a=(t.min.z-u.z)*h,o=(t.max.z-u.z)*h):(a=(t.max.z-u.z)*h,o=(t.min.z-u.z)*h),n>o||a>i?null:((a>n||n!=n)&&(n=a),(o<i||i!=i)&&(i=o),i<0?null:this.at(n>=0?n:i,e)))}intersectsBox(t){return null!==this.intersectBox(t,Kt)}intersectTriangle(t,e,n,i,r){ne.subVectors(e,t),ie.subVectors(n,t),re.crossVectors(ne,ie);let s,a=this.direction.dot(re);if(a>0){if(i)return null;s=1}else{if(!(a<0))return null;s=-1,a=-a}ee.subVectors(this.origin,t);const o=s*this.direction.dot(ie.crossVectors(ee,ie));if(o<0)return null;const l=s*this.direction.dot(ne.cross(ee));if(l<0)return null;if(o+l>a)return null;const c=-s*ee.dot(re);return c<0?null:this.at(c/a,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class ae{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error(\"THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.\")}set(t,e,n,i,r,s,a,o,l,c,h,u,d,p,m,f){const g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=i,g[1]=r,g[5]=s,g[9]=a,g[13]=o,g[2]=l,g[6]=c,g[10]=h,g[14]=u,g[3]=d,g[7]=p,g[11]=m,g[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new ae).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,i=1/oe.setFromMatrixColumn(t,0).length(),r=1/oe.setFromMatrixColumn(t,1).length(),s=1/oe.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*s,e[9]=n[9]*s,e[10]=n[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error(\"THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.\");const e=this.elements,n=t.x,i=t.y,r=t.z,s=Math.cos(n),a=Math.sin(n),o=Math.cos(i),l=Math.sin(i),c=Math.cos(r),h=Math.sin(r);if(\"XYZ\"===t.order){const t=s*c,n=s*h,i=a*c,r=a*h;e[0]=o*c,e[4]=-o*h,e[8]=l,e[1]=n+i*l,e[5]=t-r*l,e[9]=-a*o,e[2]=r-t*l,e[6]=i+n*l,e[10]=s*o}else if(\"YXZ\"===t.order){const t=o*c,n=o*h,i=l*c,r=l*h;e[0]=t+r*a,e[4]=i*a-n,e[8]=s*l,e[1]=s*h,e[5]=s*c,e[9]=-a,e[2]=n*a-i,e[6]=r+t*a,e[10]=s*o}else if(\"ZXY\"===t.order){const t=o*c,n=o*h,i=l*c,r=l*h;e[0]=t-r*a,e[4]=-s*h,e[8]=i+n*a,e[1]=n+i*a,e[5]=s*c,e[9]=r-t*a,e[2]=-s*l,e[6]=a,e[10]=s*o}else if(\"ZYX\"===t.order){const t=s*c,n=s*h,i=a*c,r=a*h;e[0]=o*c,e[4]=i*l-n,e[8]=t*l+r,e[1]=o*h,e[5]=r*l+t,e[9]=n*l-i,e[2]=-l,e[6]=a*o,e[10]=s*o}else if(\"YZX\"===t.order){const t=s*o,n=s*l,i=a*o,r=a*l;e[0]=o*c,e[4]=r-t*h,e[8]=i*h+n,e[1]=h,e[5]=s*c,e[9]=-a*c,e[2]=-l*c,e[6]=n*h+i,e[10]=t-r*h}else if(\"XZY\"===t.order){const t=s*o,n=s*l,i=a*o,r=a*l;e[0]=o*c,e[4]=-h,e[8]=l*c,e[1]=t*h+r,e[5]=s*c,e[9]=n*h-i,e[2]=i*h-n,e[6]=a*c,e[10]=r*h+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(ce,t,he)}lookAt(t,e,n){const i=this.elements;return pe.subVectors(t,e),0===pe.lengthSq()&&(pe.z=1),pe.normalize(),ue.crossVectors(n,pe),0===ue.lengthSq()&&(1===Math.abs(n.z)?pe.x+=1e-4:pe.z+=1e-4,pe.normalize(),ue.crossVectors(n,pe)),ue.normalize(),de.crossVectors(pe,ue),i[0]=ue.x,i[4]=de.x,i[8]=pe.x,i[1]=ue.y,i[5]=de.y,i[9]=pe.y,i[2]=ue.z,i[6]=de.z,i[10]=pe.z,this}multiply(t,e){return void 0!==e?(console.warn(\"THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.\"),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,s=n[0],a=n[4],o=n[8],l=n[12],c=n[1],h=n[5],u=n[9],d=n[13],p=n[2],m=n[6],f=n[10],g=n[14],v=n[3],y=n[7],x=n[11],_=n[15],b=i[0],M=i[4],w=i[8],S=i[12],T=i[1],E=i[5],A=i[9],L=i[13],R=i[2],C=i[6],P=i[10],I=i[14],D=i[3],N=i[7],z=i[11],B=i[15];return r[0]=s*b+a*T+o*R+l*D,r[4]=s*M+a*E+o*C+l*N,r[8]=s*w+a*A+o*P+l*z,r[12]=s*S+a*L+o*I+l*B,r[1]=c*b+h*T+u*R+d*D,r[5]=c*M+h*E+u*C+d*N,r[9]=c*w+h*A+u*P+d*z,r[13]=c*S+h*L+u*I+d*B,r[2]=p*b+m*T+f*R+g*D,r[6]=p*M+m*E+f*C+g*N,r[10]=p*w+m*A+f*P+g*z,r[14]=p*S+m*L+f*I+g*B,r[3]=v*b+y*T+x*R+_*D,r[7]=v*M+y*E+x*C+_*N,r[11]=v*w+y*A+x*P+_*z,r[15]=v*S+y*L+x*I+_*B,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],s=t[1],a=t[5],o=t[9],l=t[13],c=t[2],h=t[6],u=t[10],d=t[14];return t[3]*(+r*o*h-i*l*h-r*a*u+n*l*u+i*a*d-n*o*d)+t[7]*(+e*o*d-e*l*u+r*s*u-i*s*d+i*l*c-r*o*c)+t[11]*(+e*l*h-e*a*d-r*s*h+n*s*d+r*a*c-n*l*c)+t[15]*(-i*a*c-e*o*h+e*a*u+i*s*h-n*s*u+n*o*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],l=t[7],c=t[8],h=t[9],u=t[10],d=t[11],p=t[12],m=t[13],f=t[14],g=t[15],v=h*f*l-m*u*l+m*o*d-a*f*d-h*o*g+a*u*g,y=p*u*l-c*f*l-p*o*d+s*f*d+c*o*g-s*u*g,x=c*m*l-p*h*l+p*a*d-s*m*d-c*a*g+s*h*g,_=p*h*o-c*m*o-p*a*u+s*m*u+c*a*f-s*h*f,b=e*v+n*y+i*x+r*_;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/b;return t[0]=v*M,t[1]=(m*u*r-h*f*r-m*i*d+n*f*d+h*i*g-n*u*g)*M,t[2]=(a*f*r-m*o*r+m*i*l-n*f*l-a*i*g+n*o*g)*M,t[3]=(h*o*r-a*u*r-h*i*l+n*u*l+a*i*d-n*o*d)*M,t[4]=y*M,t[5]=(c*f*r-p*u*r+p*i*d-e*f*d-c*i*g+e*u*g)*M,t[6]=(p*o*r-s*f*r-p*i*l+e*f*l+s*i*g-e*o*g)*M,t[7]=(s*u*r-c*o*r+c*i*l-e*u*l-s*i*d+e*o*d)*M,t[8]=x*M,t[9]=(p*h*r-c*m*r-p*n*d+e*m*d+c*n*g-e*h*g)*M,t[10]=(s*m*r-p*a*r+p*n*l-e*m*l-s*n*g+e*a*g)*M,t[11]=(c*a*r-s*h*r-c*n*l+e*h*l+s*n*d-e*a*d)*M,t[12]=_*M,t[13]=(c*m*i-p*h*i+p*n*u-e*m*u-c*n*f+e*h*f)*M,t[14]=(p*a*i-s*m*i-p*n*o+e*m*o+s*n*f-e*a*f)*M,t[15]=(s*h*i-c*a*i+c*n*o-e*h*o-s*n*u+e*a*u)*M,this}scale(t){const e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),i=Math.sin(e),r=1-n,s=t.x,a=t.y,o=t.z,l=r*s,c=r*a;return this.set(l*s+n,l*a-i*o,l*o+i*a,0,l*a+i*o,c*a+n,c*o-i*s,0,l*o-i*a,c*o+i*s,r*o*o+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,i,r,s){return this.set(1,n,r,0,t,1,s,0,e,i,1,0,0,0,0,1),this}compose(t,e,n){const i=this.elements,r=e._x,s=e._y,a=e._z,o=e._w,l=r+r,c=s+s,h=a+a,u=r*l,d=r*c,p=r*h,m=s*c,f=s*h,g=a*h,v=o*l,y=o*c,x=o*h,_=n.x,b=n.y,M=n.z;return i[0]=(1-(m+g))*_,i[1]=(d+x)*_,i[2]=(p-y)*_,i[3]=0,i[4]=(d-x)*b,i[5]=(1-(u+g))*b,i[6]=(f+v)*b,i[7]=0,i[8]=(p+y)*M,i[9]=(f-v)*M,i[10]=(1-(u+m))*M,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,n){const i=this.elements;let r=oe.set(i[0],i[1],i[2]).length();const s=oe.set(i[4],i[5],i[6]).length(),a=oe.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],le.copy(this);const o=1/r,l=1/s,c=1/a;return le.elements[0]*=o,le.elements[1]*=o,le.elements[2]*=o,le.elements[4]*=l,le.elements[5]*=l,le.elements[6]*=l,le.elements[8]*=c,le.elements[9]*=c,le.elements[10]*=c,e.setFromRotationMatrix(le),n.x=r,n.y=s,n.z=a,this}makePerspective(t,e,n,i,r,s){void 0===s&&console.warn(\"THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.\");const a=this.elements,o=2*r/(e-t),l=2*r/(n-i),c=(e+t)/(e-t),h=(n+i)/(n-i),u=-(s+r)/(s-r),d=-2*s*r/(s-r);return a[0]=o,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,n,i,r,s){const a=this.elements,o=1/(e-t),l=1/(n-i),c=1/(s-r),h=(e+t)*o,u=(n+i)*l,d=(s+r)*c;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}ae.prototype.isMatrix4=!0;const oe=new Rt,le=new ae,ce=new Rt(0,0,0),he=new Rt(1,1,1),ue=new Rt,de=new Rt,pe=new Rt,me=new ae,fe=new Lt;class ge{constructor(t=0,e=0,n=0,i=ge.DefaultOrder){this._x=t,this._y=e,this._z=n,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,i=this._order){return this._x=t,this._y=e,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const i=t.elements,r=i[0],s=i[4],a=i[8],o=i[1],l=i[5],c=i[9],h=i[2],u=i[6],d=i[10];switch(e){case\"XYZ\":this._y=Math.asin(ht(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-s,r)):(this._x=Math.atan2(u,l),this._z=0);break;case\"YXZ\":this._x=Math.asin(-ht(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-h,r),this._z=0);break;case\"ZXY\":this._x=Math.asin(ht(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(o,r));break;case\"ZYX\":this._y=Math.asin(-ht(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(u,d),this._z=Math.atan2(o,r)):(this._x=0,this._z=Math.atan2(-s,l));break;case\"YZX\":this._z=Math.asin(ht(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,r)):(this._x=0,this._y=Math.atan2(a,d));break;case\"XZY\":this._z=Math.asin(-ht(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(u,l),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn(\"THREE.Euler: .setFromRotationMatrix() encountered an unknown order: \"+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return me.makeRotationFromQuaternion(t),this.setFromRotationMatrix(me,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return fe.setFromEuler(this),this.setFromQuaternion(fe,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new Rt(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}ge.prototype.isEuler=!0,ge.DefaultOrder=\"XYZ\",ge.RotationOrders=[\"XYZ\",\"YZX\",\"ZXY\",\"XZY\",\"YXZ\",\"ZYX\"];class ve{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}}let ye=0;const xe=new Rt,_e=new Lt,be=new ae,Me=new Rt,we=new Rt,Se=new Rt,Te=new Lt,Ee=new Rt(1,0,0),Ae=new Rt(0,1,0),Le=new Rt(0,0,1),Re={type:\"added\"},Ce={type:\"removed\"};class Pe extends rt{constructor(){super(),Object.defineProperty(this,\"id\",{value:ye++}),this.uuid=ct(),this.name=\"\",this.type=\"Object3D\",this.parent=null,this.children=[],this.up=Pe.DefaultUp.clone();const t=new Rt,e=new ge,n=new Lt,i=new Rt(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ae},normalMatrix:{value:new yt}}),this.matrix=new ae,this.matrixWorld=new ae,this.matrixAutoUpdate=Pe.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ve,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return _e.setFromAxisAngle(t,e),this.quaternion.multiply(_e),this}rotateOnWorldAxis(t,e){return _e.setFromAxisAngle(t,e),this.quaternion.premultiply(_e),this}rotateX(t){return this.rotateOnAxis(Ee,t)}rotateY(t){return this.rotateOnAxis(Ae,t)}rotateZ(t){return this.rotateOnAxis(Le,t)}translateOnAxis(t,e){return xe.copy(t).applyQuaternion(this.quaternion),this.position.add(xe.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Ee,t)}translateY(t){return this.translateOnAxis(Ae,t)}translateZ(t){return this.translateOnAxis(Le,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(be.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?Me.copy(t):Me.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),we.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?be.lookAt(we,Me,this.up):be.lookAt(Me,we,this.up),this.quaternion.setFromRotationMatrix(be),i&&(be.extractRotation(i.matrixWorld),_e.setFromRotationMatrix(be),this.quaternion.premultiply(_e.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error(\"THREE.Object3D.add: object can't be added as a child of itself.\",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Re)):console.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Ce)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(Ce)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),be.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),be.multiply(t.parent.matrixWorld)),t.applyMatrix4(be),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty(\"id\",t)}getObjectByName(t){return this.getObjectByProperty(\"name\",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(we,t,Se),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(we,Te,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}}toJSON(t){const e=void 0===t||\"string\"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:\"Object\",generator:\"Object3D.toJSON\"});const i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,\"\"!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),\"{}\"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type=\"InstancedMesh\",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const i=n[e];r(t.shapes,i)}else r(t.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,i=this.material.length;n<i;n++)e.push(r(t.materials,this.material[n]));i.material=e}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(let e=0;e<this.children.length;e++)i.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];i.animations.push(r(t.animations,n))}}if(e){const e=s(t.geometries),i=s(t.materials),r=s(t.textures),a=s(t.images),o=s(t.shapes),l=s(t.skeletons),c=s(t.animations);e.length>0&&(n.geometries=e),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),a.length>0&&(n.images=a),o.length>0&&(n.shapes=o),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c)}return n.object=i,n;function s(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const n=t.children[e];this.add(n.clone())}return this}}Pe.DefaultUp=new Rt(0,1,0),Pe.DefaultMatrixAutoUpdate=!0,Pe.prototype.isObject3D=!0;const Ie=new Rt,De=new Rt,Ne=new Rt,ze=new Rt,Be=new Rt,Fe=new Rt,Oe=new Rt,Ue=new Rt,He=new Rt,Ge=new Rt;class ke{constructor(t=new Rt,e=new Rt,n=new Rt){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,i){i.subVectors(n,e),Ie.subVectors(t,e),i.cross(Ie);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(t,e,n,i,r){Ie.subVectors(i,e),De.subVectors(n,e),Ne.subVectors(t,e);const s=Ie.dot(Ie),a=Ie.dot(De),o=Ie.dot(Ne),l=De.dot(De),c=De.dot(Ne),h=s*l-a*a;if(0===h)return r.set(-2,-1,-1);const u=1/h,d=(l*o-a*c)*u,p=(s*c-a*o)*u;return r.set(1-d-p,p,d)}static containsPoint(t,e,n,i){return this.getBarycoord(t,e,n,i,ze),ze.x>=0&&ze.y>=0&&ze.x+ze.y<=1}static getUV(t,e,n,i,r,s,a,o){return this.getBarycoord(t,e,n,i,ze),o.set(0,0),o.addScaledVector(r,ze.x),o.addScaledVector(s,ze.y),o.addScaledVector(a,ze.z),o}static isFrontFacing(t,e,n,i){return Ie.subVectors(n,e),De.subVectors(t,e),Ie.cross(De).dot(i)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Ie.subVectors(this.c,this.b),De.subVectors(this.a,this.b),.5*Ie.cross(De).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return ke.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return ke.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,i,r){return ke.getUV(t,this.a,this.b,this.c,e,n,i,r)}containsPoint(t){return ke.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return ke.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,i=this.b,r=this.c;let s,a;Be.subVectors(i,n),Fe.subVectors(r,n),Ue.subVectors(t,n);const o=Be.dot(Ue),l=Fe.dot(Ue);if(o<=0&&l<=0)return e.copy(n);He.subVectors(t,i);const c=Be.dot(He),h=Fe.dot(He);if(c>=0&&h<=c)return e.copy(i);const u=o*h-c*l;if(u<=0&&o>=0&&c<=0)return s=o/(o-c),e.copy(n).addScaledVector(Be,s);Ge.subVectors(t,r);const d=Be.dot(Ge),p=Fe.dot(Ge);if(p>=0&&d<=p)return e.copy(r);const m=d*l-o*p;if(m<=0&&l>=0&&p<=0)return a=l/(l-p),e.copy(n).addScaledVector(Fe,a);const f=c*p-d*h;if(f<=0&&h-c>=0&&d-p>=0)return Oe.subVectors(r,i),a=(h-c)/(h-c+(d-p)),e.copy(i).addScaledVector(Oe,a);const g=1/(f+m+u);return s=m*g,a=u*g,e.copy(n).addScaledVector(Be,s).addScaledVector(Fe,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let Ve=0;class We extends rt{constructor(){super(),Object.defineProperty(this,\"id\",{value:Ve++}),this.uuid=ct(),this.name=\"\",this.type=\"Material\",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.format=E,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=n,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=tt,this.stencilZFail=tt,this.stencilZPass=tt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn(\"THREE.Material: '\"+e+\"' parameter is undefined.\");continue}if(\"shading\"===e){console.warn(\"THREE.\"+this.type+\": .shading has been removed. Use the boolean .flatShading instead.\"),this.flatShading=1===n;continue}const i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn(\"THREE.\"+this.type+\": '\"+e+\"' is not a property of this material.\")}}toJSON(t){const e=void 0===t||\"string\"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:\"Material\",generator:\"Material.toJSON\"}};function i(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,\"\"!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheenTint&&this.sheenTint.isColor&&(n.sheenTint=this.sheenTint.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularTint&&this.specularTint.isColor&&(n.specularTint=this.specularTint.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularTintMap&&this.specularTintMap.isTexture&&(n.specularTintMap=this.specularTintMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationTint&&(n.attenuationTint=this.attenuationTint.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.format!==E&&(n.format=this.format),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),\"round\"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),\"round\"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),\"{}\"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const e=i(t.textures),r=i(t.images);e.length>0&&(n.textures=e),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.format=t.format,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let i=0;i!==t;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:\"dispose\"})}set needsUpdate(t){!0===t&&this.version++}}We.prototype.isMaterial=!0;const je={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},qe={h:0,s:0,l:0},Xe={h:0,s:0,l:0};function Ye(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function Je(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Ze(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class Qe{constructor(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}set(t){return t&&t.isColor?this.copy(t):\"number\"==typeof t?this.setHex(t):\"string\"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,n){return this.r=t,this.g=e,this.b=n,this}setHSL(t,e,n){if(t=ut(t,1),e=ht(e,0,1),n=ht(n,0,1),0===e)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=Ye(r,i,t+1/3),this.g=Ye(r,i,t),this.b=Ye(r,i,t-1/3)}return this}setStyle(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn(\"THREE.Color: Alpha component of \"+t+\" will be ignored.\")}let n;if(n=/^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec(t)){let t;const i=n[1],r=n[2];switch(i){case\"rgb\":case\"rgba\":if(t=/^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[4]),this;if(t=/^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[4]),this;break;case\"hsl\":case\"hsla\":if(t=/^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec(r)){const n=parseFloat(t[1])/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100;return e(t[4]),this.setHSL(n,i,r)}}}else if(n=/^\\#([A-Fa-f\\d]+)$/.exec(t)){const t=n[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=je[t.toLowerCase()];return void 0!==e?this.setHex(e):console.warn(\"THREE.Color: Unknown color \"+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=Je(t.r),this.g=Je(t.g),this.b=Je(t.b),this}copyLinearToSRGB(t){return this.r=Ze(t.r),this.g=Ze(t.g),this.b=Ze(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return(\"000000\"+this.getHex().toString(16)).slice(-6)}getHSL(t){const e=this.r,n=this.g,i=this.b,r=Math.max(e,n,i),s=Math.min(e,n,i);let a,o;const l=(s+r)/2;if(s===r)a=0,o=0;else{const t=r-s;switch(o=l<=.5?t/(r+s):t/(2-r-s),r){case e:a=(n-i)/t+(n<i?6:0);break;case n:a=(i-e)/t+2;break;case i:a=(e-n)/t+4}a/=6}return t.h=a,t.s=o,t.l=l,t}getStyle(){return\"rgb(\"+(255*this.r|0)+\",\"+(255*this.g|0)+\",\"+(255*this.b|0)+\")\"}offsetHSL(t,e,n){return this.getHSL(qe),qe.h+=t,qe.s+=e,qe.l+=n,this.setHSL(qe.h,qe.s,qe.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(qe),t.getHSL(Xe);const n=dt(qe.h,Xe.h,e),i=dt(qe.s,Xe.s,e),r=dt(qe.l,Xe.l,e);return this.setHSL(n,i,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Qe.NAMES=je,Qe.prototype.isColor=!0,Qe.prototype.r=1,Qe.prototype.g=1,Qe.prototype.b=1;class Ke extends We{constructor(t){super(),this.type=\"MeshBasicMaterial\",this.color=new Qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}Ke.prototype.isMeshBasicMaterial=!0;const $e=new Rt,tn=new vt;class en{constructor(t,e,n){if(Array.isArray(t))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");this.name=\"\",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=et,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn(\"THREE.BufferAttribute.copyColorsArray(): color is undefined\",i),r=new Qe),e[n++]=r.r,e[n++]=r.g,e[n++]=r.b}return this}copyVector2sArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn(\"THREE.BufferAttribute.copyVector2sArray(): vector is undefined\",i),r=new vt),e[n++]=r.x,e[n++]=r.y}return this}copyVector3sArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn(\"THREE.BufferAttribute.copyVector3sArray(): vector is undefined\",i),r=new Rt),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z}return this}copyVector4sArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn(\"THREE.BufferAttribute.copyVector4sArray(): vector is undefined\",i),r=new St),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z,e[n++]=r.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)tn.fromBufferAttribute(this,e),tn.applyMatrix3(t),this.setXY(e,tn.x,tn.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)$e.fromBufferAttribute(this,e),$e.applyMatrix3(t),this.setXYZ(e,$e.x,$e.y,$e.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)$e.x=this.getX(e),$e.y=this.getY(e),$e.z=this.getZ(e),$e.applyMatrix4(t),this.setXYZ(e,$e.x,$e.y,$e.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)$e.x=this.getX(e),$e.y=this.getY(e),$e.z=this.getZ(e),$e.applyNormalMatrix(t),this.setXYZ(e,$e.x,$e.y,$e.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)$e.x=this.getX(e),$e.y=this.getY(e),$e.z=this.getZ(e),$e.transformDirection(t),this.setXYZ(e,$e.x,$e.y,$e.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this}setXYZW(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return\"\"!==this.name&&(t.name=this.name),this.usage!==et&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}}en.prototype.isBufferAttribute=!0;class nn extends en{constructor(t,e,n){super(new Int8Array(t),e,n)}}class rn extends en{constructor(t,e,n){super(new Uint8Array(t),e,n)}}class sn extends en{constructor(t,e,n){super(new Uint8ClampedArray(t),e,n)}}class an extends en{constructor(t,e,n){super(new Int16Array(t),e,n)}}class on extends en{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class ln extends en{constructor(t,e,n){super(new Int32Array(t),e,n)}}class cn extends en{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class hn extends en{constructor(t,e,n){super(new Uint16Array(t),e,n)}}hn.prototype.isFloat16BufferAttribute=!0;class un extends en{constructor(t,e,n){super(new Float32Array(t),e,n)}}class dn extends en{constructor(t,e,n){super(new Float64Array(t),e,n)}}function pn(t){if(0===t.length)return-1/0;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}const mn={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function fn(t,e){return new mn[t](e)}let gn=0;const vn=new ae,yn=new Pe,xn=new Rt,_n=new It,bn=new It,Mn=new Rt;class wn extends rt{constructor(){super(),Object.defineProperty(this,\"id\",{value:gn++}),this.uuid=ct(),this.name=\"\",this.type=\"BufferGeometry\",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(pn(t)>65535?cn:on)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new yt).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(t),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return vn.makeRotationFromQuaternion(t),this.applyMatrix4(vn),this}rotateX(t){return vn.makeRotationX(t),this.applyMatrix4(vn),this}rotateY(t){return vn.makeRotationY(t),this.applyMatrix4(vn),this}rotateZ(t){return vn.makeRotationZ(t),this.applyMatrix4(vn),this}translate(t,e,n){return vn.makeTranslation(t,e,n),this.applyMatrix4(vn),this}scale(t,e,n){return vn.makeScale(t,e,n),this.applyMatrix4(vn),this}lookAt(t){return yn.lookAt(t),yn.updateMatrix(),this.applyMatrix4(yn.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(xn).negate(),this.translate(xn.x,xn.y,xn.z),this}setFromPoints(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(i.x,i.y,i.z||0)}return this.setAttribute(\"position\",new un(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new It);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".',this),void this.boundingBox.set(new Rt(-1/0,-1/0,-1/0),new Rt(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];_n.setFromBufferAttribute(n),this.morphTargetsRelative?(Mn.addVectors(this.boundingBox.min,_n.min),this.boundingBox.expandByPoint(Mn),Mn.addVectors(this.boundingBox.max,_n.max),this.boundingBox.expandByPoint(Mn)):(this.boundingBox.expandByPoint(_n.min),this.boundingBox.expandByPoint(_n.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Qt);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".',this),void this.boundingSphere.set(new Rt,1/0);if(t){const n=this.boundingSphere.center;if(_n.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];bn.setFromBufferAttribute(n),this.morphTargetsRelative?(Mn.addVectors(_n.min,bn.min),_n.expandByPoint(Mn),Mn.addVectors(_n.max,bn.max),_n.expandByPoint(Mn)):(_n.expandByPoint(bn.min),_n.expandByPoint(bn.max))}_n.getCenter(n);let i=0;for(let e=0,r=t.count;e<r;e++)Mn.fromBufferAttribute(t,e),i=Math.max(i,n.distanceToSquared(Mn));if(e)for(let r=0,s=e.length;r<s;r++){const s=e[r],a=this.morphTargetsRelative;for(let e=0,r=s.count;e<r;e++)Mn.fromBufferAttribute(s,e),a&&(xn.fromBufferAttribute(t,e),Mn.add(xn)),i=Math.max(i,n.distanceToSquared(Mn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error(\"THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)\");const n=t.array,i=e.position.array,r=e.normal.array,s=e.uv.array,a=i.length/3;void 0===e.tangent&&this.setAttribute(\"tangent\",new en(new Float32Array(4*a),4));const o=e.tangent.array,l=[],c=[];for(let t=0;t<a;t++)l[t]=new Rt,c[t]=new Rt;const h=new Rt,u=new Rt,d=new Rt,p=new vt,m=new vt,f=new vt,g=new Rt,v=new Rt;function y(t,e,n){h.fromArray(i,3*t),u.fromArray(i,3*e),d.fromArray(i,3*n),p.fromArray(s,2*t),m.fromArray(s,2*e),f.fromArray(s,2*n),u.sub(h),d.sub(h),m.sub(p),f.sub(p);const r=1/(m.x*f.y-f.x*m.y);isFinite(r)&&(g.copy(u).multiplyScalar(f.y).addScaledVector(d,-m.y).multiplyScalar(r),v.copy(d).multiplyScalar(m.x).addScaledVector(u,-f.x).multiplyScalar(r),l[t].add(g),l[e].add(g),l[n].add(g),c[t].add(v),c[e].add(v),c[n].add(v))}let x=this.groups;0===x.length&&(x=[{start:0,count:n.length}]);for(let t=0,e=x.length;t<e;++t){const e=x[t],i=e.start;for(let t=i,r=i+e.count;t<r;t+=3)y(n[t+0],n[t+1],n[t+2])}const _=new Rt,b=new Rt,M=new Rt,w=new Rt;function S(t){M.fromArray(r,3*t),w.copy(M);const e=l[t];_.copy(e),_.sub(M.multiplyScalar(M.dot(e))).normalize(),b.crossVectors(w,e);const n=b.dot(c[t])<0?-1:1;o[4*t]=_.x,o[4*t+1]=_.y,o[4*t+2]=_.z,o[4*t+3]=n}for(let t=0,e=x.length;t<e;++t){const e=x[t],i=e.start;for(let t=i,r=i+e.count;t<r;t+=3)S(n[t+0]),S(n[t+1]),S(n[t+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute(\"position\");if(void 0!==e){let n=this.getAttribute(\"normal\");if(void 0===n)n=new en(new Float32Array(3*e.count),3),this.setAttribute(\"normal\",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const i=new Rt,r=new Rt,s=new Rt,a=new Rt,o=new Rt,l=new Rt,c=new Rt,h=new Rt;if(t)for(let u=0,d=t.count;u<d;u+=3){const d=t.getX(u+0),p=t.getX(u+1),m=t.getX(u+2);i.fromBufferAttribute(e,d),r.fromBufferAttribute(e,p),s.fromBufferAttribute(e,m),c.subVectors(s,r),h.subVectors(i,r),c.cross(h),a.fromBufferAttribute(n,d),o.fromBufferAttribute(n,p),l.fromBufferAttribute(n,m),a.add(c),o.add(c),l.add(c),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(p,o.x,o.y,o.z),n.setXYZ(m,l.x,l.y,l.z)}else for(let t=0,a=e.count;t<a;t+=3)i.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),s.fromBufferAttribute(e,t+2),c.subVectors(s,r),h.subVectors(i,r),c.cross(h),n.setXYZ(t+0,c.x,c.y,c.z),n.setXYZ(t+1,c.x,c.y,c.z),n.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void console.error(\"THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.\",t);void 0===e&&(e=0,console.warn(\"THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.\"));const n=this.attributes;for(const i in n){if(void 0===t.attributes[i])continue;const r=n[i].array,s=t.attributes[i],a=s.array,o=s.itemSize*e,l=Math.min(a.length,r.length-o);for(let t=0,e=o;t<l;t++,e++)r[e]=a[t]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Mn.fromBufferAttribute(t,e),Mn.normalize(),t.setXYZ(e,Mn.x,Mn.y,Mn.z)}toNonIndexed(){function t(t,e){const n=t.array,i=t.itemSize,r=t.normalized,s=new n.constructor(e.length*i);let a=0,o=0;for(let r=0,l=e.length;r<l;r++){a=t.isInterleavedBufferAttribute?e[r]*t.data.stride+t.offset:e[r]*i;for(let t=0;t<i;t++)s[o++]=n[a++]}return new en(s,i,r)}if(null===this.index)return console.warn(\"THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.\"),this;const e=new wn,n=this.index.array,i=this.attributes;for(const r in i){const s=t(i[r],n);e.setAttribute(r,s)}const r=this.morphAttributes;for(const i in r){const s=[],a=r[i];for(let e=0,i=a.length;e<i;e++){const i=t(a[e],n);s.push(i)}e.morphAttributes[i]=s}e.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let t=0,n=s.length;t<n;t++){const n=s[t];e.addGroup(n.start,n.count,n.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:\"BufferGeometry\",generator:\"BufferGeometry.toJSON\"}};if(t.uuid=this.uuid,t.type=this.type,\"\"!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const e in n){const i=n[e];t.data.attributes[e]=i.toJSON(t.data)}const i={};let r=!1;for(const e in this.morphAttributes){const n=this.morphAttributes[e],s=[];for(let e=0,i=n.length;e<i;e++){const i=n[e];s.push(i.toJSON(t.data))}s.length>0&&(i[e]=s,r=!0)}r&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return(new wn).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const i=t.attributes;for(const t in i){const n=i[t];this.setAttribute(t,n.clone(e))}const r=t.morphAttributes;for(const t in r){const n=[],i=r[t];for(let t=0,r=i.length;t<r;t++)n.push(i[t].clone(e));this.morphAttributes[t]=n}this.morphTargetsRelative=t.morphTargetsRelative;const s=t.groups;for(let t=0,e=s.length;t<e;t++){const e=s[t];this.addGroup(e.start,e.count,e.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const o=t.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:\"dispose\"})}}wn.prototype.isBufferGeometry=!0;const Sn=new ae,Tn=new se,En=new Qt,An=new Rt,Ln=new Rt,Rn=new Rt,Cn=new Rt,Pn=new Rt,In=new Rt,Dn=new Rt,Nn=new Rt,zn=new Rt,Bn=new vt,Fn=new vt,On=new vt,Un=new Rt,Hn=new Rt;class Gn extends Pe{constructor(t=new wn,e=new Ke){super(),this.type=\"Mesh\",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error(\"THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\")}}raycast(t,e){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),En.copy(n.boundingSphere),En.applyMatrix4(r),!1===t.ray.intersectsSphere(En))return;if(Sn.copy(r).invert(),Tn.copy(t.ray).applyMatrix4(Sn),null!==n.boundingBox&&!1===Tn.intersectsBox(n.boundingBox))return;let s;if(n.isBufferGeometry){const r=n.index,a=n.attributes.position,o=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,h=n.attributes.uv2,u=n.groups,d=n.drawRange;if(null!==r)if(Array.isArray(i))for(let n=0,p=u.length;n<p;n++){const p=u[n],m=i[p.materialIndex];for(let n=Math.max(p.start,d.start),i=Math.min(p.start+p.count,d.start+d.count);n<i;n+=3){const i=r.getX(n),u=r.getX(n+1),d=r.getX(n+2);s=kn(this,m,t,Tn,a,o,l,c,h,i,u,d),s&&(s.faceIndex=Math.floor(n/3),s.face.materialIndex=p.materialIndex,e.push(s))}}else{for(let n=Math.max(0,d.start),u=Math.min(r.count,d.start+d.count);n<u;n+=3){const u=r.getX(n),d=r.getX(n+1),p=r.getX(n+2);s=kn(this,i,t,Tn,a,o,l,c,h,u,d,p),s&&(s.faceIndex=Math.floor(n/3),e.push(s))}}else if(void 0!==a)if(Array.isArray(i))for(let n=0,r=u.length;n<r;n++){const r=u[n],p=i[r.materialIndex];for(let n=Math.max(r.start,d.start),i=Math.min(r.start+r.count,d.start+d.count);n<i;n+=3){s=kn(this,p,t,Tn,a,o,l,c,h,n,n+1,n+2),s&&(s.faceIndex=Math.floor(n/3),s.face.materialIndex=r.materialIndex,e.push(s))}}else{for(let n=Math.max(0,d.start),r=Math.min(a.count,d.start+d.count);n<r;n+=3){s=kn(this,i,t,Tn,a,o,l,c,h,n,n+1,n+2),s&&(s.faceIndex=Math.floor(n/3),e.push(s))}}}else n.isGeometry&&console.error(\"THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\")}}function kn(t,e,n,i,r,s,a,o,l,c,h,u){An.fromBufferAttribute(r,c),Ln.fromBufferAttribute(r,h),Rn.fromBufferAttribute(r,u);const d=t.morphTargetInfluences;if(s&&d){Dn.set(0,0,0),Nn.set(0,0,0),zn.set(0,0,0);for(let t=0,e=s.length;t<e;t++){const e=d[t],n=s[t];0!==e&&(Cn.fromBufferAttribute(n,c),Pn.fromBufferAttribute(n,h),In.fromBufferAttribute(n,u),a?(Dn.addScaledVector(Cn,e),Nn.addScaledVector(Pn,e),zn.addScaledVector(In,e)):(Dn.addScaledVector(Cn.sub(An),e),Nn.addScaledVector(Pn.sub(Ln),e),zn.addScaledVector(In.sub(Rn),e)))}An.add(Dn),Ln.add(Nn),Rn.add(zn)}t.isSkinnedMesh&&(t.boneTransform(c,An),t.boneTransform(h,Ln),t.boneTransform(u,Rn));const p=function(t,e,n,i,r,s,a,o){let l;if(l=1===e.side?i.intersectTriangle(a,s,r,!0,o):i.intersectTriangle(r,s,a,2!==e.side,o),null===l)return null;Hn.copy(o),Hn.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Hn);return c<n.near||c>n.far?null:{distance:c,point:Hn.clone(),object:t}}(t,e,n,i,An,Ln,Rn,Un);if(p){o&&(Bn.fromBufferAttribute(o,c),Fn.fromBufferAttribute(o,h),On.fromBufferAttribute(o,u),p.uv=ke.getUV(Un,An,Ln,Rn,Bn,Fn,On,new vt)),l&&(Bn.fromBufferAttribute(l,c),Fn.fromBufferAttribute(l,h),On.fromBufferAttribute(l,u),p.uv2=ke.getUV(Un,An,Ln,Rn,Bn,Fn,On,new vt));const t={a:c,b:h,c:u,normal:new Rt,materialIndex:0};ke.getNormal(An,Ln,Rn,t.normal),p.face=t}return p}Gn.prototype.isMesh=!0;class Vn extends wn{constructor(t=1,e=1,n=1,i=1,r=1,s=1){super(),this.type=\"BoxGeometry\",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:s};const a=this;i=Math.floor(i),r=Math.floor(r),s=Math.floor(s);const o=[],l=[],c=[],h=[];let u=0,d=0;function p(t,e,n,i,r,s,p,m,f,g,v){const y=s/f,x=p/g,_=s/2,b=p/2,M=m/2,w=f+1,S=g+1;let T=0,E=0;const A=new Rt;for(let s=0;s<S;s++){const a=s*x-b;for(let o=0;o<w;o++){const u=o*y-_;A[t]=u*i,A[e]=a*r,A[n]=M,l.push(A.x,A.y,A.z),A[t]=0,A[e]=0,A[n]=m>0?1:-1,c.push(A.x,A.y,A.z),h.push(o/f),h.push(1-s/g),T+=1}}for(let t=0;t<g;t++)for(let e=0;e<f;e++){const n=u+e+w*t,i=u+e+w*(t+1),r=u+(e+1)+w*(t+1),s=u+(e+1)+w*t;o.push(n,i,s),o.push(i,r,s),E+=6}a.addGroup(d,E,v),d+=E,u+=T}p(\"z\",\"y\",\"x\",-1,-1,n,e,t,s,r,0),p(\"z\",\"y\",\"x\",1,-1,n,e,-t,s,r,1),p(\"x\",\"z\",\"y\",1,1,t,n,e,i,s,2),p(\"x\",\"z\",\"y\",1,-1,t,n,-e,i,s,3),p(\"x\",\"y\",\"z\",1,-1,t,e,n,i,r,4),p(\"x\",\"y\",\"z\",-1,-1,t,e,-n,i,r,5),this.setIndex(o),this.setAttribute(\"position\",new un(l,3)),this.setAttribute(\"normal\",new un(c,3)),this.setAttribute(\"uv\",new un(h,2))}static fromJSON(t){return new Vn(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Wn(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function jn(t){const e={};for(let n=0;n<t.length;n++){const i=Wn(t[n]);for(const t in i)e[t]=i[t]}return e}const qn={clone:Wn,merge:jn};class Xn extends We{constructor(t){super(),this.type=\"ShaderMaterial\",this.defines={},this.uniforms={},this.vertexShader=\"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\",this.fragmentShader=\"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error(\"THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.\"),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Wn(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const i=this.uniforms[n].value;i&&i.isTexture?e.uniforms[n]={type:\"t\",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[n]={type:\"c\",value:i.getHex()}:i&&i.isVector2?e.uniforms[n]={type:\"v2\",value:i.toArray()}:i&&i.isVector3?e.uniforms[n]={type:\"v3\",value:i.toArray()}:i&&i.isVector4?e.uniforms[n]={type:\"v4\",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[n]={type:\"m3\",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[n]={type:\"m4\",value:i.toArray()}:e.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const t in this.extensions)!0===this.extensions[t]&&(n[t]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}Xn.prototype.isShaderMaterial=!0;class Yn extends Pe{constructor(){super(),this.type=\"Camera\",this.matrixWorldInverse=new ae,this.projectionMatrix=new ae,this.projectionMatrixInverse=new ae}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}Yn.prototype.isCamera=!0;class Jn extends Yn{constructor(t=50,e=1,n=.1,i=2e3){super(),this.type=\"PerspectiveCamera\",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*lt*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*ot*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*lt*Math.atan(Math.tan(.5*ot*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,i,r,s){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*ot*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i;const s=this.view;if(null!==this.view&&this.view.enabled){const t=s.fullWidth,a=s.fullHeight;r+=s.offsetX*i/t,e-=s.offsetY*n/a,i*=s.width/t,n*=s.height/a}const a=this.filmOffset;0!==a&&(r+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}Jn.prototype.isPerspectiveCamera=!0;const Zn=90;class Qn extends Pe{constructor(t,e,n){if(super(),this.type=\"CubeCamera\",!0!==n.isWebGLCubeRenderTarget)return void console.error(\"THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.\");this.renderTarget=n;const i=new Jn(Zn,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Rt(1,0,0)),this.add(i);const r=new Jn(Zn,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Rt(-1,0,0)),this.add(r);const s=new Jn(Zn,1,t,e);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new Rt(0,1,0)),this.add(s);const a=new Jn(Zn,1,t,e);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Rt(0,-1,0)),this.add(a);const o=new Jn(Zn,1,t,e);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new Rt(0,0,1)),this.add(o);const l=new Jn(Zn,1,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Rt(0,0,-1)),this.add(l)}update(t,e){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[i,r,s,a,o,l]=this.children,c=t.xr.enabled,h=t.getRenderTarget();t.xr.enabled=!1;const u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,i),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,s),t.setRenderTarget(n,3),t.render(e,a),t.setRenderTarget(n,4),t.render(e,o),n.texture.generateMipmaps=u,t.setRenderTarget(n,5),t.render(e,l),t.setRenderTarget(h),t.xr.enabled=c}}class Kn extends Mt{constructor(t,e,n,i,s,a,o,l,c,h){super(t=void 0!==t?t:[],e=void 0!==e?e:r,n,i,s,a,o=void 0!==o?o:T,l,c,h),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}Kn.prototype.isCubeTexture=!0;class $n extends Tt{constructor(t,e,n){Number.isInteger(e)&&(console.warn(\"THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )\"),e=n),super(t,t,e),e=e||{},this.texture=new Kn(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:g,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.format=E,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:\"\\n\\n\\t\\t\\t\\tvarying vec3 vWorldDirection;\\n\\n\\t\\t\\t\\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\n\\t\\t\\t\\t\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\t\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\n\\t\\t\\t\\t\\t#include <begin_vertex>\\n\\t\\t\\t\\t\\t#include <project_vertex>\\n\\n\\t\\t\\t\\t}\\n\\t\\t\\t\",fragmentShader:\"\\n\\n\\t\\t\\t\\tuniform sampler2D tEquirect;\\n\\n\\t\\t\\t\\tvarying vec3 vWorldDirection;\\n\\n\\t\\t\\t\\t#include <common>\\n\\n\\t\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\t\\tvec3 direction = normalize( vWorldDirection );\\n\\n\\t\\t\\t\\t\\tvec2 sampleUV = equirectUv( direction );\\n\\n\\t\\t\\t\\t\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n\\n\\t\\t\\t\\t}\\n\\t\\t\\t\"},i=new Vn(5,5,5),r=new Xn({name:\"CubemapFromEquirect\",uniforms:Wn(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=e;const s=new Gn(i,r),a=e.minFilter;e.minFilter===y&&(e.minFilter=g);return new Qn(1,10,this).update(t,s),e.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(t,e,n,i){const r=t.getRenderTarget();for(let r=0;r<6;r++)t.setRenderTarget(this,r),t.clear(e,n,i);t.setRenderTarget(r)}}$n.prototype.isWebGLCubeRenderTarget=!0;const ti=new Rt,ei=new Rt,ni=new yt;class ii{constructor(t=new Rt(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const i=ti.subVectors(n,e).cross(ei.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const n=t.delta(ti),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:e.copy(n).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||ni.getNormalMatrix(t),i=this.coplanarPoint(ti).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}ii.prototype.isPlane=!0;const ri=new Qt,si=new Rt;class ai{constructor(t=new ii,e=new ii,n=new ii,i=new ii,r=new ii,s=new ii){this.planes=[t,e,n,i,r,s]}set(t,e,n,i,r,s){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(s),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,i=n[0],r=n[1],s=n[2],a=n[3],o=n[4],l=n[5],c=n[6],h=n[7],u=n[8],d=n[9],p=n[10],m=n[11],f=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(a-i,h-o,m-u,y-f).normalize(),e[1].setComponents(a+i,h+o,m+u,y+f).normalize(),e[2].setComponents(a+r,h+l,m+d,y+g).normalize(),e[3].setComponents(a-r,h-l,m-d,y-g).normalize(),e[4].setComponents(a-s,h-c,m-p,y-v).normalize(),e[5].setComponents(a+s,h+c,m+p,y+v).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),ri.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(ri)}intersectsSprite(t){return ri.center.set(0,0,0),ri.radius=.7071067811865476,ri.applyMatrix4(t.matrixWorld),this.intersectsSphere(ri)}intersectsSphere(t){const e=this.planes,n=t.center,i=-t.radius;for(let t=0;t<6;t++){if(e[t].distanceToPoint(n)<i)return!1}return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const i=e[n];if(si.x=i.normal.x>0?t.max.x:t.min.x,si.y=i.normal.y>0?t.max.y:t.min.y,si.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(si)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function oi(){let t=null,e=!1,n=null,i=null;function r(e,s){n(e,s),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function li(t,e){const n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){const t=i.get(e);return void((!t||t.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const s=i.get(e);void 0===s?i.set(e,function(e,i){const r=e.array,s=e.usage,a=t.createBuffer();t.bindBuffer(i,a),t.bufferData(i,r,s),e.onUploadCallback();let o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array?console.warn(\"THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.\"):r instanceof Uint16Array?e.isFloat16BufferAttribute?n?o=5131:console.warn(\"THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.\"):o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:(r instanceof Uint8Array||r instanceof Uint8ClampedArray)&&(o=5121),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):s.version<e.version&&(!function(e,i,r){const s=i.array,a=i.updateRange;t.bindBuffer(r,e),-1===a.count?t.bufferSubData(r,0,s):(n?t.bufferSubData(r,a.offset*s.BYTES_PER_ELEMENT,s,a.offset,a.count):t.bufferSubData(r,a.offset*s.BYTES_PER_ELEMENT,s.subarray(a.offset,a.offset+a.count)),a.count=-1)}(s.buffer,e,r),s.version=e.version)}}}class ci extends wn{constructor(t=1,e=1,n=1,i=1){super(),this.type=\"PlaneGeometry\",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};const r=t/2,s=e/2,a=Math.floor(n),o=Math.floor(i),l=a+1,c=o+1,h=t/a,u=e/o,d=[],p=[],m=[],f=[];for(let t=0;t<c;t++){const e=t*u-s;for(let n=0;n<l;n++){const i=n*h-r;p.push(i,-e,0),m.push(0,0,1),f.push(n/a),f.push(1-t/o)}}for(let t=0;t<o;t++)for(let e=0;e<a;e++){const n=e+l*t,i=e+l*(t+1),r=e+1+l*(t+1),s=e+1+l*t;d.push(n,i,s),d.push(i,r,s)}this.setIndex(d),this.setAttribute(\"position\",new un(p,3)),this.setAttribute(\"normal\",new un(m,3)),this.setAttribute(\"uv\",new un(f,2))}static fromJSON(t){return new ci(t.width,t.height,t.widthSegments,t.heightSegments)}}const hi={alphamap_fragment:\"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\",alphamap_pars_fragment:\"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\",alphatest_fragment:\"#ifdef USE_ALPHATEST\\n\\tif ( diffuseColor.a < alphaTest ) discard;\\n#endif\",alphatest_pars_fragment:\"#ifdef USE_ALPHATEST\\n\\tuniform float alphaTest;\\n#endif\",aomap_fragment:\"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\\n\\t#endif\\n#endif\",aomap_pars_fragment:\"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\",begin_vertex:\"vec3 transformed = vec3( position );\",beginnormal_vertex:\"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\",bsdfs:\"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n}\\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( f0, f90, dotVH );\\n\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( V * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( geometry.viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie( float roughness, float NoH ) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\\n\\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\\n}\\nfloat V_Neubelt( float NoV, float NoL ) {\\n\\treturn saturate( 1.0 / ( 4.0 * ( NoL + NoV - NoL * NoV ) ) );\\n}\\nvec3 BRDF_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\",bumpmap_pars_fragment:\"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\",clipping_planes_fragment:\"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\",clipping_planes_pars_fragment:\"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\",clipping_planes_pars_vertex:\"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\",clipping_planes_vertex:\"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\",color_fragment:\"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\",color_pars_fragment:\"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\",color_pars_vertex:\"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\",color_vertex:\"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\",common:\"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract( sin( sn ) * c );\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\",cube_uv_reflection_fragment:\"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\",defaultnormal_vertex:\"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\",displacementmap_pars_vertex:\"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\",displacementmap_vertex:\"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\",emissivemap_fragment:\"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\",emissivemap_pars_fragment:\"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\",encodings_fragment:\"gl_FragColor = linearToOutputTexel( gl_FragColor );\",encodings_pars_fragment:\"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\",envmap_fragment:\"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\",envmap_common_pars_fragment:\"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\",envmap_pars_fragment:\"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\",envmap_pars_vertex:\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\",envmap_physical_pars_fragment:\"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getIBLIrradiance( const in GeometricContext geometry ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 reflectVec;\\n\\t\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\t\\treflectVec = reflect( - viewDir, normal );\\n\\t\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\treflectVec = refract( - viewDir, normal, refractionRatio );\\n\\t\\t\\t#endif\\n\\t\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\",envmap_vertex:\"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\",fog_vertex:\"#ifdef USE_FOG\\n\\tvFogDepth = - mvPosition.z;\\n#endif\",fog_pars_vertex:\"#ifdef USE_FOG\\n\\tvarying float vFogDepth;\\n#endif\",fog_fragment:\"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\",fog_pars_fragment:\"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float vFogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\",gradientmap_pars_fragment:\"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\",lightmap_fragment:\"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tlightMapIrradiance *= PI;\\n\\t#endif\\n\\treflectedLight.indirectDiffuse += lightMapIrradiance;\\n#endif\",lightmap_pars_fragment:\"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\",lights_lambert_vertex:\"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\",lights_pars_begin:\"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\treturn irradiance;\\n}\\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tif ( cutoffDistance > 0.0 ) {\\n\\t\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\t}\\n\\t\\treturn distanceFalloff;\\n\\t#else\\n\\t\\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\t\\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t#endif\\n}\\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\\n\\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tlight.color = directionalLight.color;\\n\\t\\tlight.direction = directionalLight.direction;\\n\\t\\tlight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tlight.color = pointLight.color;\\n\\t\\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat angleCos = dot( light.direction, spotLight.direction );\\n\\t\\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\tif ( spotAttenuation > 0.0 ) {\\n\\t\\t\\tfloat lightDistance = length( lVector );\\n\\t\\t\\tlight.color = spotLight.color * spotAttenuation;\\n\\t\\t\\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t\\t} else {\\n\\t\\t\\tlight.color = vec3( 0.0 );\\n\\t\\t\\tlight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\",lights_toon_fragment:\"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\",lights_toon_pars_fragment:\"varying vec3 vViewPosition;\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\",lights_phong_fragment:\"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\",lights_phong_pars_fragment:\"varying vec3 vViewPosition;\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\",lights_physical_fragment:\"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\\nmaterial.roughness = min( material.roughness, 1.0 );\\n#ifdef IOR\\n\\t#ifdef SPECULAR\\n\\t\\tfloat specularIntensityFactor = specularIntensity;\\n\\t\\tvec3 specularTintFactor = specularTint;\\n\\t\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\t\\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\\n\\t\\t#endif\\n\\t\\t#ifdef USE_SPECULARTINTMAP\\n\\t\\t\\tspecularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;\\n\\t\\t#endif\\n\\t\\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\\n\\t#else\\n\\t\\tfloat specularIntensityFactor = 1.0;\\n\\t\\tvec3 specularTintFactor = vec3( 1.0 );\\n\\t\\tmaterial.specularF90 = 1.0;\\n\\t#endif\\n\\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.specularF90 = 1.0;\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\tmaterial.clearcoatF0 = vec3( 0.04 );\\n\\tmaterial.clearcoatF90 = 1.0;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenTint = sheenTint;\\n#endif\",lights_physical_pars_fragment:\"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat roughness;\\n\\tvec3 specularColor;\\n\\tfloat specularF90;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat clearcoat;\\n\\t\\tfloat clearcoatRoughness;\\n\\t\\tvec3 clearcoatF0;\\n\\t\\tfloat clearcoatF90;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tvec3 sheenTint;\\n\\t#endif\\n};\\nvec3 clearcoatSpecular = vec3( 0.0 );\\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\\n\\treturn fab;\\n}\\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\treturn specularColor * fab.x + specularF90 * fab.y;\\n}\\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\\n\\tfloat Ess = fab.x + fab.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.roughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(\\t\\t0, 1,\\t\\t0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = dotNLcc * directLight.color;\\n\\t\\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += irradiance * BRDF_Sheen( material.roughness, directLight.direction, geometry, material.sheenTint );\\n\\t#else\\n\\t\\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\",lights_fragment_begin:\"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef USE_CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointLightInfo( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotLightInfo( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\",lights_fragment_maps:\"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getIBLIrradiance( geometry );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\\n\\t#endif\\n#endif\",lights_fragment_end:\"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\",logdepthbuf_fragment:\"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\",logdepthbuf_pars_fragment:\"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\",logdepthbuf_pars_vertex:\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\",logdepthbuf_vertex:\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\",map_fragment:\"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\",map_pars_fragment:\"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\",map_particle_fragment:\"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\",map_particle_pars_fragment:\"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\",metalnessmap_fragment:\"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\",metalnessmap_pars_fragment:\"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\",morphnormal_vertex:\"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\",morphtarget_pars_vertex:\"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\",morphtarget_vertex:\"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\",normal_fragment_begin:\"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\",normal_fragment_maps:\"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\",normal_pars_fragment:\"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\",normal_pars_vertex:\"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\",normal_vertex:\"#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\",normalmap_pars_fragment:\"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\",clearcoat_normal_fragment_begin:\"#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\",clearcoat_normal_fragment_maps:\"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\",clearcoat_pars_fragment:\"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\",output_fragment:\"#ifdef OPAQUE\\ndiffuseColor.a = 1.0;\\n#endif\\n#ifdef USE_TRANSMISSION\\ndiffuseColor.a *= transmissionAlpha + 0.1;\\n#endif\\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\",packing:\"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\",premultiplied_alpha_fragment:\"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\",project_vertex:\"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\",dithering_fragment:\"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\",dithering_pars_fragment:\"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\",roughnessmap_fragment:\"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\",roughnessmap_pars_fragment:\"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\",shadowmap_pars_fragment:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t\\tf.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t\\tf.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\",shadowmap_pars_vertex:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\",shadowmap_vertex:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\",shadowmask_pars_fragment:\"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\",skinbase_vertex:\"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\",skinning_pars_vertex:\"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\",skinning_vertex:\"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\",skinnormal_vertex:\"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\",specularmap_fragment:\"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\",specularmap_pars_fragment:\"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\",tonemapping_fragment:\"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\",tonemapping_pars_fragment:\"#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(\\t1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,\\t1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,\\t1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\",transmission_fragment:\"#ifdef USE_TRANSMISSION\\n\\tfloat transmissionAlpha = 1.0;\\n\\tfloat transmissionFactor = transmission;\\n\\tfloat thicknessFactor = thickness;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\\n\\t#endif\\n\\tvec3 pos = vWorldPosition;\\n\\tvec3 v = normalize( cameraPosition - pos );\\n\\tvec3 n = inverseTransformDirection( normal, viewMatrix );\\n\\tvec4 transmission = getIBLVolumeRefraction(\\n\\t\\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\\n\\t\\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\\n\\t\\tattenuationTint, attenuationDistance );\\n\\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\\n\\ttransmissionAlpha = transmission.a;\\n#endif\",transmission_pars_fragment:\"#ifdef USE_TRANSMISSION\\n\\tuniform float transmission;\\n\\tuniform float thickness;\\n\\tuniform float attenuationDistance;\\n\\tuniform vec3 attenuationTint;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\tuniform sampler2D transmissionMap;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tuniform sampler2D thicknessMap;\\n\\t#endif\\n\\tuniform vec2 transmissionSamplerSize;\\n\\tuniform sampler2D transmissionSamplerMap;\\n\\tuniform mat4 modelMatrix;\\n\\tuniform mat4 projectionMatrix;\\n\\tvarying vec3 vWorldPosition;\\n\\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\\n\\t\\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\\n\\t\\tvec3 modelScale;\\n\\t\\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\\n\\t\\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\\n\\t\\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\\n\\t\\treturn normalize( refractionVector ) * thickness * modelScale;\\n\\t}\\n\\tfloat applyIorToRoughness( float roughness, float ior ) {\\n\\t\\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\\n\\t}\\n\\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\\n\\t\\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\\n\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#else\\n\\t\\t\\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\\n\\t\\tif ( attenuationDistance == 0.0 ) {\\n\\t\\t\\treturn radiance;\\n\\t\\t} else {\\n\\t\\t\\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\\n\\t\\t\\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\\t\\t\\treturn transmittance * radiance;\\n\\t\\t}\\n\\t}\\n\\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\\n\\t\\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\\n\\t\\tvec3 attenuationColor, float attenuationDistance ) {\\n\\t\\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\\n\\t\\tvec3 refractedRayExit = position + transmissionRay;\\n\\t\\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\\n\\t\\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\\n\\t\\trefractionCoords += 1.0;\\n\\t\\trefractionCoords /= 2.0;\\n\\t\\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\\n\\t\\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\\n\\t\\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\\n\\t\\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\\n\\t}\\n#endif\",uv_pars_fragment:\"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\",uv_pars_vertex:\"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\",uv_vertex:\"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\",uv2_pars_fragment:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\",uv2_pars_vertex:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\",uv2_vertex:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\",worldpos_vertex:\"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\",background_frag:\"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\",background_vert:\"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\",cube_frag:\"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\",cube_vert:\"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\",depth_frag:\"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\",depth_vert:\"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\",distanceRGBA_frag:\"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\",distanceRGBA_vert:\"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\",equirect_frag:\"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\",equirect_vert:\"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\",linedashed_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\",linedashed_vert:\"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\",meshbasic_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\",meshbasic_vert:\"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinbase_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\",meshlambert_frag:\"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\",meshlambert_vert:\"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\",meshmatcap_frag:\"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\",meshmatcap_vert:\"#define MATCAP\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\",meshnormal_frag:\"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\",meshnormal_vert:\"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\",meshphong_frag:\"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\",meshphong_vert:\"#define PHONG\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\",meshphysical_frag:\"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define IOR\\n\\t#define SPECULAR\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef IOR\\n\\tuniform float ior;\\n#endif\\n#ifdef SPECULAR\\n\\tuniform float specularIntensity;\\n\\tuniform vec3 specularTint;\\n\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\tuniform sampler2D specularIntensityMap;\\n\\t#endif\\n\\t#ifdef USE_SPECULARTINTMAP\\n\\t\\tuniform sampler2D specularTintMap;\\n\\t#endif\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheenTint;\\n#endif\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_physical_pars_fragment>\\n#include <transmission_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\\n\\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\\n\\t#include <transmission_fragment>\\n\\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\\n\\t\\toutgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;\\n\\t#endif\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\",meshphysical_vert:\"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifdef USE_TRANSMISSION\\n\\tvarying vec3 vWorldPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n#ifdef USE_TRANSMISSION\\n\\tvWorldPosition = worldPosition.xyz;\\n#endif\\n}\",meshtoon_frag:\"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\",meshtoon_vert:\"#define TOON\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\",points_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\",points_vert:\"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\",shadow_frag:\"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\",shadow_vert:\"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\",sprite_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\",sprite_vert:\"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\"},ui={common:{diffuse:{value:new Qe(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new yt},uv2Transform:{value:new yt},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new vt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Qe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Qe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new yt}},sprite:{diffuse:{value:new Qe(16777215)},opacity:{value:1},center:{value:new vt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new yt}}},di={basic:{uniforms:jn([ui.common,ui.specularmap,ui.envmap,ui.aomap,ui.lightmap,ui.fog]),vertexShader:hi.meshbasic_vert,fragmentShader:hi.meshbasic_frag},lambert:{uniforms:jn([ui.common,ui.specularmap,ui.envmap,ui.aomap,ui.lightmap,ui.emissivemap,ui.fog,ui.lights,{emissive:{value:new Qe(0)}}]),vertexShader:hi.meshlambert_vert,fragmentShader:hi.meshlambert_frag},phong:{uniforms:jn([ui.common,ui.specularmap,ui.envmap,ui.aomap,ui.lightmap,ui.emissivemap,ui.bumpmap,ui.normalmap,ui.displacementmap,ui.fog,ui.lights,{emissive:{value:new Qe(0)},specular:{value:new Qe(1118481)},shininess:{value:30}}]),vertexShader:hi.meshphong_vert,fragmentShader:hi.meshphong_frag},standard:{uniforms:jn([ui.common,ui.envmap,ui.aomap,ui.lightmap,ui.emissivemap,ui.bumpmap,ui.normalmap,ui.displacementmap,ui.roughnessmap,ui.metalnessmap,ui.fog,ui.lights,{emissive:{value:new Qe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:hi.meshphysical_vert,fragmentShader:hi.meshphysical_frag},toon:{uniforms:jn([ui.common,ui.aomap,ui.lightmap,ui.emissivemap,ui.bumpmap,ui.normalmap,ui.displacementmap,ui.gradientmap,ui.fog,ui.lights,{emissive:{value:new Qe(0)}}]),vertexShader:hi.meshtoon_vert,fragmentShader:hi.meshtoon_frag},matcap:{uniforms:jn([ui.common,ui.bumpmap,ui.normalmap,ui.displacementmap,ui.fog,{matcap:{value:null}}]),vertexShader:hi.meshmatcap_vert,fragmentShader:hi.meshmatcap_frag},points:{uniforms:jn([ui.points,ui.fog]),vertexShader:hi.points_vert,fragmentShader:hi.points_frag},dashed:{uniforms:jn([ui.common,ui.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:hi.linedashed_vert,fragmentShader:hi.linedashed_frag},depth:{uniforms:jn([ui.common,ui.displacementmap]),vertexShader:hi.depth_vert,fragmentShader:hi.depth_frag},normal:{uniforms:jn([ui.common,ui.bumpmap,ui.normalmap,ui.displacementmap,{opacity:{value:1}}]),vertexShader:hi.meshnormal_vert,fragmentShader:hi.meshnormal_frag},sprite:{uniforms:jn([ui.sprite,ui.fog]),vertexShader:hi.sprite_vert,fragmentShader:hi.sprite_frag},background:{uniforms:{uvTransform:{value:new yt},t2D:{value:null}},vertexShader:hi.background_vert,fragmentShader:hi.background_frag},cube:{uniforms:jn([ui.envmap,{opacity:{value:1}}]),vertexShader:hi.cube_vert,fragmentShader:hi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:hi.equirect_vert,fragmentShader:hi.equirect_frag},distanceRGBA:{uniforms:jn([ui.common,ui.displacementmap,{referencePosition:{value:new Rt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:hi.distanceRGBA_vert,fragmentShader:hi.distanceRGBA_frag},shadow:{uniforms:jn([ui.lights,ui.fog,{color:{value:new Qe(0)},opacity:{value:1}}]),vertexShader:hi.shadow_vert,fragmentShader:hi.shadow_frag}};function pi(t,e,n,i,r){const s=new Qe(0);let a,o,c=0,h=null,u=0,d=null;function p(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return s},setClearColor:function(t,e=1){s.set(t),c=e,p(s,c)},getClearAlpha:function(){return c},setClearAlpha:function(t){c=t,p(s,c)},render:function(n,r){let m=!1,f=!0===r.isScene?r.background:null;f&&f.isTexture&&(f=e.get(f));const g=t.xr,v=g.getSession&&g.getSession();v&&\"additive\"===v.environmentBlendMode&&(f=null),null===f?p(s,c):f&&f.isColor&&(p(f,1),m=!0),(t.autoClear||m)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),f&&(f.isCubeTexture||f.mapping===l)?(void 0===o&&(o=new Gn(new Vn(1,1,1),new Xn({name:\"BackgroundCubeMaterial\",uniforms:Wn(di.cube.uniforms),vertexShader:di.cube.vertexShader,fragmentShader:di.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute(\"normal\"),o.geometry.deleteAttribute(\"uv\"),o.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,\"envMap\",{get:function(){return this.uniforms.envMap.value}}),i.update(o)),o.material.uniforms.envMap.value=f,o.material.uniforms.flipEnvMap.value=f.isCubeTexture&&!1===f.isRenderTargetTexture?-1:1,h===f&&u===f.version&&d===t.toneMapping||(o.material.needsUpdate=!0,h=f,u=f.version,d=t.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):f&&f.isTexture&&(void 0===a&&(a=new Gn(new ci(2,2),new Xn({name:\"BackgroundMaterial\",uniforms:Wn(di.background.uniforms),vertexShader:di.background.vertexShader,fragmentShader:di.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute(\"normal\"),Object.defineProperty(a.material,\"map\",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=f,!0===f.matrixAutoUpdate&&f.updateMatrix(),a.material.uniforms.uvTransform.value.copy(f.matrix),h===f&&u===f.version&&d===t.toneMapping||(a.material.needsUpdate=!0,h=f,u=f.version,d=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function mi(t,e,n,i){const r=t.getParameter(34921),s=i.isWebGL2?null:e.get(\"OES_vertex_array_object\"),a=i.isWebGL2||null!==s,o={},l=d(null);let c=l;function h(e){return i.isWebGL2?t.bindVertexArray(e):s.bindVertexArrayOES(e)}function u(e){return i.isWebGL2?t.deleteVertexArray(e):s.deleteVertexArrayOES(e)}function d(t){const e=[],n=[],i=[];for(let t=0;t<r;t++)e[t]=0,n[t]=0,i[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function p(){const t=c.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function m(t){f(t,0)}function f(n,r){const s=c.newAttributes,a=c.enabledAttributes,o=c.attributeDivisors;if(s[n]=1,0===a[n]&&(t.enableVertexAttribArray(n),a[n]=1),o[n]!==r){(i.isWebGL2?t:e.get(\"ANGLE_instanced_arrays\"))[i.isWebGL2?\"vertexAttribDivisor\":\"vertexAttribDivisorANGLE\"](n,r),o[n]=r}}function g(){const e=c.newAttributes,n=c.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function v(e,n,r,s,a,o){!0!==i.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,n,r,s,a,o):t.vertexAttribIPointer(e,n,r,a,o)}function y(){x(),c!==l&&(c=l,h(c.object))}function x(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,u,y,x){let _=!1;if(a){const e=function(e,n,r){const a=!0===r.wireframe;let l=o[e.id];void 0===l&&(l={},o[e.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let h=c[a];void 0===h&&(h=d(i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()),c[a]=h);return h}(y,u,l);c!==e&&(c=e,h(c.object)),_=function(t,e){const n=c.attributes,i=t.attributes;let r=0;for(const t in i){const e=n[t],s=i[t];if(void 0===e)return!0;if(e.attribute!==s)return!0;if(e.data!==s.data)return!0;r++}return c.attributesNum!==r||c.index!==e}(y,x),_&&function(t,e){const n={},i=t.attributes;let r=0;for(const t in i){const e=i[t],s={};s.attribute=e,e.data&&(s.data=e.data),n[t]=s,r++}c.attributes=n,c.attributesNum=r,c.index=e}(y,x)}else{const t=!0===l.wireframe;c.geometry===y.id&&c.program===u.id&&c.wireframe===t||(c.geometry=y.id,c.program=u.id,c.wireframe=t,_=!0)}!0===r.isInstancedMesh&&(_=!0),null!==x&&n.update(x,34963),_&&(!function(r,s,a,o){if(!1===i.isWebGL2&&(r.isInstancedMesh||o.isInstancedBufferGeometry)&&null===e.get(\"ANGLE_instanced_arrays\"))return;p();const l=o.attributes,c=a.getAttributes(),h=s.defaultAttributeValues;for(const e in c){const i=c[e];if(i.location>=0){let s=l[e];if(void 0===s&&(\"instanceMatrix\"===e&&r.instanceMatrix&&(s=r.instanceMatrix),\"instanceColor\"===e&&r.instanceColor&&(s=r.instanceColor)),void 0!==s){const e=s.normalized,a=s.itemSize,l=n.get(s);if(void 0===l)continue;const c=l.buffer,h=l.type,u=l.bytesPerElement;if(s.isInterleavedBufferAttribute){const n=s.data,l=n.stride,d=s.offset;if(n&&n.isInstancedInterleavedBuffer){for(let t=0;t<i.locationSize;t++)f(i.location+t,n.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let t=0;t<i.locationSize;t++)m(i.location+t);t.bindBuffer(34962,c);for(let t=0;t<i.locationSize;t++)v(i.location+t,a/i.locationSize,h,e,l*u,(d+a/i.locationSize*t)*u)}else{if(s.isInstancedBufferAttribute){for(let t=0;t<i.locationSize;t++)f(i.location+t,s.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=s.meshPerAttribute*s.count)}else for(let t=0;t<i.locationSize;t++)m(i.location+t);t.bindBuffer(34962,c);for(let t=0;t<i.locationSize;t++)v(i.location+t,a/i.locationSize,h,e,a*u,a/i.locationSize*t*u)}}else if(void 0!==h){const n=h[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(i.location,n);break;case 3:t.vertexAttrib3fv(i.location,n);break;case 4:t.vertexAttrib4fv(i.location,n);break;default:t.vertexAttrib1fv(i.location,n)}}}}g()}(r,l,u,y),null!==x&&t.bindBuffer(34963,n.get(x).buffer))},reset:y,resetDefaultState:x,dispose:function(){y();for(const t in o){const e=o[t];for(const t in e){const n=e[t];for(const t in n)u(n[t].object),delete n[t];delete e[t]}delete o[t]}},releaseStatesOfGeometry:function(t){if(void 0===o[t.id])return;const e=o[t.id];for(const t in e){const n=e[t];for(const t in n)u(n[t].object),delete n[t];delete e[t]}delete o[t.id]},releaseStatesOfProgram:function(t){for(const e in o){const n=o[e];if(void 0===n[t.id])continue;const i=n[t.id];for(const t in i)u(i[t].object),delete i[t];delete n[t.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:g}}function fi(t,e,n,i){const r=i.isWebGL2;let s;this.setMode=function(t){s=t},this.render=function(e,i){t.drawArrays(s,e,i),n.update(i,s,1)},this.renderInstances=function(i,a,o){if(0===o)return;let l,c;if(r)l=t,c=\"drawArraysInstanced\";else if(l=e.get(\"ANGLE_instanced_arrays\"),c=\"drawArraysInstancedANGLE\",null===l)return void console.error(\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");l[c](s,i,a,o),n.update(a,s,o)}}function gi(t,e,n){let i;function r(e){if(\"highp\"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return\"highp\";e=\"mediump\"}return\"mediump\"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?\"mediump\":\"lowp\"}const s=\"undefined\"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||\"undefined\"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let a=void 0!==n.precision?n.precision:\"highp\";const o=r(a);o!==a&&(console.warn(\"THREE.WebGLRenderer:\",a,\"not supported, using\",o,\"instead.\"),a=o);const l=s||e.has(\"WEBGL_draw_buffers\"),c=!0===n.logarithmicDepthBuffer,h=t.getParameter(34930),u=t.getParameter(35660),d=t.getParameter(3379),p=t.getParameter(34076),m=t.getParameter(34921),f=t.getParameter(36347),g=t.getParameter(36348),v=t.getParameter(36349),y=u>0,x=s||e.has(\"OES_texture_float\");return{isWebGL2:s,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===e.has(\"EXT_texture_filter_anisotropic\")){const n=e.get(\"EXT_texture_filter_anisotropic\");i=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:f,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:x,floatVertexTextures:y&&x,maxSamples:s?t.getParameter(36183):0}}function vi(t){const e=this;let n=null,i=0,r=!1,s=!1;const a=new ii,o=new yt,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(t,n,i,r){const s=null!==t?t.length:0;let c=null;if(0!==s){if(c=l.value,!0!==r||null===c){const e=i+4*s,r=n.matrixWorldInverse;o.getNormalMatrix(r),(null===c||c.length<e)&&(c=new Float32Array(e));for(let e=0,n=i;e!==s;++e,n+=4)a.copy(t[e]).applyMatrix4(r,o),a.normal.toArray(c,n),c[n+3]=a.constant}l.value=c,l.needsUpdate=!0}return e.numPlanes=s,e.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,s){const a=0!==t.length||e||0!==i||r;return r=e,n=h(t,s,0),i=t.length,a},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1,c()},this.setState=function(e,a,o){const u=e.clippingPlanes,d=e.clipIntersection,p=e.clipShadows,m=t.get(e);if(!r||null===u||0===u.length||s&&!p)s?h(null):c();else{const t=s?0:i,e=4*t;let r=m.clippingState||null;l.value=r,r=h(u,a,e,o);for(let t=0;t!==e;++t)r[t]=n[t];m.clippingState=r,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=t}}}function yi(t){let e=new WeakMap;function n(t,e){return e===a?t.mapping=r:e===o&&(t.mapping=s),t}function i(t){const n=t.target;n.removeEventListener(\"dispose\",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){const s=r.mapping;if(s===a||s===o){if(e.has(r)){return n(e.get(r).texture,r.mapping)}{const s=r.image;if(s&&s.height>0){const a=t.getRenderTarget(),o=new $n(s.height/2);return o.fromEquirectangularTexture(t,r),e.set(r,o),t.setRenderTarget(a),r.addEventListener(\"dispose\",i),n(o.texture,r.mapping)}return null}}}return r},dispose:function(){e=new WeakMap}}}di.physical={uniforms:jn([di.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new vt(1,1)},clearcoatNormalMap:{value:null},sheenTint:{value:new Qe(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new vt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationTint:{value:new Qe(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularTint:{value:new Qe(1,1,1)},specularTintMap:{value:null}}]),vertexShader:hi.meshphysical_vert,fragmentShader:hi.meshphysical_frag};class xi extends Yn{constructor(t=-1,e=1,n=1,i=-1,r=.1,s=2e3){super(),this.type=\"OrthographicCamera\",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=r,this.far=s,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,i,r,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-t,s=n+t,a=i+e,o=i-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,s=r+t*this.view.width,a-=e*this.view.offsetY,o=a-e*this.view.height}this.projectionMatrix.makeOrthographic(r,s,a,o,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}xi.prototype.isOrthographicCamera=!0;class _i extends Xn{constructor(t){super(t),this.type=\"RawShaderMaterial\"}}_i.prototype.isRawShaderMaterial=!0;const bi=Math.pow(2,8),Mi=[.125,.215,.35,.446,.526,.582],wi=5+Mi.length,Si=20,Ti={[X]:0,[Y]:1,[Z]:2,[Q]:3,[K]:4,[$]:5,[J]:6},Ei=new xi,{_lodPlanes:Ai,_sizeLods:Li,_sigmas:Ri}=Fi(),Ci=new Qe;let Pi=null;const Ii=(1+Math.sqrt(5))/2,Di=1/Ii,Ni=[new Rt(1,1,1),new Rt(-1,1,1),new Rt(1,1,-1),new Rt(-1,1,-1),new Rt(0,Ii,Di),new Rt(0,Ii,-Di),new Rt(Di,0,Ii),new Rt(-Di,0,Ii),new Rt(Ii,Di,0),new Rt(-Ii,Di,0)];class zi{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(t){const e=new Float32Array(t),n=new Rt(0,1,0);return new _i({name:\"SphericalGaussianBlur\",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Ti[3e3]},outputEncoding:{value:Ti[3e3]}},vertexShader:ki(),fragmentShader:`\\n\\n\\t\\t\\tprecision mediump float;\\n\\t\\t\\tprecision mediump int;\\n\\n\\t\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t\\tuniform sampler2D envMap;\\n\\t\\t\\tuniform int samples;\\n\\t\\t\\tuniform float weights[ n ];\\n\\t\\t\\tuniform bool latitudinal;\\n\\t\\t\\tuniform float dTheta;\\n\\t\\t\\tuniform float mipInt;\\n\\t\\t\\tuniform vec3 poleAxis;\\n\\n\\t\\t\\t${Vi()}\\n\\n\\t\\t\\t#define ENVMAP_TYPE_CUBE_UV\\n\\t\\t\\t#include <cube_uv_reflection_fragment>\\n\\n\\t\\t\\tvec3 getSample( float theta, vec3 axis ) {\\n\\n\\t\\t\\t\\tfloat cosTheta = cos( theta );\\n\\t\\t\\t\\t// Rodrigues' axis-angle rotation\\n\\t\\t\\t\\tvec3 sampleDirection = vOutputDirection * cosTheta\\n\\t\\t\\t\\t\\t+ cross( axis, vOutputDirection ) * sin( theta )\\n\\t\\t\\t\\t\\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\\n\\n\\t\\t\\t\\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\\n\\n\\t\\t\\t\\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\\n\\n\\t\\t\\t\\t\\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\taxis = normalize( axis );\\n\\n\\t\\t\\t\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\t\\t\\t\\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\\n\\n\\t\\t\\t\\tfor ( int i = 1; i < n; i++ ) {\\n\\n\\t\\t\\t\\t\\tif ( i >= samples ) {\\n\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfloat theta = dTheta * float( i );\\n\\t\\t\\t\\t\\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\\n\\t\\t\\t\\t\\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tgl_FragColor = linearToOutputTexel( gl_FragColor );\\n\\n\\t\\t\\t}\\n\\t\\t`,blending:0,depthTest:!1,depthWrite:!1})}(Si),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,i=100){Pi=this._renderer.getRenderTarget();const r=this._allocateTargets();return this._sceneToCubeUV(t,n,i,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t){return this._fromTexture(t)}fromCubemap(t){return this._fromTexture(t)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=Gi(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=Hi(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let t=0;t<Ai.length;t++)Ai[t].dispose()}_cleanup(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Pi),t.scissorTest=!1,Ui(t,0,0,t.width,t.height)}_fromTexture(t){Pi=this._renderer.getRenderTarget();const e=this._allocateTargets(t);return this._textureToCubeUV(t,e),this._applyPMREM(e),this._cleanup(e),e}_allocateTargets(t){const e={magFilter:p,minFilter:p,generateMipmaps:!1,type:x,format:1023,encoding:Bi(t)?t.encoding:Z,depthBuffer:!1},n=Oi(e);return n.depthBuffer=!t,this._pingPongRenderTarget=Oi(e),n}_compileMaterial(t){const e=new Gn(Ai[0],t);this._renderer.compile(e,Ei)}_sceneToCubeUV(t,e,n,i){const r=new Jn(90,1,e,n),s=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],o=this._renderer,l=o.autoClear,c=o.outputEncoding,h=o.toneMapping;o.getClearColor(Ci),o.toneMapping=0,o.outputEncoding=X,o.autoClear=!1;const u=new Ke({name:\"PMREM.Background\",side:1,depthWrite:!1,depthTest:!1}),d=new Gn(new Vn,u);let p=!1;const m=t.background;m?m.isColor&&(u.color.copy(m),t.background=null,p=!0):(u.color.copy(Ci),p=!0);for(let e=0;e<6;e++){const n=e%3;0==n?(r.up.set(0,s[e],0),r.lookAt(a[e],0,0)):1==n?(r.up.set(0,0,s[e]),r.lookAt(0,a[e],0)):(r.up.set(0,s[e],0),r.lookAt(0,0,a[e])),Ui(i,n*bi,e>2?bi:0,bi,bi),o.setRenderTarget(i),p&&o.render(d,r),o.render(t,r)}d.geometry.dispose(),d.material.dispose(),o.toneMapping=h,o.outputEncoding=c,o.autoClear=l,t.background=m}_textureToCubeUV(t,e){const n=this._renderer;t.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Gi()):null==this._equirectShader&&(this._equirectShader=Hi());const i=t.isCubeTexture?this._cubemapShader:this._equirectShader,r=new Gn(Ai[0],i),s=i.uniforms;s.envMap.value=t,t.isCubeTexture||s.texelSize.value.set(1/t.image.width,1/t.image.height),s.inputEncoding.value=Ti[t.encoding],s.outputEncoding.value=Ti[e.texture.encoding],Ui(e,0,0,3*bi,2*bi),n.setRenderTarget(e),n.render(r,Ei)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let e=1;e<wi;e++){const n=Math.sqrt(Ri[e]*Ri[e]-Ri[e-1]*Ri[e-1]),i=Ni[(e-1)%Ni.length];this._blur(t,e-1,e,n,i)}e.autoClear=n}_blur(t,e,n,i,r){const s=this._pingPongRenderTarget;this._halfBlur(t,s,e,n,i,\"latitudinal\",r),this._halfBlur(s,t,n,n,i,\"longitudinal\",r)}_halfBlur(t,e,n,i,r,s,a){const o=this._renderer,l=this._blurMaterial;\"latitudinal\"!==s&&\"longitudinal\"!==s&&console.error(\"blur direction must be either latitudinal or longitudinal!\");const c=new Gn(Ai[i],l),h=l.uniforms,u=Li[n]-1,d=isFinite(r)?Math.PI/(2*u):2*Math.PI/39,p=r/d,m=isFinite(r)?1+Math.floor(3*p):Si;m>Si&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);const f=[];let g=0;for(let t=0;t<Si;++t){const e=t/p,n=Math.exp(-e*e/2);f.push(n),0==t?g+=n:t<m&&(g+=2*n)}for(let t=0;t<f.length;t++)f[t]=f[t]/g;h.envMap.value=t.texture,h.samples.value=m,h.weights.value=f,h.latitudinal.value=\"latitudinal\"===s,a&&(h.poleAxis.value=a),h.dTheta.value=d,h.mipInt.value=8-n,h.inputEncoding.value=Ti[t.texture.encoding],h.outputEncoding.value=Ti[t.texture.encoding];const v=Li[i];Ui(e,3*Math.max(0,bi-2*v),(0===i?0:2*bi)+2*v*(i>4?i-8+4:0),3*v,2*v),o.setRenderTarget(e),o.render(c,Ei)}}function Bi(t){return void 0!==t&&t.type===x&&(t.encoding===X||t.encoding===Y||t.encoding===J)}function Fi(){const t=[],e=[],n=[];let i=8;for(let r=0;r<wi;r++){const s=Math.pow(2,i);e.push(s);let a=1/s;r>4?a=Mi[r-8+4-1]:0==r&&(a=0),n.push(a);const o=1/(s-1),l=-o/2,c=1+o/2,h=[l,l,c,l,c,c,l,l,c,c,l,c],u=6,d=6,p=3,m=2,f=1,g=new Float32Array(p*d*u),v=new Float32Array(m*d*u),y=new Float32Array(f*d*u);for(let t=0;t<u;t++){const e=t%3*2/3-1,n=t>2?0:-1,i=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];g.set(i,p*d*t),v.set(h,m*d*t);const r=[t,t,t,t,t,t];y.set(r,f*d*t)}const x=new wn;x.setAttribute(\"position\",new en(g,p)),x.setAttribute(\"uv\",new en(v,m)),x.setAttribute(\"faceIndex\",new en(y,f)),t.push(x),i>4&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function Oi(t){const e=new Tt(3*bi,3*bi,t);return e.texture.mapping=l,e.texture.name=\"PMREM.cubeUv\",e.scissorTest=!0,e}function Ui(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function Hi(){const t=new vt(1,1);return new _i({name:\"EquirectangularToCubeUV\",uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:Ti[3e3]},outputEncoding:{value:Ti[3e3]}},vertexShader:ki(),fragmentShader:`\\n\\n\\t\\t\\tprecision mediump float;\\n\\t\\t\\tprecision mediump int;\\n\\n\\t\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t\\tuniform sampler2D envMap;\\n\\t\\t\\tuniform vec2 texelSize;\\n\\n\\t\\t\\t${Vi()}\\n\\n\\t\\t\\t#include <common>\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\n\\t\\t\\t\\tvec3 outputDirection = normalize( vOutputDirection );\\n\\t\\t\\t\\tvec2 uv = equirectUv( outputDirection );\\n\\n\\t\\t\\t\\tvec2 f = fract( uv / texelSize - 0.5 );\\n\\t\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\t\\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\t\\t\\t\\tuv.x += texelSize.x;\\n\\t\\t\\t\\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\t\\t\\t\\tuv.y += texelSize.y;\\n\\t\\t\\t\\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\t\\t\\t\\tuv.x -= texelSize.x;\\n\\t\\t\\t\\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\n\\t\\t\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\t\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\t\\t\\tgl_FragColor.rgb = mix( tm, bm, f.y );\\n\\n\\t\\t\\t\\tgl_FragColor = linearToOutputTexel( gl_FragColor );\\n\\n\\t\\t\\t}\\n\\t\\t`,blending:0,depthTest:!1,depthWrite:!1})}function Gi(){return new _i({name:\"CubemapToCubeUV\",uniforms:{envMap:{value:null},inputEncoding:{value:Ti[3e3]},outputEncoding:{value:Ti[3e3]}},vertexShader:ki(),fragmentShader:`\\n\\n\\t\\t\\tprecision mediump float;\\n\\t\\t\\tprecision mediump int;\\n\\n\\t\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t\\tuniform samplerCube envMap;\\n\\n\\t\\t\\t${Vi()}\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\t\\t\\t\\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\\n\\t\\t\\t\\tgl_FragColor = linearToOutputTexel( gl_FragColor );\\n\\n\\t\\t\\t}\\n\\t\\t`,blending:0,depthTest:!1,depthWrite:!1})}function ki(){return\"\\n\\n\\t\\tprecision mediump float;\\n\\t\\tprecision mediump int;\\n\\n\\t\\tattribute vec3 position;\\n\\t\\tattribute vec2 uv;\\n\\t\\tattribute float faceIndex;\\n\\n\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t// RH coordinate system; PMREM face-indexing convention\\n\\t\\tvec3 getDirection( vec2 uv, float face ) {\\n\\n\\t\\t\\tuv = 2.0 * uv - 1.0;\\n\\n\\t\\t\\tvec3 direction = vec3( uv, 1.0 );\\n\\n\\t\\t\\tif ( face == 0.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.zyx; // ( 1, v, u ) pos x\\n\\n\\t\\t\\t} else if ( face == 1.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.xzy;\\n\\t\\t\\t\\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\\n\\n\\t\\t\\t} else if ( face == 2.0 ) {\\n\\n\\t\\t\\t\\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\\n\\n\\t\\t\\t} else if ( face == 3.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.zyx;\\n\\t\\t\\t\\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\\n\\n\\t\\t\\t} else if ( face == 4.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.xzy;\\n\\t\\t\\t\\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\\n\\n\\t\\t\\t} else if ( face == 5.0 ) {\\n\\n\\t\\t\\t\\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn direction;\\n\\n\\t\\t}\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\tvOutputDirection = getDirection( uv, faceIndex );\\n\\t\\t\\tgl_Position = vec4( position, 1.0 );\\n\\n\\t\\t}\\n\\t\"}function Vi(){return\"\\n\\n\\t\\tuniform int inputEncoding;\\n\\t\\tuniform int outputEncoding;\\n\\n\\t\\t#include <encodings_pars_fragment>\\n\\n\\t\\tvec4 inputTexelToLinear( vec4 value ) {\\n\\n\\t\\t\\tif ( inputEncoding == 0 ) {\\n\\n\\t\\t\\t\\treturn value;\\n\\n\\t\\t\\t} else if ( inputEncoding == 1 ) {\\n\\n\\t\\t\\t\\treturn sRGBToLinear( value );\\n\\n\\t\\t\\t} else if ( inputEncoding == 2 ) {\\n\\n\\t\\t\\t\\treturn RGBEToLinear( value );\\n\\n\\t\\t\\t} else if ( inputEncoding == 3 ) {\\n\\n\\t\\t\\t\\treturn RGBMToLinear( value, 7.0 );\\n\\n\\t\\t\\t} else if ( inputEncoding == 4 ) {\\n\\n\\t\\t\\t\\treturn RGBMToLinear( value, 16.0 );\\n\\n\\t\\t\\t} else if ( inputEncoding == 5 ) {\\n\\n\\t\\t\\t\\treturn RGBDToLinear( value, 256.0 );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\treturn GammaToLinear( value, 2.2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tvec4 linearToOutputTexel( vec4 value ) {\\n\\n\\t\\t\\tif ( outputEncoding == 0 ) {\\n\\n\\t\\t\\t\\treturn value;\\n\\n\\t\\t\\t} else if ( outputEncoding == 1 ) {\\n\\n\\t\\t\\t\\treturn LinearTosRGB( value );\\n\\n\\t\\t\\t} else if ( outputEncoding == 2 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBE( value );\\n\\n\\t\\t\\t} else if ( outputEncoding == 3 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBM( value, 7.0 );\\n\\n\\t\\t\\t} else if ( outputEncoding == 4 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBM( value, 16.0 );\\n\\n\\t\\t\\t} else if ( outputEncoding == 5 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBD( value, 256.0 );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\treturn LinearToGamma( value, 2.2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tvec4 envMapTexelToLinear( vec4 color ) {\\n\\n\\t\\t\\treturn inputTexelToLinear( color );\\n\\n\\t\\t}\\n\\t\"}function Wi(t){let e=new WeakMap,n=null;function i(t){const n=t.target;n.removeEventListener(\"dispose\",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(l){if(l&&l.isTexture&&!1===l.isRenderTargetTexture){const c=l.mapping,h=c===a||c===o,u=c===r||c===s;if(h||u){if(e.has(l))return e.get(l).texture;{const r=l.image;if(h&&r&&r.height>0||u&&r&&function(t){let e=0;const n=6;for(let i=0;i<n;i++)void 0!==t[i]&&e++;return e===n}(r)){const r=t.getRenderTarget();null===n&&(n=new zi(t));const s=h?n.fromEquirectangular(l):n.fromCubemap(l);return e.set(l,s),t.setRenderTarget(r),l.addEventListener(\"dispose\",i),s.texture}return null}}}return l},dispose:function(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function ji(t){const e={};function n(n){if(void 0!==e[n])return e[n];let i;switch(n){case\"WEBGL_depth_texture\":i=t.getExtension(\"WEBGL_depth_texture\")||t.getExtension(\"MOZ_WEBGL_depth_texture\")||t.getExtension(\"WEBKIT_WEBGL_depth_texture\");break;case\"EXT_texture_filter_anisotropic\":i=t.getExtension(\"EXT_texture_filter_anisotropic\")||t.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||t.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");break;case\"WEBGL_compressed_texture_s3tc\":i=t.getExtension(\"WEBGL_compressed_texture_s3tc\")||t.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\")||t.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\");break;case\"WEBGL_compressed_texture_pvrtc\":i=t.getExtension(\"WEBGL_compressed_texture_pvrtc\")||t.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\");break;default:i=t.getExtension(n)}return e[n]=i,i}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n(\"EXT_color_buffer_float\"):(n(\"WEBGL_depth_texture\"),n(\"OES_texture_float\"),n(\"OES_texture_half_float\"),n(\"OES_texture_half_float_linear\"),n(\"OES_standard_derivatives\"),n(\"OES_element_index_uint\"),n(\"OES_vertex_array_object\"),n(\"ANGLE_instanced_arrays\")),n(\"OES_texture_float_linear\"),n(\"EXT_color_buffer_half_float\")},get:function(t){const e=n(t);return null===e&&console.warn(\"THREE.WebGLRenderer: \"+t+\" extension not supported.\"),e}}}function qi(t,e,n,i){const r={},s=new WeakMap;function a(t){const o=t.target;null!==o.index&&e.remove(o.index);for(const t in o.attributes)e.remove(o.attributes[t]);o.removeEventListener(\"dispose\",a),delete r[o.id];const l=s.get(o);l&&(e.remove(l),s.delete(o)),i.releaseStatesOfGeometry(o),!0===o.isInstancedBufferGeometry&&delete o._maxInstanceCount,n.memory.geometries--}function o(t){const n=[],i=t.index,r=t.attributes.position;let a=0;if(null!==i){const t=i.array;a=i.version;for(let e=0,i=t.length;e<i;e+=3){const i=t[e+0],r=t[e+1],s=t[e+2];n.push(i,r,r,s,s,i)}}else{const t=r.array;a=r.version;for(let e=0,i=t.length/3-1;e<i;e+=3){const t=e+0,i=e+1,r=e+2;n.push(t,i,i,r,r,t)}}const o=new(pn(n)>65535?cn:on)(n,1);o.version=a;const l=s.get(t);l&&e.remove(l),s.set(t,o)}return{get:function(t,e){return!0===r[e.id]||(e.addEventListener(\"dispose\",a),r[e.id]=!0,n.memory.geometries++),e},update:function(t){const n=t.attributes;for(const t in n)e.update(n[t],34962);const i=t.morphAttributes;for(const t in i){const n=i[t];for(let t=0,i=n.length;t<i;t++)e.update(n[t],34962)}},getWireframeAttribute:function(t){const e=s.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&o(t)}else o(t);return s.get(t)}}}function Xi(t,e,n,i){const r=i.isWebGL2;let s,a,o;this.setMode=function(t){s=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,i){t.drawElements(s,i,a,e*o),n.update(i,s,1)},this.renderInstances=function(i,l,c){if(0===c)return;let h,u;if(r)h=t,u=\"drawElementsInstanced\";else if(h=e.get(\"ANGLE_instanced_arrays\"),u=\"drawElementsInstancedANGLE\",null===h)return void console.error(\"THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");h[u](s,l,a,i*o,c),n.update(l,s,c)}}function Yi(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error(\"THREE.WebGLInfo: Unknown draw mode:\",n)}}}}function Ji(t,e){return t[0]-e[0]}function Zi(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Qi(t){const e={},n=new Float32Array(8),i=[];for(let t=0;t<8;t++)i[t]=[t,0];return{update:function(r,s,a,o){const l=r.morphTargetInfluences,c=void 0===l?0:l.length;let h=e[s.id];if(void 0===h||h.length!==c){h=[];for(let t=0;t<c;t++)h[t]=[t,0];e[s.id]=h}for(let t=0;t<c;t++){const e=h[t];e[0]=t,e[1]=l[t]}h.sort(Zi);for(let t=0;t<8;t++)t<c&&h[t][1]?(i[t][0]=h[t][0],i[t][1]=h[t][1]):(i[t][0]=Number.MAX_SAFE_INTEGER,i[t][1]=0);i.sort(Ji);const u=s.morphAttributes.position,d=s.morphAttributes.normal;let p=0;for(let t=0;t<8;t++){const e=i[t],r=e[0],a=e[1];r!==Number.MAX_SAFE_INTEGER&&a?(u&&s.getAttribute(\"morphTarget\"+t)!==u[r]&&s.setAttribute(\"morphTarget\"+t,u[r]),d&&s.getAttribute(\"morphNormal\"+t)!==d[r]&&s.setAttribute(\"morphNormal\"+t,d[r]),n[t]=a,p+=a):(u&&!0===s.hasAttribute(\"morphTarget\"+t)&&s.deleteAttribute(\"morphTarget\"+t),d&&!0===s.hasAttribute(\"morphNormal\"+t)&&s.deleteAttribute(\"morphNormal\"+t),n[t]=0)}const m=s.morphTargetsRelative?1:1-p;o.getUniforms().setValue(t,\"morphTargetBaseInfluence\",m),o.getUniforms().setValue(t,\"morphTargetInfluences\",n)}}}function Ki(t,e,n,i){let r=new WeakMap;function s(t){const e=t.target;e.removeEventListener(\"dispose\",s),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(t){const a=i.render.frame,o=t.geometry,l=e.get(t,o);return r.get(l)!==a&&(e.update(l),r.set(l,a)),t.isInstancedMesh&&(!1===t.hasEventListener(\"dispose\",s)&&t.addEventListener(\"dispose\",s),n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),l},dispose:function(){r=new WeakMap}}}class $i extends Mt{constructor(t=null,e=1,n=1,i=1){super(null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=p,this.minFilter=p,this.wrapR=u,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}$i.prototype.isDataTexture2DArray=!0;class tr extends Mt{constructor(t=null,e=1,n=1,i=1){super(null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=p,this.minFilter=p,this.wrapR=u,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}tr.prototype.isDataTexture3D=!0;const er=new Mt,nr=new $i,ir=new tr,rr=new Kn,sr=[],ar=[],or=new Float32Array(16),lr=new Float32Array(9),cr=new Float32Array(4);function hr(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=sr[r];if(void 0===s&&(s=new Float32Array(r),sr[r]=s),0!==e){i.toArray(s,0);for(let i=1,r=0;i!==e;++i)r+=n,t[i].toArray(s,r)}return s}function ur(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function dr(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function pr(t,e){let n=ar[e];void 0===n&&(n=new Int32Array(e),ar[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function mr(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function fr(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ur(n,e))return;t.uniform2fv(this.addr,e),dr(n,e)}}function gr(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ur(n,e))return;t.uniform3fv(this.addr,e),dr(n,e)}}function vr(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ur(n,e))return;t.uniform4fv(this.addr,e),dr(n,e)}}function yr(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(ur(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),dr(n,e)}else{if(ur(n,i))return;cr.set(i),t.uniformMatrix2fv(this.addr,!1,cr),dr(n,i)}}function xr(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(ur(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),dr(n,e)}else{if(ur(n,i))return;lr.set(i),t.uniformMatrix3fv(this.addr,!1,lr),dr(n,i)}}function _r(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(ur(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),dr(n,e)}else{if(ur(n,i))return;or.set(i),t.uniformMatrix4fv(this.addr,!1,or),dr(n,i)}}function br(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Mr(t,e){const n=this.cache;ur(n,e)||(t.uniform2iv(this.addr,e),dr(n,e))}function wr(t,e){const n=this.cache;ur(n,e)||(t.uniform3iv(this.addr,e),dr(n,e))}function Sr(t,e){const n=this.cache;ur(n,e)||(t.uniform4iv(this.addr,e),dr(n,e))}function Tr(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Er(t,e){const n=this.cache;ur(n,e)||(t.uniform2uiv(this.addr,e),dr(n,e))}function Ar(t,e){const n=this.cache;ur(n,e)||(t.uniform3uiv(this.addr,e),dr(n,e))}function Lr(t,e){const n=this.cache;ur(n,e)||(t.uniform4uiv(this.addr,e),dr(n,e))}function Rr(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||er,r)}function Cr(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||ir,r)}function Pr(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||rr,r)}function Ir(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||nr,r)}function Dr(t,e){t.uniform1fv(this.addr,e)}function Nr(t,e){const n=hr(e,this.size,2);t.uniform2fv(this.addr,n)}function zr(t,e){const n=hr(e,this.size,3);t.uniform3fv(this.addr,n)}function Br(t,e){const n=hr(e,this.size,4);t.uniform4fv(this.addr,n)}function Fr(t,e){const n=hr(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Or(t,e){const n=hr(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Ur(t,e){const n=hr(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Hr(t,e){t.uniform1iv(this.addr,e)}function Gr(t,e){t.uniform2iv(this.addr,e)}function kr(t,e){t.uniform3iv(this.addr,e)}function Vr(t,e){t.uniform4iv(this.addr,e)}function Wr(t,e){t.uniform1uiv(this.addr,e)}function jr(t,e){t.uniform2uiv(this.addr,e)}function qr(t,e){t.uniform3uiv(this.addr,e)}function Xr(t,e){t.uniform4uiv(this.addr,e)}function Yr(t,e,n){const i=e.length,r=pr(n,i);t.uniform1iv(this.addr,r);for(let t=0;t!==i;++t)n.safeSetTexture2D(e[t]||er,r[t])}function Jr(t,e,n){const i=e.length,r=pr(n,i);t.uniform1iv(this.addr,r);for(let t=0;t!==i;++t)n.safeSetTextureCube(e[t]||rr,r[t])}function Zr(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return mr;case 35664:return fr;case 35665:return gr;case 35666:return vr;case 35674:return yr;case 35675:return xr;case 35676:return _r;case 5124:case 35670:return br;case 35667:case 35671:return Mr;case 35668:case 35672:return wr;case 35669:case 35673:return Sr;case 5125:return Tr;case 36294:return Er;case 36295:return Ar;case 36296:return Lr;case 35678:case 36198:case 36298:case 36306:case 35682:return Rr;case 35679:case 36299:case 36307:return Cr;case 35680:case 36300:case 36308:case 36293:return Pr;case 36289:case 36303:case 36311:case 36292:return Ir}}(e.type)}function Qr(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Dr;case 35664:return Nr;case 35665:return zr;case 35666:return Br;case 35674:return Fr;case 35675:return Or;case 35676:return Ur;case 5124:case 35670:return Hr;case 35667:case 35671:return Gr;case 35668:case 35672:return kr;case 35669:case 35673:return Vr;case 5125:return Wr;case 36294:return jr;case 36295:return qr;case 36296:return Xr;case 35678:case 36198:case 36298:case 36306:case 35682:return Yr;case 35680:case 36300:case 36308:case 36293:return Jr}}(e.type)}function Kr(t){this.id=t,this.seq=[],this.map={}}Qr.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),dr(e,t)},Kr.prototype.setValue=function(t,e,n){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const s=i[r];s.setValue(t,e[s.id],n)}};const $r=/(\\w+)(\\])?(\\[|\\.)?/g;function ts(t,e){t.seq.push(e),t.map[e.id]=e}function es(t,e,n){const i=t.name,r=i.length;for($r.lastIndex=0;;){const s=$r.exec(i),a=$r.lastIndex;let o=s[1];const l=\"]\"===s[2],c=s[3];if(l&&(o|=0),void 0===c||\"[\"===c&&a+2===r){ts(n,void 0===c?new Zr(o,t,e):new Qr(o,t,e));break}{let t=n.map[o];void 0===t&&(t=new Kr(o),ts(n,t)),n=t}}}function ns(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const n=t.getActiveUniform(e,i);es(n,t.getUniformLocation(e,n.name),this)}}function is(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}ns.prototype.setValue=function(t,e,n,i){const r=this.map[e];void 0!==r&&r.setValue(t,n,i)},ns.prototype.setOptional=function(t,e,n){const i=e[n];void 0!==i&&this.setValue(t,n,i)},ns.upload=function(t,e,n,i){for(let r=0,s=e.length;r!==s;++r){const s=e[r],a=n[s.id];!1!==a.needsUpdate&&s.setValue(t,a.value,i)}},ns.seqWithValue=function(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const r=t[i];r.id in e&&n.push(r)}return n};let rs=0;function ss(t){switch(t){case X:return[\"Linear\",\"( value )\"];case Y:return[\"sRGB\",\"( value )\"];case Z:return[\"RGBE\",\"( value )\"];case Q:return[\"RGBM\",\"( value, 7.0 )\"];case K:return[\"RGBM\",\"( value, 16.0 )\"];case $:return[\"RGBD\",\"( value, 256.0 )\"];case J:return[\"Gamma\",\"( value, float( GAMMA_FACTOR ) )\"];case 3003:return[\"LogLuv\",\"( value )\"];default:return console.warn(\"THREE.WebGLProgram: Unsupported encoding:\",t),[\"Linear\",\"( value )\"]}}function as(t,e,n){const i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&\"\"===r?\"\":n.toUpperCase()+\"\\n\\n\"+r+\"\\n\\n\"+function(t){const e=t.split(\"\\n\");for(let t=0;t<e.length;t++)e[t]=t+1+\": \"+e[t];return e.join(\"\\n\")}(t.getShaderSource(e))}function os(t,e){const n=ss(e);return\"vec4 \"+t+\"( vec4 value ) { return \"+n[0]+\"ToLinear\"+n[1]+\"; }\"}function ls(t,e){const n=ss(e);return\"vec4 \"+t+\"( vec4 value ) { return LinearTo\"+n[0]+n[1]+\"; }\"}function cs(t,e){let n;switch(e){case 1:n=\"Linear\";break;case 2:n=\"Reinhard\";break;case 3:n=\"OptimizedCineon\";break;case 4:n=\"ACESFilmic\";break;case 5:n=\"Custom\";break;default:console.warn(\"THREE.WebGLProgram: Unsupported toneMapping:\",e),n=\"Linear\"}return\"vec3 \"+t+\"( vec3 color ) { return \"+n+\"ToneMapping( color ); }\"}function hs(t){return\"\"!==t}function us(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ds(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ps=/^[ \\t]*#include +<([\\w\\d./]+)>/gm;function ms(t){return t.replace(ps,fs)}function fs(t,e){const n=hi[e];if(void 0===n)throw new Error(\"Can not resolve #include <\"+e+\">\");return ms(n)}const gs=/#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g,vs=/#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;function ys(t){return t.replace(vs,_s).replace(gs,xs)}function xs(t,e,n,i){return console.warn(\"WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.\"),_s(t,e,n,i)}function _s(t,e,n,i){let r=\"\";for(let t=parseInt(e);t<parseInt(n);t++)r+=i.replace(/\\[\\s*i\\s*\\]/g,\"[ \"+t+\" ]\").replace(/UNROLLED_LOOP_INDEX/g,t);return r}function bs(t){let e=\"precision \"+t.precision+\" float;\\nprecision \"+t.precision+\" int;\";return\"highp\"===t.precision?e+=\"\\n#define HIGH_PRECISION\":\"mediump\"===t.precision?e+=\"\\n#define MEDIUM_PRECISION\":\"lowp\"===t.precision&&(e+=\"\\n#define LOW_PRECISION\"),e}function Ms(t,e,n,i){const a=t.getContext(),o=n.defines;let h=n.vertexShader,u=n.fragmentShader;const d=function(t){let e=\"SHADOWMAP_TYPE_BASIC\";return 1===t.shadowMapType?e=\"SHADOWMAP_TYPE_PCF\":2===t.shadowMapType?e=\"SHADOWMAP_TYPE_PCF_SOFT\":3===t.shadowMapType&&(e=\"SHADOWMAP_TYPE_VSM\"),e}(n),p=function(t){let e=\"ENVMAP_TYPE_CUBE\";if(t.envMap)switch(t.envMapMode){case r:case s:e=\"ENVMAP_TYPE_CUBE\";break;case l:case c:e=\"ENVMAP_TYPE_CUBE_UV\"}return e}(n),m=function(t){let e=\"ENVMAP_MODE_REFLECTION\";if(t.envMap)switch(t.envMapMode){case s:case c:e=\"ENVMAP_MODE_REFRACTION\"}return e}(n),f=function(t){let e=\"ENVMAP_BLENDING_NONE\";if(t.envMap)switch(t.combine){case 0:e=\"ENVMAP_BLENDING_MULTIPLY\";break;case 1:e=\"ENVMAP_BLENDING_MIX\";break;case 2:e=\"ENVMAP_BLENDING_ADD\"}return e}(n),g=t.gammaFactor>0?t.gammaFactor:1,v=n.isWebGL2?\"\":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||\"physical\"===t.shaderID?\"#extension GL_OES_standard_derivatives : enable\":\"\",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?\"#extension GL_EXT_frag_depth : enable\":\"\",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?\"#extension GL_EXT_draw_buffers : require\":\"\",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?\"#extension GL_EXT_shader_texture_lod : enable\":\"\"].filter(hs).join(\"\\n\")}(n),y=function(t){const e=[];for(const n in t){const i=t[n];!1!==i&&e.push(\"#define \"+n+\" \"+i)}return e.join(\"\\n\")}(o),x=a.createProgram();let _,b,M=n.glslVersion?\"#version \"+n.glslVersion+\"\\n\":\"\";n.isRawShaderMaterial?(_=[y].filter(hs).join(\"\\n\"),_.length>0&&(_+=\"\\n\"),b=[v,y].filter(hs).join(\"\\n\"),b.length>0&&(b+=\"\\n\")):(_=[bs(n),\"#define SHADER_NAME \"+n.shaderName,y,n.instancing?\"#define USE_INSTANCING\":\"\",n.instancingColor?\"#define USE_INSTANCING_COLOR\":\"\",n.supportsVertexTextures?\"#define VERTEX_TEXTURES\":\"\",\"#define GAMMA_FACTOR \"+g,\"#define MAX_BONES \"+n.maxBones,n.useFog&&n.fog?\"#define USE_FOG\":\"\",n.useFog&&n.fogExp2?\"#define FOG_EXP2\":\"\",n.map?\"#define USE_MAP\":\"\",n.envMap?\"#define USE_ENVMAP\":\"\",n.envMap?\"#define \"+m:\"\",n.lightMap?\"#define USE_LIGHTMAP\":\"\",n.aoMap?\"#define USE_AOMAP\":\"\",n.emissiveMap?\"#define USE_EMISSIVEMAP\":\"\",n.bumpMap?\"#define USE_BUMPMAP\":\"\",n.normalMap?\"#define USE_NORMALMAP\":\"\",n.normalMap&&n.objectSpaceNormalMap?\"#define OBJECTSPACE_NORMALMAP\":\"\",n.normalMap&&n.tangentSpaceNormalMap?\"#define TANGENTSPACE_NORMALMAP\":\"\",n.clearcoatMap?\"#define USE_CLEARCOATMAP\":\"\",n.clearcoatRoughnessMap?\"#define USE_CLEARCOAT_ROUGHNESSMAP\":\"\",n.clearcoatNormalMap?\"#define USE_CLEARCOAT_NORMALMAP\":\"\",n.displacementMap&&n.supportsVertexTextures?\"#define USE_DISPLACEMENTMAP\":\"\",n.specularMap?\"#define USE_SPECULARMAP\":\"\",n.specularIntensityMap?\"#define USE_SPECULARINTENSITYMAP\":\"\",n.specularTintMap?\"#define USE_SPECULARTINTMAP\":\"\",n.roughnessMap?\"#define USE_ROUGHNESSMAP\":\"\",n.metalnessMap?\"#define USE_METALNESSMAP\":\"\",n.alphaMap?\"#define USE_ALPHAMAP\":\"\",n.transmission?\"#define USE_TRANSMISSION\":\"\",n.transmissionMap?\"#define USE_TRANSMISSIONMAP\":\"\",n.thicknessMap?\"#define USE_THICKNESSMAP\":\"\",n.vertexTangents?\"#define USE_TANGENT\":\"\",n.vertexColors?\"#define USE_COLOR\":\"\",n.vertexAlphas?\"#define USE_COLOR_ALPHA\":\"\",n.vertexUvs?\"#define USE_UV\":\"\",n.uvsVertexOnly?\"#define UVS_VERTEX_ONLY\":\"\",n.flatShading?\"#define FLAT_SHADED\":\"\",n.skinning?\"#define USE_SKINNING\":\"\",n.useVertexTexture?\"#define BONE_TEXTURE\":\"\",n.morphTargets?\"#define USE_MORPHTARGETS\":\"\",n.morphNormals&&!1===n.flatShading?\"#define USE_MORPHNORMALS\":\"\",n.doubleSided?\"#define DOUBLE_SIDED\":\"\",n.flipSided?\"#define FLIP_SIDED\":\"\",n.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",n.shadowMapEnabled?\"#define \"+d:\"\",n.sizeAttenuation?\"#define USE_SIZEATTENUATION\":\"\",n.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?\"#define USE_LOGDEPTHBUF_EXT\":\"\",\"uniform mat4 modelMatrix;\",\"uniform mat4 modelViewMatrix;\",\"uniform mat4 projectionMatrix;\",\"uniform mat4 viewMatrix;\",\"uniform mat3 normalMatrix;\",\"uniform vec3 cameraPosition;\",\"uniform bool isOrthographic;\",\"#ifdef USE_INSTANCING\",\"\\tattribute mat4 instanceMatrix;\",\"#endif\",\"#ifdef USE_INSTANCING_COLOR\",\"\\tattribute vec3 instanceColor;\",\"#endif\",\"attribute vec3 position;\",\"attribute vec3 normal;\",\"attribute vec2 uv;\",\"#ifdef USE_TANGENT\",\"\\tattribute vec4 tangent;\",\"#endif\",\"#if defined( USE_COLOR_ALPHA )\",\"\\tattribute vec4 color;\",\"#elif defined( USE_COLOR )\",\"\\tattribute vec3 color;\",\"#endif\",\"#ifdef USE_MORPHTARGETS\",\"\\tattribute vec3 morphTarget0;\",\"\\tattribute vec3 morphTarget1;\",\"\\tattribute vec3 morphTarget2;\",\"\\tattribute vec3 morphTarget3;\",\"\\t#ifdef USE_MORPHNORMALS\",\"\\t\\tattribute vec3 morphNormal0;\",\"\\t\\tattribute vec3 morphNormal1;\",\"\\t\\tattribute vec3 morphNormal2;\",\"\\t\\tattribute vec3 morphNormal3;\",\"\\t#else\",\"\\t\\tattribute vec3 morphTarget4;\",\"\\t\\tattribute vec3 morphTarget5;\",\"\\t\\tattribute vec3 morphTarget6;\",\"\\t\\tattribute vec3 morphTarget7;\",\"\\t#endif\",\"#endif\",\"#ifdef USE_SKINNING\",\"\\tattribute vec4 skinIndex;\",\"\\tattribute vec4 skinWeight;\",\"#endif\",\"\\n\"].filter(hs).join(\"\\n\"),b=[v,bs(n),\"#define SHADER_NAME \"+n.shaderName,y,\"#define GAMMA_FACTOR \"+g,n.useFog&&n.fog?\"#define USE_FOG\":\"\",n.useFog&&n.fogExp2?\"#define FOG_EXP2\":\"\",n.map?\"#define USE_MAP\":\"\",n.matcap?\"#define USE_MATCAP\":\"\",n.envMap?\"#define USE_ENVMAP\":\"\",n.envMap?\"#define \"+p:\"\",n.envMap?\"#define \"+m:\"\",n.envMap?\"#define \"+f:\"\",n.lightMap?\"#define USE_LIGHTMAP\":\"\",n.aoMap?\"#define USE_AOMAP\":\"\",n.emissiveMap?\"#define USE_EMISSIVEMAP\":\"\",n.bumpMap?\"#define USE_BUMPMAP\":\"\",n.normalMap?\"#define USE_NORMALMAP\":\"\",n.normalMap&&n.objectSpaceNormalMap?\"#define OBJECTSPACE_NORMALMAP\":\"\",n.normalMap&&n.tangentSpaceNormalMap?\"#define TANGENTSPACE_NORMALMAP\":\"\",n.clearcoat?\"#define USE_CLEARCOAT\":\"\",n.clearcoatMap?\"#define USE_CLEARCOATMAP\":\"\",n.clearcoatRoughnessMap?\"#define USE_CLEARCOAT_ROUGHNESSMAP\":\"\",n.clearcoatNormalMap?\"#define USE_CLEARCOAT_NORMALMAP\":\"\",n.specularMap?\"#define USE_SPECULARMAP\":\"\",n.specularIntensityMap?\"#define USE_SPECULARINTENSITYMAP\":\"\",n.specularTintMap?\"#define USE_SPECULARTINTMAP\":\"\",n.roughnessMap?\"#define USE_ROUGHNESSMAP\":\"\",n.metalnessMap?\"#define USE_METALNESSMAP\":\"\",n.alphaMap?\"#define USE_ALPHAMAP\":\"\",n.alphaTest?\"#define USE_ALPHATEST\":\"\",n.sheenTint?\"#define USE_SHEEN\":\"\",n.transmission?\"#define USE_TRANSMISSION\":\"\",n.transmissionMap?\"#define USE_TRANSMISSIONMAP\":\"\",n.thicknessMap?\"#define USE_THICKNESSMAP\":\"\",n.vertexTangents?\"#define USE_TANGENT\":\"\",n.vertexColors||n.instancingColor?\"#define USE_COLOR\":\"\",n.vertexAlphas?\"#define USE_COLOR_ALPHA\":\"\",n.vertexUvs?\"#define USE_UV\":\"\",n.uvsVertexOnly?\"#define UVS_VERTEX_ONLY\":\"\",n.gradientMap?\"#define USE_GRADIENTMAP\":\"\",n.flatShading?\"#define FLAT_SHADED\":\"\",n.doubleSided?\"#define DOUBLE_SIDED\":\"\",n.flipSided?\"#define FLIP_SIDED\":\"\",n.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",n.shadowMapEnabled?\"#define \"+d:\"\",n.premultipliedAlpha?\"#define PREMULTIPLIED_ALPHA\":\"\",n.physicallyCorrectLights?\"#define PHYSICALLY_CORRECT_LIGHTS\":\"\",n.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?\"#define USE_LOGDEPTHBUF_EXT\":\"\",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?\"#define TEXTURE_LOD_EXT\":\"\",\"uniform mat4 viewMatrix;\",\"uniform vec3 cameraPosition;\",\"uniform bool isOrthographic;\",0!==n.toneMapping?\"#define TONE_MAPPING\":\"\",0!==n.toneMapping?hi.tonemapping_pars_fragment:\"\",0!==n.toneMapping?cs(\"toneMapping\",n.toneMapping):\"\",n.dithering?\"#define DITHERING\":\"\",n.format===T?\"#define OPAQUE\":\"\",hi.encodings_pars_fragment,n.map?os(\"mapTexelToLinear\",n.mapEncoding):\"\",n.matcap?os(\"matcapTexelToLinear\",n.matcapEncoding):\"\",n.envMap?os(\"envMapTexelToLinear\",n.envMapEncoding):\"\",n.emissiveMap?os(\"emissiveMapTexelToLinear\",n.emissiveMapEncoding):\"\",n.specularTintMap?os(\"specularTintMapTexelToLinear\",n.specularTintMapEncoding):\"\",n.lightMap?os(\"lightMapTexelToLinear\",n.lightMapEncoding):\"\",ls(\"linearToOutputTexel\",n.outputEncoding),n.depthPacking?\"#define DEPTH_PACKING \"+n.depthPacking:\"\",\"\\n\"].filter(hs).join(\"\\n\")),h=ms(h),h=us(h,n),h=ds(h,n),u=ms(u),u=us(u,n),u=ds(u,n),h=ys(h),u=ys(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(M=\"#version 300 es\\n\",_=[\"#define attribute in\",\"#define varying out\",\"#define texture2D texture\"].join(\"\\n\")+\"\\n\"+_,b=[\"#define varying in\",n.glslVersion===it?\"\":\"out highp vec4 pc_fragColor;\",n.glslVersion===it?\"\":\"#define gl_FragColor pc_fragColor\",\"#define gl_FragDepthEXT gl_FragDepth\",\"#define texture2D texture\",\"#define textureCube texture\",\"#define texture2DProj textureProj\",\"#define texture2DLodEXT textureLod\",\"#define texture2DProjLodEXT textureProjLod\",\"#define textureCubeLodEXT textureLod\",\"#define texture2DGradEXT textureGrad\",\"#define texture2DProjGradEXT textureProjGrad\",\"#define textureCubeGradEXT textureGrad\"].join(\"\\n\")+\"\\n\"+b);const w=M+b+u,S=is(a,35633,M+_+h),E=is(a,35632,w);if(a.attachShader(x,S),a.attachShader(x,E),void 0!==n.index0AttributeName?a.bindAttribLocation(x,0,n.index0AttributeName):!0===n.morphTargets&&a.bindAttribLocation(x,0,\"position\"),a.linkProgram(x),t.debug.checkShaderErrors){const t=a.getProgramInfoLog(x).trim(),e=a.getShaderInfoLog(S).trim(),n=a.getShaderInfoLog(E).trim();let i=!0,r=!0;if(!1===a.getProgramParameter(x,35714)){i=!1;const e=as(a,S,\"vertex\"),n=as(a,E,\"fragment\");console.error(\"THREE.WebGLProgram: Shader Error \"+a.getError()+\" - VALIDATE_STATUS \"+a.getProgramParameter(x,35715)+\"\\n\\nProgram Info Log: \"+t+\"\\n\"+e+\"\\n\"+n)}else\"\"!==t?console.warn(\"THREE.WebGLProgram: Program Info Log:\",t):\"\"!==e&&\"\"!==n||(r=!1);r&&(this.diagnostics={runnable:i,programLog:t,vertexShader:{log:e,prefix:_},fragmentShader:{log:n,prefix:b}})}let A,L;return a.deleteShader(S),a.deleteShader(E),this.getUniforms=function(){return void 0===A&&(A=new ns(a,x)),A},this.getAttributes=function(){return void 0===L&&(L=function(t,e){const n={},i=t.getProgramParameter(e,35721);for(let r=0;r<i;r++){const i=t.getActiveAttrib(e,r),s=i.name;let a=1;35674===i.type&&(a=2),35675===i.type&&(a=3),35676===i.type&&(a=4),n[s]={type:i.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}(a,x)),L},this.destroy=function(){i.releaseStatesOfProgram(this),a.deleteProgram(x),this.program=void 0},this.name=n.shaderName,this.id=rs++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=S,this.fragmentShader=E,this}function ws(t,e,n,i,r,s,a){const o=[],h=r.isWebGL2,u=r.logarithmicDepthBuffer,d=r.floatVertexTextures,p=r.maxVertexUniforms,m=r.vertexTextures;let f=r.precision;const g={MeshDepthMaterial:\"depth\",MeshDistanceMaterial:\"distanceRGBA\",MeshNormalMaterial:\"normal\",MeshBasicMaterial:\"basic\",MeshLambertMaterial:\"lambert\",MeshPhongMaterial:\"phong\",MeshToonMaterial:\"toon\",MeshStandardMaterial:\"physical\",MeshPhysicalMaterial:\"physical\",MeshMatcapMaterial:\"matcap\",LineBasicMaterial:\"basic\",LineDashedMaterial:\"dashed\",PointsMaterial:\"points\",ShadowMaterial:\"shadow\",SpriteMaterial:\"sprite\"},v=[\"precision\",\"isWebGL2\",\"supportsVertexTextures\",\"outputEncoding\",\"instancing\",\"instancingColor\",\"map\",\"mapEncoding\",\"matcap\",\"matcapEncoding\",\"envMap\",\"envMapMode\",\"envMapEncoding\",\"envMapCubeUV\",\"lightMap\",\"lightMapEncoding\",\"aoMap\",\"emissiveMap\",\"emissiveMapEncoding\",\"bumpMap\",\"normalMap\",\"objectSpaceNormalMap\",\"tangentSpaceNormalMap\",\"clearcoat\",\"clearcoatMap\",\"clearcoatRoughnessMap\",\"clearcoatNormalMap\",\"displacementMap\",\"specularMap\",\"specularIntensityMap\",\"specularTintMap\",\"specularTintMapEncoding\",\"roughnessMap\",\"metalnessMap\",\"gradientMap\",\"alphaMap\",\"alphaTest\",\"combine\",\"vertexColors\",\"vertexAlphas\",\"vertexTangents\",\"vertexUvs\",\"uvsVertexOnly\",\"fog\",\"useFog\",\"fogExp2\",\"flatShading\",\"sizeAttenuation\",\"logarithmicDepthBuffer\",\"skinning\",\"maxBones\",\"useVertexTexture\",\"morphTargets\",\"morphNormals\",\"premultipliedAlpha\",\"numDirLights\",\"numPointLights\",\"numSpotLights\",\"numHemiLights\",\"numRectAreaLights\",\"numDirLightShadows\",\"numPointLightShadows\",\"numSpotLightShadows\",\"shadowMapEnabled\",\"shadowMapType\",\"toneMapping\",\"physicallyCorrectLights\",\"doubleSided\",\"flipSided\",\"numClippingPlanes\",\"numClipIntersection\",\"depthPacking\",\"dithering\",\"format\",\"sheenTint\",\"transmission\",\"transmissionMap\",\"thicknessMap\"];function y(t){let e;return t&&t.isTexture?e=t.encoding:t&&t.isWebGLRenderTarget?(console.warn(\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\"),e=t.texture.encoding):e=X,e}return{getParameters:function(s,o,v,x,_){const b=x.fog,M=s.isMeshStandardMaterial?x.environment:null,w=(s.isMeshStandardMaterial?n:e).get(s.envMap||M),S=g[s.type],T=_.isSkinnedMesh?function(t){const e=t.skeleton.bones;if(d)return 1024;{const t=p,n=Math.floor((t-20)/4),i=Math.min(n,e.length);return i<e.length?(console.warn(\"THREE.WebGLRenderer: Skeleton has \"+e.length+\" bones. This GPU supports \"+i+\".\"),0):i}}(_):0;let E,A;if(null!==s.precision&&(f=r.getMaxPrecision(s.precision),f!==s.precision&&console.warn(\"THREE.WebGLProgram.getParameters:\",s.precision,\"not supported, using\",f,\"instead.\")),S){const t=di[S];E=t.vertexShader,A=t.fragmentShader}else E=s.vertexShader,A=s.fragmentShader;const L=t.getRenderTarget(),R=s.alphaTest>0,C=s.clearcoat>0;return{isWebGL2:h,shaderID:S,shaderName:s.type,vertexShader:E,fragmentShader:A,defines:s.defines,isRawShaderMaterial:!0===s.isRawShaderMaterial,glslVersion:s.glslVersion,precision:f,instancing:!0===_.isInstancedMesh,instancingColor:!0===_.isInstancedMesh&&null!==_.instanceColor,supportsVertexTextures:m,outputEncoding:null!==L?y(L.texture):t.outputEncoding,map:!!s.map,mapEncoding:y(s.map),matcap:!!s.matcap,matcapEncoding:y(s.matcap),envMap:!!w,envMapMode:w&&w.mapping,envMapEncoding:y(w),envMapCubeUV:!!w&&(w.mapping===l||w.mapping===c),lightMap:!!s.lightMap,lightMapEncoding:y(s.lightMap),aoMap:!!s.aoMap,emissiveMap:!!s.emissiveMap,emissiveMapEncoding:y(s.emissiveMap),bumpMap:!!s.bumpMap,normalMap:!!s.normalMap,objectSpaceNormalMap:1===s.normalMapType,tangentSpaceNormalMap:0===s.normalMapType,clearcoat:C,clearcoatMap:C&&!!s.clearcoatMap,clearcoatRoughnessMap:C&&!!s.clearcoatRoughnessMap,clearcoatNormalMap:C&&!!s.clearcoatNormalMap,displacementMap:!!s.displacementMap,roughnessMap:!!s.roughnessMap,metalnessMap:!!s.metalnessMap,specularMap:!!s.specularMap,specularIntensityMap:!!s.specularIntensityMap,specularTintMap:!!s.specularTintMap,specularTintMapEncoding:y(s.specularTintMap),alphaMap:!!s.alphaMap,alphaTest:R,gradientMap:!!s.gradientMap,sheenTint:!!s.sheenTint&&(s.sheenTint.r>0||s.sheenTint.g>0||s.sheenTint.b>0),transmission:s.transmission>0,transmissionMap:!!s.transmissionMap,thicknessMap:!!s.thicknessMap,combine:s.combine,vertexTangents:!!s.normalMap&&!!_.geometry&&!!_.geometry.attributes.tangent,vertexColors:s.vertexColors,vertexAlphas:!0===s.vertexColors&&!!_.geometry&&!!_.geometry.attributes.color&&4===_.geometry.attributes.color.itemSize,vertexUvs:!!(s.map||s.bumpMap||s.normalMap||s.specularMap||s.alphaMap||s.emissiveMap||s.roughnessMap||s.metalnessMap||s.clearcoatMap||s.clearcoatRoughnessMap||s.clearcoatNormalMap||s.displacementMap||s.transmissionMap||s.thicknessMap||s.specularIntensityMap||s.specularTintMap),uvsVertexOnly:!(s.map||s.bumpMap||s.normalMap||s.specularMap||s.alphaMap||s.emissiveMap||s.roughnessMap||s.metalnessMap||s.clearcoatNormalMap||s.transmission>0||s.transmissionMap||s.thicknessMap||s.specularIntensityMap||s.specularTintMap||!s.displacementMap),fog:!!b,useFog:s.fog,fogExp2:b&&b.isFogExp2,flatShading:!!s.flatShading,sizeAttenuation:s.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===_.isSkinnedMesh&&T>0,maxBones:T,useVertexTexture:d,morphTargets:!!_.geometry&&!!_.geometry.morphAttributes.position,morphNormals:!!_.geometry&&!!_.geometry.morphAttributes.normal,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,format:s.format,dithering:s.dithering,shadowMapEnabled:t.shadowMap.enabled&&v.length>0,shadowMapType:t.shadowMap.type,toneMapping:s.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:s.premultipliedAlpha,doubleSided:2===s.side,flipSided:1===s.side,depthPacking:void 0!==s.depthPacking&&s.depthPacking,index0AttributeName:s.index0AttributeName,extensionDerivatives:s.extensions&&s.extensions.derivatives,extensionFragDepth:s.extensions&&s.extensions.fragDepth,extensionDrawBuffers:s.extensions&&s.extensions.drawBuffers,extensionShaderTextureLOD:s.extensions&&s.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||i.has(\"EXT_frag_depth\"),rendererExtensionDrawBuffers:h||i.has(\"WEBGL_draw_buffers\"),rendererExtensionShaderTextureLod:h||i.has(\"EXT_shader_texture_lod\"),customProgramCacheKey:s.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);if(!1===e.isRawShaderMaterial){for(let t=0;t<v.length;t++)n.push(e[v[t]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=g[t.type];let n;if(e){const t=di[e];n=qn.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let i;for(let t=0,e=o.length;t<e;t++){const e=o[t];if(e.cacheKey===n){i=e,++i.usedTimes;break}}return void 0===i&&(i=new Ms(t,n,e,s),o.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){const e=o.indexOf(t);o[e]=o[o.length-1],o.pop(),t.destroy()}},programs:o}}function Ss(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function Ts(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Es(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function As(t){const e=[];let n=0;const i=[],r=[],s=[],a={id:-1};function o(i,r,s,o,l,c){let h=e[n];const u=t.get(s);return void 0===h?(h={id:i.id,object:i,geometry:r,material:s,program:u.program||a,groupOrder:o,renderOrder:i.renderOrder,z:l,group:c},e[n]=h):(h.id=i.id,h.object=i,h.geometry=r,h.material=s,h.program=u.program||a,h.groupOrder=o,h.renderOrder=i.renderOrder,h.z=l,h.group=c),n++,h}return{opaque:i,transmissive:r,transparent:s,init:function(){n=0,i.length=0,r.length=0,s.length=0},push:function(t,e,n,a,l,c){const h=o(t,e,n,a,l,c);n.transmission>0?r.push(h):!0===n.transparent?s.push(h):i.push(h)},unshift:function(t,e,n,a,l,c){const h=o(t,e,n,a,l,c);n.transmission>0?r.unshift(h):!0===n.transparent?s.unshift(h):i.unshift(h)},finish:function(){for(let t=n,i=e.length;t<i;t++){const n=e[t];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(t,e){i.length>1&&i.sort(t||Ts),r.length>1&&r.sort(e||Es),s.length>1&&s.sort(e||Es)}}}function Ls(t){let e=new WeakMap;return{get:function(n,i){let r;return!1===e.has(n)?(r=new As(t),e.set(n,[r])):i>=e.get(n).length?(r=new As(t),e.get(n).push(r)):r=e.get(n)[i],r},dispose:function(){e=new WeakMap}}}function Rs(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case\"DirectionalLight\":n={direction:new Rt,color:new Qe};break;case\"SpotLight\":n={position:new Rt,direction:new Rt,color:new Qe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case\"PointLight\":n={position:new Rt,color:new Qe,distance:0,decay:0};break;case\"HemisphereLight\":n={direction:new Rt,skyColor:new Qe,groundColor:new Qe};break;case\"RectAreaLight\":n={color:new Qe,position:new Rt,halfWidth:new Rt,halfHeight:new Rt}}return t[e.id]=n,n}}}let Cs=0;function Ps(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function Is(t,e){const n=new Rs,i=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case\"DirectionalLight\":case\"SpotLight\":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vt};break;case\"PointLight\":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vt,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let t=0;t<9;t++)r.probe.push(new Rt);const s=new Rt,a=new ae,o=new ae;return{setup:function(s,a){let o=0,l=0,c=0;for(let t=0;t<9;t++)r.probe[t].set(0,0,0);let h=0,u=0,d=0,p=0,m=0,f=0,g=0,v=0;s.sort(Ps);const y=!0!==a?Math.PI:1;for(let t=0,e=s.length;t<e;t++){const e=s[t],a=e.color,x=e.intensity,_=e.distance,b=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)o+=a.r*x*y,l+=a.g*x*y,c+=a.b*x*y;else if(e.isLightProbe)for(let t=0;t<9;t++)r.probe[t].addScaledVector(e.sh.coefficients[t],x);else if(e.isDirectionalLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity*y),e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.directionalShadow[h]=n,r.directionalShadowMap[h]=b,r.directionalShadowMatrix[h]=e.shadow.matrix,f++}r.directional[h]=t,h++}else if(e.isSpotLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(a).multiplyScalar(x*y),t.distance=_,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.spotShadow[d]=n,r.spotShadowMap[d]=b,r.spotShadowMatrix[d]=e.shadow.matrix,v++}r.spot[d]=t,d++}else if(e.isRectAreaLight){const t=n.get(e);t.color.copy(a).multiplyScalar(x),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),r.rectArea[p]=t,p++}else if(e.isPointLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity*y),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,n.shadowCameraNear=t.camera.near,n.shadowCameraFar=t.camera.far,r.pointShadow[u]=n,r.pointShadowMap[u]=b,r.pointShadowMatrix[u]=e.shadow.matrix,g++}r.point[u]=t,u++}else if(e.isHemisphereLight){const t=n.get(e);t.skyColor.copy(e.color).multiplyScalar(x*y),t.groundColor.copy(e.groundColor).multiplyScalar(x*y),r.hemi[m]=t,m++}}p>0&&(e.isWebGL2||!0===t.has(\"OES_texture_float_linear\")?(r.rectAreaLTC1=ui.LTC_FLOAT_1,r.rectAreaLTC2=ui.LTC_FLOAT_2):!0===t.has(\"OES_texture_half_float_linear\")?(r.rectAreaLTC1=ui.LTC_HALF_1,r.rectAreaLTC2=ui.LTC_HALF_2):console.error(\"THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.\")),r.ambient[0]=o,r.ambient[1]=l,r.ambient[2]=c;const x=r.hash;x.directionalLength===h&&x.pointLength===u&&x.spotLength===d&&x.rectAreaLength===p&&x.hemiLength===m&&x.numDirectionalShadows===f&&x.numPointShadows===g&&x.numSpotShadows===v||(r.directional.length=h,r.spot.length=d,r.rectArea.length=p,r.point.length=u,r.hemi.length=m,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=g,r.pointShadowMap.length=g,r.spotShadow.length=v,r.spotShadowMap.length=v,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=g,r.spotShadowMatrix.length=v,x.directionalLength=h,x.pointLength=u,x.spotLength=d,x.rectAreaLength=p,x.hemiLength=m,x.numDirectionalShadows=f,x.numPointShadows=g,x.numSpotShadows=v,r.version=Cs++)},setupView:function(t,e){let n=0,i=0,l=0,c=0,h=0;const u=e.matrixWorldInverse;for(let e=0,d=t.length;e<d;e++){const d=t[e];if(d.isDirectionalLight){const t=r.directional[n];t.direction.setFromMatrixPosition(d.matrixWorld),s.setFromMatrixPosition(d.target.matrixWorld),t.direction.sub(s),t.direction.transformDirection(u),n++}else if(d.isSpotLight){const t=r.spot[l];t.position.setFromMatrixPosition(d.matrixWorld),t.position.applyMatrix4(u),t.direction.setFromMatrixPosition(d.matrixWorld),s.setFromMatrixPosition(d.target.matrixWorld),t.direction.sub(s),t.direction.transformDirection(u),l++}else if(d.isRectAreaLight){const t=r.rectArea[c];t.position.setFromMatrixPosition(d.matrixWorld),t.position.applyMatrix4(u),o.identity(),a.copy(d.matrixWorld),a.premultiply(u),o.extractRotation(a),t.halfWidth.set(.5*d.width,0,0),t.halfHeight.set(0,.5*d.height,0),t.halfWidth.applyMatrix4(o),t.halfHeight.applyMatrix4(o),c++}else if(d.isPointLight){const t=r.point[i];t.position.setFromMatrixPosition(d.matrixWorld),t.position.applyMatrix4(u),i++}else if(d.isHemisphereLight){const t=r.hemi[h];t.direction.setFromMatrixPosition(d.matrixWorld),t.direction.transformDirection(u),t.direction.normalize(),h++}}},state:r}}function Ds(t,e){const n=new Is(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(t){n.setup(i,t)},setupLightsView:function(t){n.setupView(i,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function Ns(t,e){let n=new WeakMap;return{get:function(i,r=0){let s;return!1===n.has(i)?(s=new Ds(t,e),n.set(i,[s])):r>=n.get(i).length?(s=new Ds(t,e),n.get(i).push(s)):s=n.get(i)[r],s},dispose:function(){n=new WeakMap}}}class zs extends We{constructor(t){super(),this.type=\"MeshDepthMaterial\",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}zs.prototype.isMeshDepthMaterial=!0;class Bs extends We{constructor(t){super(),this.type=\"MeshDistanceMaterial\",this.referencePosition=new Rt,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}Bs.prototype.isMeshDistanceMaterial=!0;function Fs(t,e,n){let i=new ai;const r=new vt,s=new vt,a=new St,o=new zs({depthPacking:3201}),l=new Bs,c={},h=n.maxTextureSize,u={0:1,1:0,2:2},d=new Xn({uniforms:{shadow_pass:{value:null},resolution:{value:new vt},radius:{value:4},samples:{value:8}},vertexShader:\"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\",fragmentShader:\"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\nuniform float samples;\\n#include <packing>\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\\n\\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\\n\\tfor ( float i = 0.0; i < samples; i ++ ) {\\n\\t\\tfloat uvOffset = uvStart + i * uvStride;\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean / samples;\\n\\tsquared_mean = squared_mean / samples;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\"}),m=d.clone();m.defines.HORIZONTAL_PASS=1;const f=new wn;f.setAttribute(\"position\",new en(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Gn(f,d),y=this;function x(n,i){const r=e.update(v);d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,d.uniforms.samples.value=n.blurSamples,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,d,v,null),m.uniforms.shadow_pass.value=n.mapPass.texture,m.uniforms.resolution.value=n.mapSize,m.uniforms.radius.value=n.radius,m.uniforms.samples.value=n.blurSamples,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,m,v,null)}function _(e,n,i,r,s,a,h){let d=null;const p=!0===r.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(d=void 0!==p?p:!0===r.isPointLight?l:o,t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length||i.displacementMap&&0!==i.displacementScale||i.alphaMap&&i.alphaTest>0){const t=d.uuid,e=i.uuid;let n=c[t];void 0===n&&(n={},c[t]=n);let r=n[e];void 0===r&&(r=d.clone(),n[e]=r),d=r}return d.visible=i.visible,d.wireframe=i.wireframe,d.side=3===h?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:u[i.side],d.alphaMap=i.alphaMap,d.alphaTest=i.alphaTest,d.clipShadows=i.clipShadows,d.clippingPlanes=i.clippingPlanes,d.clipIntersection=i.clipIntersection,d.displacementMap=i.displacementMap,d.displacementScale=i.displacementScale,d.displacementBias=i.displacementBias,d.wireframeLinewidth=i.wireframeLinewidth,d.linewidth=i.linewidth,!0===r.isPointLight&&!0===d.isMeshDistanceMaterial&&(d.referencePosition.setFromMatrixPosition(r.matrixWorld),d.nearDistance=s,d.farDistance=a),d}function b(n,r,s,a,o){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===o)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,n.matrixWorld);const i=e.update(n),r=n.material;if(Array.isArray(r)){const e=i.groups;for(let l=0,c=e.length;l<c;l++){const c=e[l],h=r[c.materialIndex];if(h&&h.visible){const e=_(n,0,h,a,s.near,s.far,o);t.renderBufferDirect(s,null,i,e,n,c)}}}else if(r.visible){const e=_(n,0,r,a,s.near,s.far,o);t.renderBufferDirect(s,null,i,e,n,null)}}const l=n.children;for(let t=0,e=l.length;t<e;t++)b(l[t],r,s,a,o)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,n,o){if(!1===y.enabled)return;if(!1===y.autoUpdate&&!1===y.needsUpdate)return;if(0===e.length)return;const l=t.getRenderTarget(),c=t.getActiveCubeFace(),u=t.getActiveMipmapLevel(),d=t.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let l=0,c=e.length;l<c;l++){const c=e[l],u=c.shadow;if(void 0===u){console.warn(\"THREE.WebGLShadowMap:\",c,\"has no shadow.\");continue}if(!1===u.autoUpdate&&!1===u.needsUpdate)continue;r.copy(u.mapSize);const m=u.getFrameExtents();if(r.multiply(m),s.copy(u.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/m.x),r.x=s.x*m.x,u.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/m.y),r.y=s.y*m.y,u.mapSize.y=s.y)),null===u.map&&!u.isPointLightShadow&&3===this.type){const t={minFilter:g,magFilter:g,format:E};u.map=new Tt(r.x,r.y,t),u.map.texture.name=c.name+\".shadowMap\",u.mapPass=new Tt(r.x,r.y,t),u.camera.updateProjectionMatrix()}if(null===u.map){const t={minFilter:p,magFilter:p,format:E};u.map=new Tt(r.x,r.y,t),u.map.texture.name=c.name+\".shadowMap\",u.camera.updateProjectionMatrix()}t.setRenderTarget(u.map),t.clear();const f=u.getViewportCount();for(let t=0;t<f;t++){const e=u.getViewport(t);a.set(s.x*e.x,s.y*e.y,s.x*e.z,s.y*e.w),d.viewport(a),u.updateMatrices(c,t),i=u.getFrustum(),b(n,o,u.camera,c,this.type)}u.isPointLightShadow||3!==this.type||x(u,o),u.needsUpdate=!1}y.needsUpdate=!1,t.setRenderTarget(l,c,u)}}function Os(t,e,i){const r=i.isWebGL2;const s=new function(){let e=!1;const n=new St;let i=null;const r=new St(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,s,a,o){!0===o&&(e*=a,i*=a,s*=a),n.set(e,i,s,a),!1===r.equals(n)&&(t.clearColor(e,i,s,a),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},a=new function(){let e=!1,n=null,i=null,r=null;return{setTest:function(t){t?O(2929):U(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},o=new function(){let e=!1,n=null,i=null,r=null,s=null,a=null,o=null,l=null,c=null;return{setTest:function(t){e||(t?O(2960):U(2960))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,a){i===e&&r===n&&s===a||(t.stencilFunc(e,n,a),i=e,r=n,s=a)},setOp:function(e,n,i){a===e&&o===n&&l===i||(t.stencilOp(e,n,i),a=e,o=n,l=i)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,i=null,r=null,s=null,a=null,o=null,l=null,c=null}}};let l={},c=null,h={},u=null,d=!1,p=null,m=null,f=null,g=null,v=null,y=null,x=null,_=!1,b=null,M=null,w=null,S=null,T=null;const E=t.getParameter(35661);let A=!1,L=0;const R=t.getParameter(7938);-1!==R.indexOf(\"WebGL\")?(L=parseFloat(/^WebGL (\\d)/.exec(R)[1]),A=L>=1):-1!==R.indexOf(\"OpenGL ES\")&&(L=parseFloat(/^OpenGL ES (\\d)/.exec(R)[1]),A=L>=2);let C=null,P={};const I=t.getParameter(3088),D=t.getParameter(2978),N=(new St).fromArray(I),z=(new St).fromArray(D);function B(e,n,i){const r=new Uint8Array(4),s=t.createTexture();t.bindTexture(e,s),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let e=0;e<i;e++)t.texImage2D(n+e,0,6408,1,1,0,6408,5121,r);return s}const F={};function O(e){!0!==l[e]&&(t.enable(e),l[e]=!0)}function U(e){!1!==l[e]&&(t.disable(e),l[e]=!1)}F[3553]=B(3553,3553,1),F[34067]=B(34067,34069,6),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),O(2929),a.setFunc(3),V(!1),W(1),O(2884),k(0);const H={[n]:32774,101:32778,102:32779};if(r)H[103]=32775,H[104]=32776;else{const t=e.get(\"EXT_blend_minmax\");null!==t&&(H[103]=t.MIN_EXT,H[104]=t.MAX_EXT)}const G={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function k(e,i,r,s,a,o,l,c){if(0!==e){if(!1===d&&(O(3042),d=!0),5===e)a=a||i,o=o||r,l=l||s,i===m&&a===v||(t.blendEquationSeparate(H[i],H[a]),m=i,v=a),r===f&&s===g&&o===y&&l===x||(t.blendFuncSeparate(G[r],G[s],G[o],G[l]),f=r,g=s,y=o,x=l),p=e,_=null;else if(e!==p||c!==_){if(m===n&&v===n||(t.blendEquation(32774),m=n,v=n),c)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error(\"THREE.WebGLState: Invalid blending: \",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error(\"THREE.WebGLState: Invalid blending: \",e)}f=null,g=null,y=null,x=null,p=e,_=c}}else!0===d&&(U(3042),d=!1)}function V(e){b!==e&&(e?t.frontFace(2304):t.frontFace(2305),b=e)}function W(e){0!==e?(O(2884),e!==M&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):U(2884),M=e}function j(e,n,i){e?(O(32823),S===n&&T===i||(t.polygonOffset(n,i),S=n,T=i)):U(32823)}function q(e){void 0===e&&(e=33984+E-1),C!==e&&(t.activeTexture(e),C=e)}return{buffers:{color:s,depth:a,stencil:o},enable:O,disable:U,bindFramebuffer:function(e,n){return null===n&&null!==c&&(n=c),h[e]!==n&&(t.bindFramebuffer(e,n),h[e]=n,r&&(36009===e&&(h[36160]=n),36160===e&&(h[36009]=n)),!0)},bindXRFramebuffer:function(e){e!==c&&(t.bindFramebuffer(36160,e),c=e)},useProgram:function(e){return u!==e&&(t.useProgram(e),u=e,!0)},setBlending:k,setMaterial:function(t,e){2===t.side?U(2884):O(2884);let n=1===t.side;e&&(n=!n),V(n),1===t.blending&&!1===t.transparent?k(0):k(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),a.setFunc(t.depthFunc),a.setTest(t.depthTest),a.setMask(t.depthWrite),s.setMask(t.colorWrite);const i=t.stencilWrite;o.setTest(i),i&&(o.setMask(t.stencilWriteMask),o.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),o.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),j(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?O(32926):U(32926)},setFlipSided:V,setCullFace:W,setLineWidth:function(e){e!==w&&(A&&t.lineWidth(e),w=e)},setPolygonOffset:j,setScissorTest:function(t){t?O(3089):U(3089)},activeTexture:q,bindTexture:function(e,n){null===C&&q();let i=P[C];void 0===i&&(i={type:void 0,texture:void 0},P[C]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||F[e]),i.type=e,i.texture=n)},unbindTexture:function(){const e=P[C];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(\"THREE.WebGLState:\",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(\"THREE.WebGLState:\",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error(\"THREE.WebGLState:\",t)}},scissor:function(e){!1===N.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),N.copy(e))},viewport:function(e){!1===z.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),z.copy(e))},reset:function(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),!0===r&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),l={},C=null,P={},c=null,h={},u=null,d=!1,p=null,m=null,f=null,g=null,v=null,y=null,x=null,_=!1,b=null,M=null,w=null,S=null,T=null,N.set(0,0,t.canvas.width,t.canvas.height),z.set(0,0,t.canvas.width,t.canvas.height),s.reset(),a.reset(),o.reset()}}}function Us(t,e,n,i,r,s,a){const o=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,x=r.maxTextureSize,R=r.maxSamples,C=new WeakMap;let P,I=!1;try{I=\"undefined\"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext(\"2d\")}catch(t){}function D(t,e){return I?new OffscreenCanvas(t,e):document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\")}function N(t,e,n,i){let r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if(\"undefined\"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||\"undefined\"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||\"undefined\"!=typeof ImageBitmap&&t instanceof ImageBitmap){const i=e?ft:Math.floor,s=i(r*t.width),a=i(r*t.height);void 0===P&&(P=D(s,a));const o=n?D(s,a):P;o.width=s,o.height=a;return o.getContext(\"2d\").drawImage(t,0,0,s,a),console.warn(\"THREE.WebGLRenderer: Texture has been resized from (\"+t.width+\"x\"+t.height+\") to (\"+s+\"x\"+a+\").\"),o}return\"data\"in t&&console.warn(\"THREE.WebGLRenderer: Image in DataTexture is too big (\"+t.width+\"x\"+t.height+\").\"),t}return t}function z(t){return pt(t.width)&&pt(t.height)}function B(t,e){return t.generateMipmaps&&e&&t.minFilter!==p&&t.minFilter!==g}function F(e,n,r,s,a=1){t.generateMipmap(e);i.get(n).__maxMipLevel=Math.log2(Math.max(r,s,a))}function O(n,i,r){if(!1===o)return i;if(null!==n){if(void 0!==t[n])return t[n];console.warn(\"THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '\"+n+\"'\")}let s=i;return 6403===i&&(5126===r&&(s=33326),5131===r&&(s=33325),5121===r&&(s=33321)),6407===i&&(5126===r&&(s=34837),5131===r&&(s=34843),5121===r&&(s=32849)),6408===i&&(5126===r&&(s=34836),5131===r&&(s=34842),5121===r&&(s=32856)),33325!==s&&33326!==s&&34842!==s&&34836!==s||e.get(\"EXT_color_buffer_float\"),s}function U(t){return t===p||t===m||t===f?9728:9729}function H(e){const n=e.target;n.removeEventListener(\"dispose\",H),function(e){const n=i.get(e);if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture),i.remove(e)}(n),n.isVideoTexture&&C.delete(n),a.memory.textures--}function G(e){const n=e.target;n.removeEventListener(\"dispose\",G),function(e){const n=e.texture,r=i.get(e),s=i.get(n);if(!e)return;void 0!==s.__webglTexture&&(t.deleteTexture(s.__webglTexture),a.memory.textures--);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(r.__webglFramebuffer[e]),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer[e]);else t.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&t.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&t.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&t.deleteRenderbuffer(r.__webglDepthRenderbuffer);if(e.isWebGLMultipleRenderTargets)for(let e=0,r=n.length;e<r;e++){const r=i.get(n[e]);r.__webglTexture&&(t.deleteTexture(r.__webglTexture),a.memory.textures--),i.remove(n[e])}i.remove(n),i.remove(e)}(n)}let k=0;function V(t,e){const r=i.get(t);if(t.isVideoTexture&&function(t){const e=a.render.frame;C.get(t)!==e&&(C.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){const n=t.image;if(void 0===n)console.warn(\"THREE.WebGLRenderer: Texture marked for update but image is undefined\");else{if(!1!==n.complete)return void J(r,t,e);console.warn(\"THREE.WebGLRenderer: Texture marked for update but image is incomplete\")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function W(e,r){const a=i.get(e);e.version>0&&a.__version!==e.version?function(e,i,r){if(6!==i.image.length)return;Y(e,i),n.activeTexture(33984+r),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment),t.pixelStorei(37443,0);const a=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),l=i.image[0]&&i.image[0].isDataTexture,h=[];for(let t=0;t<6;t++)h[t]=a||l?l?i.image[t].image:i.image[t]:N(i.image[t],!1,!0,c);const u=h[0],d=z(u)||o,p=s.convert(i.format),m=s.convert(i.type),f=O(i.internalFormat,p,m);let g;if(X(34067,i,d),a){for(let t=0;t<6;t++){g=h[t].mipmaps;for(let e=0;e<g.length;e++){const r=g[e];i.format!==E&&i.format!==T?null!==p?n.compressedTexImage2D(34069+t,e,f,r.width,r.height,0,r.data):console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\"):n.texImage2D(34069+t,e,f,r.width,r.height,0,p,m,r.data)}}e.__maxMipLevel=g.length-1}else{g=i.mipmaps;for(let t=0;t<6;t++)if(l){n.texImage2D(34069+t,0,f,h[t].width,h[t].height,0,p,m,h[t].data);for(let e=0;e<g.length;e++){const i=g[e].image[t].image;n.texImage2D(34069+t,e+1,f,i.width,i.height,0,p,m,i.data)}}else{n.texImage2D(34069+t,0,f,p,m,h[t]);for(let e=0;e<g.length;e++){const i=g[e];n.texImage2D(34069+t,e+1,f,p,m,i.image[t])}}e.__maxMipLevel=g.length}B(i,d)&&F(34067,i,u.width,u.height);e.__version=i.version,i.onUpdate&&i.onUpdate(i)}(a,e,r):(n.activeTexture(33984+r),n.bindTexture(34067,a.__webglTexture))}const j={[h]:10497,[u]:33071,[d]:33648},q={[p]:9728,[m]:9984,[f]:9986,[g]:9729,[v]:9985,[y]:9987};function X(n,s,a){if(a?(t.texParameteri(n,10242,j[s.wrapS]),t.texParameteri(n,10243,j[s.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,j[s.wrapR]),t.texParameteri(n,10240,q[s.magFilter]),t.texParameteri(n,10241,q[s.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),s.wrapS===u&&s.wrapT===u||console.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.\"),t.texParameteri(n,10240,U(s.magFilter)),t.texParameteri(n,10241,U(s.minFilter)),s.minFilter!==p&&s.minFilter!==g&&console.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.\")),!0===e.has(\"EXT_texture_filter_anisotropic\")){const a=e.get(\"EXT_texture_filter_anisotropic\");if(s.type===M&&!1===e.has(\"OES_texture_float_linear\"))return;if(!1===o&&s.type===w&&!1===e.has(\"OES_texture_half_float_linear\"))return;(s.anisotropy>1||i.get(s).__currentAnisotropy)&&(t.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,r.getMaxAnisotropy())),i.get(s).__currentAnisotropy=s.anisotropy)}}function Y(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener(\"dispose\",H),e.__webglTexture=t.createTexture(),a.memory.textures++)}function J(e,i,r){let a=3553;i.isDataTexture2DArray&&(a=35866),i.isDataTexture3D&&(a=32879),Y(e,i),n.activeTexture(33984+r),n.bindTexture(a,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment),t.pixelStorei(37443,0);const l=function(t){return!o&&(t.wrapS!==u||t.wrapT!==u||t.minFilter!==p&&t.minFilter!==g)}(i)&&!1===z(i.image),c=N(i.image,l,!1,x),h=z(c)||o,d=s.convert(i.format);let m,f=s.convert(i.type),v=O(i.internalFormat,d,f);X(a,i,h);const y=i.mipmaps;if(i.isDepthTexture)v=6402,o?v=i.type===M?36012:i.type===b?33190:i.type===S?35056:33189:i.type===M&&console.error(\"WebGLRenderer: Floating point depth texture requires WebGL2.\"),i.format===A&&6402===v&&i.type!==_&&i.type!==b&&(console.warn(\"THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.\"),i.type=_,f=s.convert(i.type)),i.format===L&&6402===v&&(v=34041,i.type!==S&&(console.warn(\"THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.\"),i.type=S,f=s.convert(i.type))),n.texImage2D(3553,0,v,c.width,c.height,0,d,f,null);else if(i.isDataTexture)if(y.length>0&&h){for(let t=0,e=y.length;t<e;t++)m=y[t],n.texImage2D(3553,t,v,m.width,m.height,0,d,f,m.data);i.generateMipmaps=!1,e.__maxMipLevel=y.length-1}else n.texImage2D(3553,0,v,c.width,c.height,0,d,f,c.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(let t=0,e=y.length;t<e;t++)m=y[t],i.format!==E&&i.format!==T?null!==d?n.compressedTexImage2D(3553,t,v,m.width,m.height,0,m.data):console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\"):n.texImage2D(3553,t,v,m.width,m.height,0,d,f,m.data);e.__maxMipLevel=y.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,v,c.width,c.height,c.depth,0,d,f,c.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,v,c.width,c.height,c.depth,0,d,f,c.data),e.__maxMipLevel=0;else if(y.length>0&&h){for(let t=0,e=y.length;t<e;t++)m=y[t],n.texImage2D(3553,t,v,d,f,m);i.generateMipmaps=!1,e.__maxMipLevel=y.length-1}else n.texImage2D(3553,0,v,d,f,c),e.__maxMipLevel=0;B(i,h)&&F(a,i,c.width,c.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function Z(e,r,a,o,l){const c=s.convert(a.format),h=s.convert(a.type),u=O(a.internalFormat,c,h);32879===l||35866===l?n.texImage3D(l,0,u,r.width,r.height,r.depth,0,c,h,null):n.texImage2D(l,0,u,r.width,r.height,0,c,h,null),n.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,l,i.get(a).__webglTexture,0),n.bindFramebuffer(36160,null)}function Q(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let r=33189;if(i){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===M?r=36012:e.type===b&&(r=33190));const i=$(n);t.renderbufferStorageMultisample(36161,i,r,n.width,n.height)}else t.renderbufferStorage(36161,r,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){const e=$(n);t.renderbufferStorageMultisample(36161,e,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,r=s.convert(e.format),a=s.convert(e.type),o=O(e.internalFormat,r,a);if(i){const e=$(n);t.renderbufferStorageMultisample(36161,e,o,n.width,n.height)}else t.renderbufferStorage(36161,o,n.width,n.height)}t.bindRenderbuffer(36161,null)}function K(e){const r=i.get(e),s=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(s)throw new Error(\"target.depthTexture not supported in Cube render targets\");!function(e,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error(\"Depth Texture with cube render targets is not supported\");if(n.bindFramebuffer(36160,e),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error(\"renderTarget.depthTexture must be an instance of THREE.DepthTexture\");i.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),V(r.depthTexture,0);const s=i.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===A)t.framebufferTexture2D(36160,36096,3553,s,0);else{if(r.depthTexture.format!==L)throw new Error(\"Unknown depthTexture format\");t.framebufferTexture2D(36160,33306,3553,s,0)}}(r.__webglFramebuffer,e)}else if(s){r.__webglDepthbuffer=[];for(let i=0;i<6;i++)n.bindFramebuffer(36160,r.__webglFramebuffer[i]),r.__webglDepthbuffer[i]=t.createRenderbuffer(),Q(r.__webglDepthbuffer[i],e,!1)}else n.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=t.createRenderbuffer(),Q(r.__webglDepthbuffer,e,!1);n.bindFramebuffer(36160,null)}function $(t){return o&&t.isWebGLMultisampleRenderTarget?Math.min(R,t.samples):0}let tt=!1,et=!1;this.allocateTextureUnit=function(){const t=k;return t>=l&&console.warn(\"THREE.WebGLTextures: Trying to use \"+t+\" texture units while this GPU supports only \"+l),k+=1,t},this.resetTextureUnits=function(){k=0},this.setTexture2D=V,this.setTexture2DArray=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?J(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?J(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=W,this.setupRenderTarget=function(e){const l=e.texture,c=i.get(e),h=i.get(l);e.addEventListener(\"dispose\",G),!0!==e.isWebGLMultipleRenderTargets&&(h.__webglTexture=t.createTexture(),h.__version=l.version,a.memory.textures++);const u=!0===e.isWebGLCubeRenderTarget,d=!0===e.isWebGLMultipleRenderTargets,p=!0===e.isWebGLMultisampleRenderTarget,m=l.isDataTexture3D||l.isDataTexture2DArray,f=z(e)||o;if(!o||l.format!==T||l.type!==M&&l.type!==w||(l.format=E,console.warn(\"THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.\")),u){c.__webglFramebuffer=[];for(let e=0;e<6;e++)c.__webglFramebuffer[e]=t.createFramebuffer()}else if(c.__webglFramebuffer=t.createFramebuffer(),d)if(r.drawBuffers){const n=e.texture;for(let e=0,r=n.length;e<r;e++){const r=i.get(n[e]);void 0===r.__webglTexture&&(r.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn(\"THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.\");else if(p)if(o){c.__webglMultisampledFramebuffer=t.createFramebuffer(),c.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,c.__webglColorRenderbuffer);const i=s.convert(l.format),r=s.convert(l.type),a=O(l.internalFormat,i,r),o=$(e);t.renderbufferStorageMultisample(36161,o,a,e.width,e.height),n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,c.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(c.__webglDepthRenderbuffer=t.createRenderbuffer(),Q(c.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(36160,null)}else console.warn(\"THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.\");if(u){n.bindTexture(34067,h.__webglTexture),X(34067,l,f);for(let t=0;t<6;t++)Z(c.__webglFramebuffer[t],e,l,36064,34069+t);B(l,f)&&F(34067,l,e.width,e.height),n.unbindTexture()}else if(d){const t=e.texture;for(let r=0,s=t.length;r<s;r++){const s=t[r],a=i.get(s);n.bindTexture(3553,a.__webglTexture),X(3553,s,f),Z(c.__webglFramebuffer,e,s,36064+r,3553),B(s,f)&&F(3553,s,e.width,e.height)}n.unbindTexture()}else{let t=3553;if(m)if(o){t=l.isDataTexture3D?32879:35866}else console.warn(\"THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.\");n.bindTexture(t,h.__webglTexture),X(t,l,f),Z(c.__webglFramebuffer,e,l,36064,t),B(l,f)&&F(t,l,e.width,e.height,e.depth),n.unbindTexture()}e.depthBuffer&&K(e)},this.updateRenderTargetMipmap=function(t){const e=z(t)||o,r=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let s=0,a=r.length;s<a;s++){const a=r[s];if(B(a,e)){const e=t.isWebGLCubeRenderTarget?34067:3553,r=i.get(a).__webglTexture;n.bindTexture(e,r),F(e,a,t.width,t.height),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(o){const r=e.width,s=e.height;let a=16384;e.depthBuffer&&(a|=256),e.stencilBuffer&&(a|=1024);const o=i.get(e);n.bindFramebuffer(36008,o.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,o.__webglFramebuffer),t.blitFramebuffer(0,0,r,s,0,0,r,s,a,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,o.__webglMultisampledFramebuffer)}else console.warn(\"THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.\")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===tt&&(console.warn(\"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\"),tt=!0),t=t.texture),V(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===et&&(console.warn(\"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\"),et=!0),t=t.texture),W(t,e)}}function Hs(t,e,n){const i=n.isWebGL2;return{convert:function(t){let n;if(t===x)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(t===_)return 5123;if(1013===t)return 5124;if(t===b)return 5125;if(t===M)return 5126;if(t===w)return i?5131:(n=e.get(\"OES_texture_half_float\"),null!==n?n.HALF_FLOAT_OES:null);if(1021===t)return 6406;if(t===T)return 6407;if(t===E)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(t===A)return 6402;if(t===L)return 34041;if(1028===t)return 6403;if(1029===t)return 36244;if(1030===t)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(t===R||t===C||t===P||t===I){if(n=e.get(\"WEBGL_compressed_texture_s3tc\"),null===n)return null;if(t===R)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===C)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===P)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===I)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(t===D||t===N||t===z||t===B){if(n=e.get(\"WEBGL_compressed_texture_pvrtc\"),null===n)return null;if(t===D)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===N)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===z)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===B)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t)return n=e.get(\"WEBGL_compressed_texture_etc1\"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((t===F||t===O)&&(n=e.get(\"WEBGL_compressed_texture_etc\"),null!==n)){if(t===F)return n.COMPRESSED_RGB8_ETC2;if(t===O)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t||37840===t||37841===t||37842===t||37843===t||37844===t||37845===t||37846===t||37847===t||37848===t||37849===t||37850===t||37851===t||37852===t||37853===t?(n=e.get(\"WEBGL_compressed_texture_astc\"),null!==n?t:null):36492===t?(n=e.get(\"EXT_texture_compression_bptc\"),null!==n?t:null):t===S?i?34042:(n=e.get(\"WEBGL_depth_texture\"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}class Gs extends Jn{constructor(t=[]){super(),this.cameras=t}}Gs.prototype.isArrayCamera=!0;class ks extends Pe{constructor(){super(),this.type=\"Group\"}}ks.prototype.isGroup=!0;const Vs={type:\"move\"};class Ws{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ks,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ks,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Rt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Rt),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ks,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Rt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Rt),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:\"disconnected\",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let i=null,r=null,s=null;const a=this._targetRay,o=this._grip,l=this._hand;if(t&&\"visible-blurred\"!==e.session.visibilityState)if(null!==a&&(i=e.getPose(t.targetRaySpace,n),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Vs))),l&&t.hand){s=!0;for(const i of t.hand.values()){const t=e.getJointPose(i,n);if(void 0===l.joints[i.jointName]){const t=new ks;t.matrixAutoUpdate=!1,t.visible=!1,l.joints[i.jointName]=t,l.add(t)}const r=l.joints[i.jointName];null!==t&&(r.matrix.fromArray(t.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.jointRadius=t.radius),r.visible=null!==t}const i=l.joints[\"index-finger-tip\"],r=l.joints[\"thumb-tip\"],a=i.position.distanceTo(r.position),o=.02,c=.005;l.inputState.pinching&&a>o+c?(l.inputState.pinching=!1,this.dispatchEvent({type:\"pinchend\",handedness:t.handedness,target:this})):!l.inputState.pinching&&a<=o-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:\"pinchstart\",handedness:t.handedness,target:this}))}else null!==o&&t.gripSpace&&(r=e.getPose(t.gripSpace,n),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1));return null!==a&&(a.visible=null!==i),null!==o&&(o.visible=null!==r),null!==l&&(l.visible=null!==s),this}}class js extends rt{constructor(t,e){super();const n=this,i=t.state;let r=null,s=1,a=null,o=\"local-floor\",l=null,c=null,h=null,u=null,d=null,p=!1,m=null,f=null,g=null,v=null,y=null,x=null;const _=[],b=new Map,M=new Jn;M.layers.enable(1),M.viewport=new St;const w=new Jn;w.layers.enable(2),w.viewport=new St;const S=[M,w],T=new Gs;T.layers.enable(1),T.layers.enable(2);let E=null,A=null;function L(t){const e=b.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function R(){b.forEach((function(t,e){t.disconnect(e)})),b.clear(),E=null,A=null,i.bindXRFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),h&&e.deleteFramebuffer(h),m&&e.deleteFramebuffer(m),f&&e.deleteRenderbuffer(f),g&&e.deleteRenderbuffer(g),h=null,m=null,f=null,g=null,d=null,u=null,c=null,r=null,z.stop(),n.isPresenting=!1,n.dispatchEvent({type:\"sessionend\"})}function C(t){const e=r.inputSources;for(let t=0;t<_.length;t++)b.set(e[t],_[t]);for(let e=0;e<t.removed.length;e++){const n=t.removed[e],i=b.get(n);i&&(i.dispatchEvent({type:\"disconnected\",data:n}),b.delete(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e],i=b.get(n);i&&i.dispatchEvent({type:\"connected\",data:n})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=_[t];return void 0===e&&(e=new Ws,_[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=_[t];return void 0===e&&(e=new Ws,_[t]=e),e.getGripSpace()},this.getHand=function(t){let e=_[t];return void 0===e&&(e=new Ws,_[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){s=t,!0===n.isPresenting&&console.warn(\"THREE.WebXRManager: Cannot change framebuffer scale while presenting.\")},this.setReferenceSpaceType=function(t){o=t,!0===n.isPresenting&&console.warn(\"THREE.WebXRManager: Cannot change reference space type while presenting.\")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return null!==u?u:d},this.getBinding=function(){return c},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(t){if(r=t,null!==r){r.addEventListener(\"select\",L),r.addEventListener(\"selectstart\",L),r.addEventListener(\"selectend\",L),r.addEventListener(\"squeeze\",L),r.addEventListener(\"squeezestart\",L),r.addEventListener(\"squeezeend\",L),r.addEventListener(\"end\",R),r.addEventListener(\"inputsourceschange\",C);const t=e.getContextAttributes();if(!0!==t.xrCompatible&&await e.makeXRCompatible(),void 0===r.renderState.layers){const n={antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(r,e,n),r.updateRenderState({baseLayer:d})}else if(e instanceof WebGLRenderingContext){const n={antialias:!0,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(r,e,n),r.updateRenderState({layers:[d]})}else{p=t.antialias;let n=null;t.depth&&(x=256,t.stencil&&(x|=1024),y=t.stencil?33306:36096,n=t.stencil?35056:33190);const a={colorFormat:t.alpha?32856:32849,depthFormat:n,scaleFactor:s};c=new XRWebGLBinding(r,e),u=c.createProjectionLayer(a),h=e.createFramebuffer(),r.updateRenderState({layers:[u]}),p&&(m=e.createFramebuffer(),f=e.createRenderbuffer(),e.bindRenderbuffer(36161,f),e.renderbufferStorageMultisample(36161,4,32856,u.textureWidth,u.textureHeight),i.bindFramebuffer(36160,m),e.framebufferRenderbuffer(36160,36064,36161,f),e.bindRenderbuffer(36161,null),null!==n&&(g=e.createRenderbuffer(),e.bindRenderbuffer(36161,g),e.renderbufferStorageMultisample(36161,4,n,u.textureWidth,u.textureHeight),e.framebufferRenderbuffer(36160,y,36161,g),e.bindRenderbuffer(36161,null)),i.bindFramebuffer(36160,null))}a=await r.requestReferenceSpace(o),z.setContext(r),z.start(),n.isPresenting=!0,n.dispatchEvent({type:\"sessionstart\"})}};const P=new Rt,I=new Rt;function D(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===r)return;T.near=w.near=M.near=t.near,T.far=w.far=M.far=t.far,E===T.near&&A===T.far||(r.updateRenderState({depthNear:T.near,depthFar:T.far}),E=T.near,A=T.far);const e=t.parent,n=T.cameras;D(T,e);for(let t=0;t<n.length;t++)D(n[t],e);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),t.position.copy(T.position),t.quaternion.copy(T.quaternion),t.scale.copy(T.scale),t.matrix.copy(T.matrix),t.matrixWorld.copy(T.matrixWorld);const i=t.children;for(let t=0,e=i.length;t<e;t++)i[t].updateMatrixWorld(!0);2===n.length?function(t,e,n){P.setFromMatrixPosition(e.matrixWorld),I.setFromMatrixPosition(n.matrixWorld);const i=P.distanceTo(I),r=e.projectionMatrix.elements,s=n.projectionMatrix.elements,a=r[14]/(r[10]-1),o=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],h=(r[8]-1)/r[0],u=(s[8]+1)/s[0],d=a*h,p=a*u,m=i/(-h+u),f=m*-h;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(f),t.translateZ(m),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const g=a+m,v=o+m,y=d-f,x=p+(i-f),_=l*o/v*g,b=c*o/v*g;t.projectionMatrix.makePerspective(y,x,_,b,g,v)}(T,M,w):T.projectionMatrix.copy(M.projectionMatrix)},this.getCamera=function(){return T},this.getFoveation=function(){return null!==u?u.fixedFoveation:null!==d?d.fixedFoveation:void 0},this.setFoveation=function(t){null!==u&&(u.fixedFoveation=t),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=t)};let N=null;const z=new oi;z.setAnimationLoop((function(t,n){if(l=n.getViewerPose(a),v=n,null!==l){const t=l.views;null!==d&&i.bindXRFramebuffer(d.framebuffer);let n=!1;t.length!==T.cameras.length&&(T.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const s=t[r];let a=null;if(null!==d)a=d.getViewport(s);else{const t=c.getViewSubImage(u,s);i.bindXRFramebuffer(h),void 0!==t.depthStencilTexture&&e.framebufferTexture2D(36160,y,3553,t.depthStencilTexture,0),e.framebufferTexture2D(36160,36064,3553,t.colorTexture,0),a=t.viewport}const o=S[r];o.matrix.fromArray(s.transform.matrix),o.projectionMatrix.fromArray(s.projectionMatrix),o.viewport.set(a.x,a.y,a.width,a.height),0===r&&T.matrix.copy(o.matrix),!0===n&&T.cameras.push(o)}p&&(i.bindXRFramebuffer(m),null!==x&&e.clear(x))}const s=r.inputSources;for(let t=0;t<_.length;t++){const e=_[t],i=s[t];e.update(i,n,a)}if(N&&N(t,n),p){const t=u.textureWidth,n=u.textureHeight;i.bindFramebuffer(36008,m),i.bindFramebuffer(36009,h),e.invalidateFramebuffer(36008,[y]),e.invalidateFramebuffer(36009,[y]),e.blitFramebuffer(0,0,t,n,0,0,t,n,16384,9728),e.invalidateFramebuffer(36008,[36064]),i.bindFramebuffer(36008,null),i.bindFramebuffer(36009,null),i.bindFramebuffer(36160,m)}v=null})),this.setAnimationLoop=function(t){N=t},this.dispose=function(){}}}function qs(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap),n.alphaTest>0&&(e.alphaTest.value=n.alphaTest);const i=t.get(n).envMap;if(i){e.envMap.value=i,e.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,e.reflectivity.value=n.reflectivity,e.ior.value=n.ior,e.refractionRatio.value=n.refractionRatio;const r=t.get(i).__maxMipLevel;void 0!==r&&(e.maxMipLevel.value=r)}let r,s;n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap?r=n.clearcoatRoughnessMap:n.specularIntensityMap?r=n.specularIntensityMap:n.specularTintMap?r=n.specularTintMap:n.transmissionMap?r=n.transmissionMap:n.thicknessMap&&(r=n.thicknessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),n.aoMap?s=n.aoMap:n.lightMap&&(s=n.lightMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),e.uv2Transform.value.copy(s.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,i,r,s,a){i.isMeshBasicMaterial?e(t,i):i.isMeshLambertMaterial?(e(t,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,i)):i.isMeshToonMaterial?(e(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshPhongMaterial?(e(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshStandardMaterial?(e(t,i),i.isMeshPhysicalMaterial?function(t,e,i){n(t,e),t.ior.value=e.ior,e.sheenTint&&t.sheenTint.value.copy(e.sheenTint);e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()));e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=i.texture,t.transmissionSamplerSize.value.set(i.width,i.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap),t.attenuationDistance.value=e.attenuationDistance,t.attenuationTint.value.copy(e.attenuationTint));t.specularIntensity.value=e.specularIntensity,t.specularTint.value.copy(e.specularTint),e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap);e.specularTintMap&&(t.specularTintMap.value=e.specularTintMap)}(t,i,a):n(t,i)):i.isMeshMatcapMaterial?(e(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDepthMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDistanceMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?(e(t,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);e.alphaTest>0&&(t.alphaTest.value=e.alphaTest);let r;e.map?r=e.map:e.alphaMap&&(r=e.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,s):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);e.alphaTest>0&&(t.alphaTest.value=e.alphaTest);let n;e.map?n=e.map:e.alphaMap&&(n=e.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Xs(t={}){const e=void 0!==t.canvas?t.canvas:function(){const t=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\");return t.style.display=\"block\",t}(),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,s=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,o=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:\"default\",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let d=null,m=null;const f=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=X,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const v=this;let _=!1,b=0,S=0,T=null,A=-1,L=null;const R=new St,C=new St;let P=null,I=e.width,D=e.height,N=1,z=null,B=null;const F=new St(0,0,I,D),O=new St(0,0,I,D);let U=!1;const H=[],G=new ai;let k=!1,V=!1,W=null;const j=new ae,q=new Rt,Y={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function J(){return null===T?N:1}let Z,Q,K,$,tt,et,nt,it,rt,st,at,ot,lt,ct,ht,ut,dt,pt,mt,ft,gt,vt,yt,xt=n;function _t(t,n){for(let i=0;i<t.length;i++){const r=t[i],s=e.getContext(r,n);if(null!==s)return s}return null}try{const t={alpha:i,depth:r,stencil:s,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:h};if(e.addEventListener(\"webglcontextlost\",wt,!1),e.addEventListener(\"webglcontextrestored\",Et,!1),null===xt){const e=[\"webgl2\",\"webgl\",\"experimental-webgl\"];if(!0===v.isWebGL1Renderer&&e.shift(),xt=_t(e,t),null===xt)throw _t(e)?new Error(\"Error creating WebGL context with your selected attributes.\"):new Error(\"Error creating WebGL context.\")}void 0===xt.getShaderPrecisionFormat&&(xt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error(\"THREE.WebGLRenderer: \"+t.message),t}function bt(){Z=new ji(xt),Q=new gi(xt,Z,t),Z.init(Q),vt=new Hs(xt,Z,Q),K=new Os(xt,Z,Q),H[0]=1029,$=new Yi(xt),tt=new Ss,et=new Us(xt,Z,K,tt,Q,vt,$),nt=new yi(v),it=new Wi(v),rt=new li(xt,Q),yt=new mi(xt,Z,rt,Q),st=new qi(xt,rt,$,yt),at=new Ki(xt,st,rt,$),mt=new Qi(xt),ut=new vi(tt),ot=new ws(v,nt,it,Z,Q,yt,ut),lt=new qs(tt),ct=new Ls(tt),ht=new Ns(Z,Q),pt=new pi(v,nt,K,at,o),dt=new Fs(v,at,Q),ft=new fi(xt,Z,$,Q),gt=new Xi(xt,Z,$,Q),$.programs=ot.programs,v.capabilities=Q,v.extensions=Z,v.properties=tt,v.renderLists=ct,v.shadowMap=dt,v.state=K,v.info=$}bt();const Mt=new js(v,xt);function wt(t){t.preventDefault(),console.log(\"THREE.WebGLRenderer: Context Lost.\"),_=!0}function Et(){console.log(\"THREE.WebGLRenderer: Context Restored.\"),_=!1;const t=$.autoReset,e=dt.enabled,n=dt.autoUpdate,i=dt.needsUpdate,r=dt.type;bt(),$.autoReset=t,dt.enabled=e,dt.autoUpdate=n,dt.needsUpdate=i,dt.type=r}function Lt(t){const e=t.target;e.removeEventListener(\"dispose\",Lt),function(t){(function(t){const e=tt.get(t).programs;void 0!==e&&e.forEach((function(t){ot.releaseProgram(t)}))})(t),tt.remove(t)}(e)}this.xr=Mt,this.getContext=function(){return xt},this.getContextAttributes=function(){return xt.getContextAttributes()},this.forceContextLoss=function(){const t=Z.get(\"WEBGL_lose_context\");t&&t.loseContext()},this.forceContextRestore=function(){const t=Z.get(\"WEBGL_lose_context\");t&&t.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(t){void 0!==t&&(N=t,this.setSize(I,D,!1))},this.getSize=function(t){return t.set(I,D)},this.setSize=function(t,n,i){Mt.isPresenting?console.warn(\"THREE.WebGLRenderer: Can't change size while VR device is presenting.\"):(I=t,D=n,e.width=Math.floor(t*N),e.height=Math.floor(n*N),!1!==i&&(e.style.width=t+\"px\",e.style.height=n+\"px\"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return t.set(I*N,D*N).floor()},this.setDrawingBufferSize=function(t,n,i){I=t,D=n,N=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy(R)},this.getViewport=function(t){return t.copy(F)},this.setViewport=function(t,e,n,i){t.isVector4?F.set(t.x,t.y,t.z,t.w):F.set(t,e,n,i),K.viewport(R.copy(F).multiplyScalar(N).floor())},this.getScissor=function(t){return t.copy(O)},this.setScissor=function(t,e,n,i){t.isVector4?O.set(t.x,t.y,t.z,t.w):O.set(t,e,n,i),K.scissor(C.copy(O).multiplyScalar(N).floor())},this.getScissorTest=function(){return U},this.setScissorTest=function(t){K.setScissorTest(U=t)},this.setOpaqueSort=function(t){z=t},this.setTransparentSort=function(t){B=t},this.getClearColor=function(t){return t.copy(pt.getClearColor())},this.setClearColor=function(){pt.setClearColor.apply(pt,arguments)},this.getClearAlpha=function(){return pt.getClearAlpha()},this.setClearAlpha=function(){pt.setClearAlpha.apply(pt,arguments)},this.clear=function(t,e,n){let i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),xt.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener(\"webglcontextlost\",wt,!1),e.removeEventListener(\"webglcontextrestored\",Et,!1),ct.dispose(),ht.dispose(),tt.dispose(),nt.dispose(),it.dispose(),at.dispose(),yt.dispose(),Mt.dispose(),Mt.removeEventListener(\"sessionstart\",Pt),Mt.removeEventListener(\"sessionend\",It),W&&(W.dispose(),W=null),Dt.stop()},this.renderBufferImmediate=function(t,e){yt.initAttributes();const n=tt.get(t);t.hasPositions&&!n.position&&(n.position=xt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=xt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=xt.createBuffer()),t.hasColors&&!n.color&&(n.color=xt.createBuffer());const i=e.getAttributes();t.hasPositions&&(xt.bindBuffer(34962,n.position),xt.bufferData(34962,t.positionArray,35048),yt.enableAttribute(i.position.location),xt.vertexAttribPointer(i.position.location,3,5126,!1,0,0)),t.hasNormals&&(xt.bindBuffer(34962,n.normal),xt.bufferData(34962,t.normalArray,35048),yt.enableAttribute(i.normal.location),xt.vertexAttribPointer(i.normal.location,3,5126,!1,0,0)),t.hasUvs&&(xt.bindBuffer(34962,n.uv),xt.bufferData(34962,t.uvArray,35048),yt.enableAttribute(i.uv.location),xt.vertexAttribPointer(i.uv.location,2,5126,!1,0,0)),t.hasColors&&(xt.bindBuffer(34962,n.color),xt.bufferData(34962,t.colorArray,35048),yt.enableAttribute(i.color.location),xt.vertexAttribPointer(i.color.location,3,5126,!1,0,0)),yt.disableUnusedAttributes(),xt.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,s){null===e&&(e=Y);const a=r.isMesh&&r.matrixWorld.determinant()<0,o=Ht(t,e,i,r);K.setMaterial(i,a);let l=n.index;const c=n.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;let h,u=1;!0===i.wireframe&&(l=st.getWireframeAttribute(n),u=2),void 0===n.morphAttributes.position&&void 0===n.morphAttributes.normal||mt.update(r,n,i,o),yt.setup(r,i,o,n,l);let d=ft;null!==l&&(h=rt.get(l),d=gt,d.setIndex(h));const p=null!==l?l.count:c.count,m=n.drawRange.start*u,f=n.drawRange.count*u,g=null!==s?s.start*u:0,v=null!==s?s.count*u:1/0,y=Math.max(m,g),x=Math.min(p,m+f,g+v)-1,_=Math.max(0,x-y+1);if(0!==_){if(r.isMesh)!0===i.wireframe?(K.setLineWidth(i.wireframeLinewidth*J()),d.setMode(1)):d.setMode(4);else if(r.isLine){let t=i.linewidth;void 0===t&&(t=1),K.setLineWidth(t*J()),r.isLineSegments?d.setMode(1):r.isLineLoop?d.setMode(2):d.setMode(3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(y,_,r.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,_,t)}else d.render(y,_)}},this.compile=function(t,e){m=ht.get(t),m.init(),g.push(m),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(m.pushLight(t),t.castShadow&&m.pushShadow(t))})),m.setupLights(v.physicallyCorrectLights),t.traverse((function(e){const n=e.material;if(n)if(Array.isArray(n))for(let i=0;i<n.length;i++){Ot(n[i],t,e)}else Ot(n,t,e)})),g.pop(),m=null};let Ct=null;function Pt(){Dt.stop()}function It(){Dt.start()}const Dt=new oi;function Nt(t,e,n,i){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)m.pushLight(t),t.castShadow&&m.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||G.intersectsSprite(t)){i&&q.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);const e=at.update(t),r=t.material;r.visible&&d.push(t,e,r,n,q.z,null)}}else if(t.isImmediateRenderObject)i&&q.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j),d.push(t,null,t.material,n,q.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==$.render.frame&&(t.skeleton.update(),t.skeleton.frame=$.render.frame),!t.frustumCulled||G.intersectsObject(t))){i&&q.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);const e=at.update(t),r=t.material;if(Array.isArray(r)){const i=e.groups;for(let s=0,a=i.length;s<a;s++){const a=i[s],o=r[a.materialIndex];o&&o.visible&&d.push(t,e,o,n,q.z,a)}}else r.visible&&d.push(t,e,r,n,q.z,null)}const r=t.children;for(let t=0,s=r.length;t<s;t++)Nt(r[t],e,n,i)}function zt(t,e,n,i){const r=t.opaque,s=t.transmissive,o=t.transparent;m.setupLightsView(n),s.length>0&&function(t,e,n){if(null===W){const t=!0===a&&!0===Q.isWebGL2;W=new(t?At:Tt)(1024,1024,{generateMipmaps:!0,type:null!==vt.convert(w)?w:x,minFilter:y,magFilter:p,wrapS:u,wrapT:u})}const i=v.getRenderTarget();v.setRenderTarget(W),v.clear();const r=v.toneMapping;v.toneMapping=0,Bt(t,e,n),v.toneMapping=r,et.updateMultisampleRenderTarget(W),et.updateRenderTargetMipmap(W),v.setRenderTarget(i)}(r,e,n),i&&K.viewport(R.copy(i)),r.length>0&&Bt(r,e,n),s.length>0&&Bt(s,e,n),o.length>0&&Bt(o,e,n)}function Bt(t,e,n){const i=!0===e.isScene?e.overrideMaterial:null;for(let r=0,s=t.length;r<s;r++){const s=t[r],a=s.object,o=s.geometry,l=null===i?s.material:i,c=s.group;a.layers.test(n.layers)&&Ft(a,e,n,o,l,c)}}function Ft(t,e,n,i,r,s){if(t.onBeforeRender(v,e,n,i,r,s),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){const i=Ht(n,e,r,t);K.setMaterial(r),yt.reset(),function(t,e){t.render((function(t){v.renderBufferImmediate(t,e)}))}(t,i)}else!0===r.transparent&&2===r.side?(r.side=1,r.needsUpdate=!0,v.renderBufferDirect(n,e,i,r,t,s),r.side=0,r.needsUpdate=!0,v.renderBufferDirect(n,e,i,r,t,s),r.side=2):v.renderBufferDirect(n,e,i,r,t,s);t.onAfterRender(v,e,n,i,r,s)}function Ot(t,e,n){!0!==e.isScene&&(e=Y);const i=tt.get(t),r=m.state.lights,s=m.state.shadowsArray,a=r.state.version,o=ot.getParameters(t,r.state,s,e,n),l=ot.getProgramCacheKey(o);let c=i.programs;i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=(t.isMeshStandardMaterial?it:nt).get(t.envMap||i.environment),void 0===c&&(t.addEventListener(\"dispose\",Lt),c=new Map,i.programs=c);let h=c.get(l);if(void 0!==h){if(i.currentProgram===h&&i.lightsStateVersion===a)return Ut(t,o),h}else o.uniforms=ot.getUniforms(t),t.onBuild(o,v),t.onBeforeCompile(o,v),h=ot.acquireProgram(o,l),c.set(l,h),i.uniforms=o.uniforms;const u=i.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(u.clippingPlanes=ut.uniform),Ut(t,o),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=a,i.needsLights&&(u.ambientLightColor.value=r.state.ambient,u.lightProbe.value=r.state.probe,u.directionalLights.value=r.state.directional,u.directionalLightShadows.value=r.state.directionalShadow,u.spotLights.value=r.state.spot,u.spotLightShadows.value=r.state.spotShadow,u.rectAreaLights.value=r.state.rectArea,u.ltc_1.value=r.state.rectAreaLTC1,u.ltc_2.value=r.state.rectAreaLTC2,u.pointLights.value=r.state.point,u.pointLightShadows.value=r.state.pointShadow,u.hemisphereLights.value=r.state.hemi,u.directionalShadowMap.value=r.state.directionalShadowMap,u.directionalShadowMatrix.value=r.state.directionalShadowMatrix,u.spotShadowMap.value=r.state.spotShadowMap,u.spotShadowMatrix.value=r.state.spotShadowMatrix,u.pointShadowMap.value=r.state.pointShadowMap,u.pointShadowMatrix.value=r.state.pointShadowMatrix);const d=h.getUniforms(),p=ns.seqWithValue(d.seq,u);return i.currentProgram=h,i.uniformsList=p,h}function Ut(t,e){const n=tt.get(t);n.outputEncoding=e.outputEncoding,n.instancing=e.instancing,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents}function Ht(t,e,n,i){!0!==e.isScene&&(e=Y),et.resetTextureUnits();const r=e.fog,s=n.isMeshStandardMaterial?e.environment:null,a=null===T?v.outputEncoding:T.texture.encoding,o=(n.isMeshStandardMaterial?it:nt).get(n.envMap||s),l=!0===n.vertexColors&&!!i.geometry&&!!i.geometry.attributes.color&&4===i.geometry.attributes.color.itemSize,c=!!i.geometry&&!!i.geometry.attributes.tangent,h=!!i.geometry&&!!i.geometry.morphAttributes.position,u=!!i.geometry&&!!i.geometry.morphAttributes.normal,d=tt.get(n),p=m.state.lights;if(!0===k&&(!0===V||t!==L)){const e=t===L&&n.id===A;ut.setState(n,t,e)}let f=!1;n.version===d.__version?d.needsLights&&d.lightsStateVersion!==p.state.version||d.outputEncoding!==a||i.isInstancedMesh&&!1===d.instancing?f=!0:i.isInstancedMesh||!0!==d.instancing?i.isSkinnedMesh&&!1===d.skinning?f=!0:i.isSkinnedMesh||!0!==d.skinning?d.envMap!==o||n.fog&&d.fog!==r?f=!0:void 0===d.numClippingPlanes||d.numClippingPlanes===ut.numPlanes&&d.numIntersection===ut.numIntersection?(d.vertexAlphas!==l||d.vertexTangents!==c||d.morphTargets!==h||d.morphNormals!==u)&&(f=!0):f=!0:f=!0:f=!0:(f=!0,d.__version=n.version);let g=d.currentProgram;!0===f&&(g=Ot(n,e,i));let y=!1,x=!1,_=!1;const b=g.getUniforms(),M=d.uniforms;if(K.useProgram(g.program)&&(y=!0,x=!0,_=!0),n.id!==A&&(A=n.id,x=!0),y||L!==t){if(b.setValue(xt,\"projectionMatrix\",t.projectionMatrix),Q.logarithmicDepthBuffer&&b.setValue(xt,\"logDepthBufFC\",2/(Math.log(t.far+1)/Math.LN2)),L!==t&&(L=t,x=!0,_=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const e=b.map.cameraPosition;void 0!==e&&e.setValue(xt,q.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&b.setValue(xt,\"isOrthographic\",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||i.isSkinnedMesh)&&b.setValue(xt,\"viewMatrix\",t.matrixWorldInverse)}if(i.isSkinnedMesh){b.setOptional(xt,i,\"bindMatrix\"),b.setOptional(xt,i,\"bindMatrixInverse\");const t=i.skeleton;t&&(Q.floatVertexTextures?(null===t.boneTexture&&t.computeBoneTexture(),b.setValue(xt,\"boneTexture\",t.boneTexture,et),b.setValue(xt,\"boneTextureSize\",t.boneTextureSize)):b.setOptional(xt,t,\"boneMatrices\"))}var w,S;return(x||d.receiveShadow!==i.receiveShadow)&&(d.receiveShadow=i.receiveShadow,b.setValue(xt,\"receiveShadow\",i.receiveShadow)),x&&(b.setValue(xt,\"toneMappingExposure\",v.toneMappingExposure),d.needsLights&&(S=_,(w=M).ambientLightColor.needsUpdate=S,w.lightProbe.needsUpdate=S,w.directionalLights.needsUpdate=S,w.directionalLightShadows.needsUpdate=S,w.pointLights.needsUpdate=S,w.pointLightShadows.needsUpdate=S,w.spotLights.needsUpdate=S,w.spotLightShadows.needsUpdate=S,w.rectAreaLights.needsUpdate=S,w.hemisphereLights.needsUpdate=S),r&&n.fog&&lt.refreshFogUniforms(M,r),lt.refreshMaterialUniforms(M,n,N,D,W),ns.upload(xt,d.uniformsList,M,et)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(ns.upload(xt,d.uniformsList,M,et),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&b.setValue(xt,\"center\",i.center),b.setValue(xt,\"modelViewMatrix\",i.modelViewMatrix),b.setValue(xt,\"normalMatrix\",i.normalMatrix),b.setValue(xt,\"modelMatrix\",i.matrixWorld),g}Dt.setAnimationLoop((function(t){Ct&&Ct(t)})),\"undefined\"!=typeof window&&Dt.setContext(window),this.setAnimationLoop=function(t){Ct=t,Mt.setAnimationLoop(t),null===t?Dt.stop():Dt.start()},Mt.addEventListener(\"sessionstart\",Pt),Mt.addEventListener(\"sessionend\",It),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return void console.error(\"THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.\");if(!0===_)return;!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===Mt.enabled&&!0===Mt.isPresenting&&(!0===Mt.cameraAutoUpdate&&Mt.updateCamera(e),e=Mt.getCamera()),!0===t.isScene&&t.onBeforeRender(v,t,e,T),m=ht.get(t,g.length),m.init(),g.push(m),j.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),G.setFromProjectionMatrix(j),V=this.localClippingEnabled,k=ut.init(this.clippingPlanes,V,e),d=ct.get(t,f.length),d.init(),f.push(d),Nt(t,e,0,v.sortObjects),d.finish(),!0===v.sortObjects&&d.sort(z,B),!0===k&&ut.beginShadows();const n=m.state.shadowsArray;if(dt.render(n,t,e),!0===k&&ut.endShadows(),!0===this.info.autoReset&&this.info.reset(),pt.render(d,t),m.setupLights(v.physicallyCorrectLights),e.isArrayCamera){const n=e.cameras;for(let e=0,i=n.length;e<i;e++){const i=n[e];zt(d,t,i,i.viewport)}}else zt(d,t,e);null!==T&&(et.updateMultisampleRenderTarget(T),et.updateRenderTargetMipmap(T)),!0===t.isScene&&t.onAfterRender(v,t,e),K.buffers.depth.setTest(!0),K.buffers.depth.setMask(!0),K.buffers.color.setMask(!0),K.setPolygonOffset(!1),yt.resetDefaultState(),A=-1,L=null,g.pop(),m=g.length>0?g[g.length-1]:null,f.pop(),d=f.length>0?f[f.length-1]:null},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return T},this.setRenderTarget=function(t,e=0,n=0){T=t,b=e,S=n,t&&void 0===tt.get(t).__webglFramebuffer&&et.setupRenderTarget(t);let i=null,r=!1,s=!1;if(t){const n=t.texture;(n.isDataTexture3D||n.isDataTexture2DArray)&&(s=!0);const a=tt.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=a[e],r=!0):i=t.isWebGLMultisampleRenderTarget?tt.get(t).__webglMultisampledFramebuffer:a,R.copy(t.viewport),C.copy(t.scissor),P=t.scissorTest}else R.copy(F).multiplyScalar(N).floor(),C.copy(O).multiplyScalar(N).floor(),P=U;if(K.bindFramebuffer(36160,i)&&Q.drawBuffers){let e=!1;if(t)if(t.isWebGLMultipleRenderTargets){const n=t.texture;if(H.length!==n.length||36064!==H[0]){for(let t=0,e=n.length;t<e;t++)H[t]=36064+t;H.length=n.length,e=!0}}else 1===H.length&&36064===H[0]||(H[0]=36064,H.length=1,e=!0);else 1===H.length&&1029===H[0]||(H[0]=1029,H.length=1,e=!0);e&&(Q.isWebGL2?xt.drawBuffers(H):Z.get(\"WEBGL_draw_buffers\").drawBuffersWEBGL(H))}if(K.viewport(R),K.scissor(C),K.setScissorTest(P),r){const i=tt.get(t.texture);xt.framebufferTexture2D(36160,36064,34069+e,i.__webglTexture,n)}else if(s){const i=tt.get(t.texture),r=e||0;xt.framebufferTextureLayer(36160,36064,i.__webglTexture,n||0,r)}A=-1},this.readRenderTargetPixels=function(t,e,n,i,r,s,a){if(!t||!t.isWebGLRenderTarget)return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.\");let o=tt.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==a&&(o=o[a]),o){K.bindFramebuffer(36160,o);try{const a=t.texture,o=a.format,l=a.type;if(o!==E&&vt.convert(o)!==xt.getParameter(35739))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.\");const c=l===w&&(Z.has(\"EXT_color_buffer_half_float\")||Q.isWebGL2&&Z.has(\"EXT_color_buffer_float\"));if(!(l===x||vt.convert(l)===xt.getParameter(35738)||l===M&&(Q.isWebGL2||Z.has(\"OES_texture_float\")||Z.has(\"WEBGL_color_buffer_float\"))||c))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.\");36053===xt.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&xt.readPixels(e,n,i,r,vt.convert(o),vt.convert(l),s):console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.\")}finally{const t=null!==T?tt.get(T).__webglFramebuffer:null;K.bindFramebuffer(36160,t)}}},this.copyFramebufferToTexture=function(t,e,n=0){const i=Math.pow(2,-n),r=Math.floor(e.image.width*i),s=Math.floor(e.image.height*i);let a=vt.convert(e.format);Q.isWebGL2&&(6407===a&&(a=32849),6408===a&&(a=32856)),et.setTexture2D(e,0),xt.copyTexImage2D(3553,n,a,t.x,t.y,r,s,0),K.unbindTexture()},this.copyTextureToTexture=function(t,e,n,i=0){const r=e.image.width,s=e.image.height,a=vt.convert(n.format),o=vt.convert(n.type);et.setTexture2D(n,0),xt.pixelStorei(37440,n.flipY),xt.pixelStorei(37441,n.premultiplyAlpha),xt.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?xt.texSubImage2D(3553,i,t.x,t.y,r,s,a,o,e.image.data):e.isCompressedTexture?xt.compressedTexSubImage2D(3553,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,a,e.mipmaps[0].data):xt.texSubImage2D(3553,i,t.x,t.y,a,o,e.image),0===i&&n.generateMipmaps&&xt.generateMipmap(3553),K.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n,i,r=0){if(v.isWebGL1Renderer)return void console.warn(\"THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.\");const s=t.max.x-t.min.x+1,a=t.max.y-t.min.y+1,o=t.max.z-t.min.z+1,l=vt.convert(i.format),c=vt.convert(i.type);let h;if(i.isDataTexture3D)et.setTexture3D(i,0),h=32879;else{if(!i.isDataTexture2DArray)return void console.warn(\"THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.\");et.setTexture2DArray(i,0),h=35866}xt.pixelStorei(37440,i.flipY),xt.pixelStorei(37441,i.premultiplyAlpha),xt.pixelStorei(3317,i.unpackAlignment);const u=xt.getParameter(3314),d=xt.getParameter(32878),p=xt.getParameter(3316),m=xt.getParameter(3315),f=xt.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;xt.pixelStorei(3314,g.width),xt.pixelStorei(32878,g.height),xt.pixelStorei(3316,t.min.x),xt.pixelStorei(3315,t.min.y),xt.pixelStorei(32877,t.min.z),n.isDataTexture||n.isDataTexture3D?xt.texSubImage3D(h,r,e.x,e.y,e.z,s,a,o,l,c,g.data):n.isCompressedTexture?(console.warn(\"THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture.\"),xt.compressedTexSubImage3D(h,r,e.x,e.y,e.z,s,a,o,l,g.data)):xt.texSubImage3D(h,r,e.x,e.y,e.z,s,a,o,l,c,g),xt.pixelStorei(3314,u),xt.pixelStorei(32878,d),xt.pixelStorei(3316,p),xt.pixelStorei(3315,m),xt.pixelStorei(32877,f),0===r&&i.generateMipmaps&&xt.generateMipmap(h),K.unbindTexture()},this.initTexture=function(t){et.setTexture2D(t,0),K.unbindTexture()},this.resetState=function(){b=0,S=0,T=null,K.reset(),yt.reset()},\"undefined\"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent(\"observe\",{detail:this}))}class Ys extends Xs{}Ys.prototype.isWebGL1Renderer=!0;class Js{constructor(t,e=25e-5){this.name=\"\",this.color=new Qe(t),this.density=e}clone(){return new Js(this.color,this.density)}toJSON(){return{type:\"FogExp2\",color:this.color.getHex(),density:this.density}}}Js.prototype.isFogExp2=!0;class Zs{constructor(t,e=1,n=1e3){this.name=\"\",this.color=new Qe(t),this.near=e,this.far=n}clone(){return new Zs(this.color,this.near,this.far)}toJSON(){return{type:\"Fog\",color:this.color.getHex(),near:this.near,far:this.far}}}Zs.prototype.isFog=!0;class Qs extends Pe{constructor(){super(),this.type=\"Scene\",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,\"undefined\"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent(\"observe\",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}Qs.prototype.isScene=!0;class Ks{constructor(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=et,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ct()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ct()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ct()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Ks.prototype.isInterleavedBuffer=!0;const $s=new Rt;class ta{constructor(t,e,n,i=!1){this.name=\"\",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)$s.x=this.getX(e),$s.y=this.getY(e),$s.z=this.getZ(e),$s.applyMatrix4(t),this.setXYZ(e,$s.x,$s.y,$s.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)$s.x=this.getX(e),$s.y=this.getY(e),$s.z=this.getZ(e),$s.applyNormalMatrix(t),this.setXYZ(e,$s.x,$s.y,$s.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)$s.x=this.getX(e),$s.y=this.getY(e),$s.z=this.getZ(e),$s.transformDirection(t),this.setXYZ(e,$s.x,$s.y,$s.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this}setXYZW(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}clone(t){if(void 0===t){console.log(\"THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.\");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new en(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ta(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log(\"THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.\");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}ta.prototype.isInterleavedBufferAttribute=!0;class ea extends We{constructor(t){super(),this.type=\"SpriteMaterial\",this.color=new Qe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}let na;ea.prototype.isSpriteMaterial=!0;const ia=new Rt,ra=new Rt,sa=new Rt,aa=new vt,oa=new vt,la=new ae,ca=new Rt,ha=new Rt,ua=new Rt,da=new vt,pa=new vt,ma=new vt;class fa extends Pe{constructor(t){if(super(),this.type=\"Sprite\",void 0===na){na=new wn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),e=new Ks(t,5);na.setIndex([0,1,2,0,2,3]),na.setAttribute(\"position\",new ta(e,3,0,!1)),na.setAttribute(\"uv\",new ta(e,2,3,!1))}this.geometry=na,this.material=void 0!==t?t:new ea,this.center=new vt(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.'),ra.setFromMatrixScale(this.matrixWorld),la.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),sa.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ra.multiplyScalar(-sa.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const s=this.center;ga(ca.set(-.5,-.5,0),sa,s,ra,i,r),ga(ha.set(.5,-.5,0),sa,s,ra,i,r),ga(ua.set(.5,.5,0),sa,s,ra,i,r),da.set(0,0),pa.set(1,0),ma.set(1,1);let a=t.ray.intersectTriangle(ca,ha,ua,!1,ia);if(null===a&&(ga(ha.set(-.5,.5,0),sa,s,ra,i,r),pa.set(0,1),a=t.ray.intersectTriangle(ca,ua,ha,!1,ia),null===a))return;const o=t.ray.origin.distanceTo(ia);o<t.near||o>t.far||e.push({distance:o,point:ia.clone(),uv:ke.getUV(ia,ca,ha,ua,da,pa,ma,new vt),face:null,object:this})}copy(t){return super.copy(t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}function ga(t,e,n,i,r,s){aa.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(oa.x=s*aa.x-r*aa.y,oa.y=r*aa.x+s*aa.y):oa.copy(aa),t.copy(e),t.x+=oa.x,t.y+=oa.y,t.applyMatrix4(la)}fa.prototype.isSprite=!0;const va=new Rt,ya=new Rt;class xa extends Pe{constructor(){super(),this._currentLevel=0,this.type=\"LOD\",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let t=0,n=e.length;t<n;t++){const n=e[t];this.addLevel(n.object.clone(),n.distance)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0){e=Math.abs(e);const n=this.levels;let i;for(i=0;i<n.length&&!(e<n[i].distance);i++);return n.splice(i,0,{distance:e,object:t}),this.add(t),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let n,i;for(n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object}return null}raycast(t,e){if(this.levels.length>0){va.setFromMatrixPosition(this.matrixWorld);const n=t.ray.origin.distanceTo(va);this.getObjectForDistance(n).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){va.setFromMatrixPosition(t.matrixWorld),ya.setFromMatrixPosition(this.matrixWorld);const n=va.distanceTo(ya)/t.zoom;let i,r;for(e[0].object.visible=!0,i=1,r=e.length;i<r&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)e[i].object.visible=!1}}toJSON(t){const e=super.toJSON(t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let t=0,i=n.length;t<i;t++){const i=n[t];e.object.levels.push({object:i.object.uuid,distance:i.distance})}return e}}const _a=new Rt,ba=new St,Ma=new St,wa=new Rt,Sa=new ae;class Ta extends Gn{constructor(t,e){super(t,e),this.type=\"SkinnedMesh\",this.bindMode=\"attached\",this.bindMatrix=new ae,this.bindMatrixInverse=new ae}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new St,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);const i=1/t.manhattanLength();i!==1/0?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),\"attached\"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():\"detached\"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn(\"THREE.SkinnedMesh: Unrecognized bindMode: \"+this.bindMode)}boneTransform(t,e){const n=this.skeleton,i=this.geometry;ba.fromBufferAttribute(i.attributes.skinIndex,t),Ma.fromBufferAttribute(i.attributes.skinWeight,t),_a.fromBufferAttribute(i.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let t=0;t<4;t++){const i=Ma.getComponent(t);if(0!==i){const r=ba.getComponent(t);Sa.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),e.addScaledVector(wa.copy(_a).applyMatrix4(Sa),i)}}return e.applyMatrix4(this.bindMatrixInverse)}}Ta.prototype.isSkinnedMesh=!0;class Ea extends Pe{constructor(){super(),this.type=\"Bone\"}}Ea.prototype.isBone=!0;class Aa extends Mt{constructor(t=null,e=1,n=1,i,r,s,a,o,l=1003,c=1003,h,u){super(null,s,a,o,l,c,i,r,h,u),this.image={data:t,width:e,height:n},this.magFilter=l,this.minFilter=c,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Aa.prototype.isDataTexture=!0;const La=new ae,Ra=new ae;class Ca{constructor(t=[],e=[]){this.uuid=ct(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn(\"THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.\"),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new ae)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new ae;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let i=0,r=t.length;i<r;i++){const r=t[i]?t[i].matrixWorld:Ra;La.multiplyMatrices(r,e[i]),La.toArray(n,16*i)}null!==i&&(i.needsUpdate=!0)}clone(){return new Ca(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=mt(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new Aa(e,t,t,E,M);return this.boneMatrices=e,this.boneTexture=n,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,i=t.bones.length;n<i;n++){const i=t.bones[n];let r=e[i];void 0===r&&(console.warn(\"THREE.Skeleton: No bone found with UUID:\",i),r=new Ea),this.bones.push(r),this.boneInverses.push((new ae).fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:\"Skeleton\",generator:\"Skeleton.toJSON\"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let i=0,r=e.length;i<r;i++){const r=e[i];t.bones.push(r.uuid);const s=n[i];t.boneInverses.push(s.toArray())}return t}}class Pa extends en{constructor(t,e,n,i=1){\"number\"==typeof n&&(i=n,n=!1,console.error(\"THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.\")),super(t,e,n),this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}Pa.prototype.isInstancedBufferAttribute=!0;const Ia=new ae,Da=new ae,Na=[],za=new Gn;class Ba extends Gn{constructor(t,e,n){super(t,e),this.instanceMatrix=new Pa(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const n=this.matrixWorld,i=this.count;if(za.geometry=this.geometry,za.material=this.material,void 0!==za.material)for(let r=0;r<i;r++){this.getMatrixAt(r,Ia),Da.multiplyMatrices(n,Ia),za.matrixWorld=Da,za.raycast(t,Na);for(let t=0,n=Na.length;t<n;t++){const n=Na[t];n.instanceId=r,n.object=this,e.push(n)}Na.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new Pa(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:\"dispose\"})}}Ba.prototype.isInstancedMesh=!0;class Fa extends We{constructor(t){super(),this.type=\"LineBasicMaterial\",this.color=new Qe(16777215),this.linewidth=1,this.linecap=\"round\",this.linejoin=\"round\",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}}Fa.prototype.isLineBasicMaterial=!0;const Oa=new Rt,Ua=new Rt,Ha=new ae,Ga=new se,ka=new Qt;class Va extends Pe{constructor(t=new wn,e=new Fa){super(),this.type=\"Line\",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,i=e.count;t<i;t++)Oa.fromBufferAttribute(e,t-1),Ua.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=Oa.distanceTo(Ua);t.setAttribute(\"lineDistance\",new un(n,1))}else console.warn(\"THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.\");else t.isGeometry&&console.error(\"THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\");return this}raycast(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold,s=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ka.copy(n.boundingSphere),ka.applyMatrix4(i),ka.radius+=r,!1===t.ray.intersectsSphere(ka))return;Ha.copy(i).invert(),Ga.copy(t.ray).applyMatrix4(Ha);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=new Rt,c=new Rt,h=new Rt,u=new Rt,d=this.isLineSegments?2:1;if(n.isBufferGeometry){const i=n.index,r=n.attributes.position;if(null!==i){for(let n=Math.max(0,s.start),a=Math.min(i.count,s.start+s.count)-1;n<a;n+=d){const s=i.getX(n),a=i.getX(n+1);l.fromBufferAttribute(r,s),c.fromBufferAttribute(r,a);if(Ga.distanceSqToSegment(l,c,u,h)>o)continue;u.applyMatrix4(this.matrixWorld);const d=t.ray.origin.distanceTo(u);d<t.near||d>t.far||e.push({distance:d,point:h.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else{for(let n=Math.max(0,s.start),i=Math.min(r.count,s.start+s.count)-1;n<i;n+=d){l.fromBufferAttribute(r,n),c.fromBufferAttribute(r,n+1);if(Ga.distanceSqToSegment(l,c,u,h)>o)continue;u.applyMatrix4(this.matrixWorld);const i=t.ray.origin.distanceTo(u);i<t.near||i>t.far||e.push({distance:i,point:h.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error(\"THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error(\"THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.\")}}}Va.prototype.isLine=!0;const Wa=new Rt,ja=new Rt;class qa extends Va{constructor(t,e){super(t,e),this.type=\"LineSegments\"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,i=e.count;t<i;t+=2)Wa.fromBufferAttribute(e,t),ja.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+Wa.distanceTo(ja);t.setAttribute(\"lineDistance\",new un(n,1))}else console.warn(\"THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.\");else t.isGeometry&&console.error(\"THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\");return this}}qa.prototype.isLineSegments=!0;class Xa extends Va{constructor(t,e){super(t,e),this.type=\"LineLoop\"}}Xa.prototype.isLineLoop=!0;class Ya extends We{constructor(t){super(),this.type=\"PointsMaterial\",this.color=new Qe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this}}Ya.prototype.isPointsMaterial=!0;const Ja=new ae,Za=new se,Qa=new Qt,Ka=new Rt;class $a extends Pe{constructor(t=new wn,e=new Ya){super(),this.type=\"Points\",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold,s=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Qa.copy(n.boundingSphere),Qa.applyMatrix4(i),Qa.radius+=r,!1===t.ray.intersectsSphere(Qa))return;Ja.copy(i).invert(),Za.copy(t.ray).applyMatrix4(Ja);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){const r=n.index,a=n.attributes.position;if(null!==r){for(let n=Math.max(0,s.start),l=Math.min(r.count,s.start+s.count);n<l;n++){const s=r.getX(n);Ka.fromBufferAttribute(a,s),to(Ka,s,o,i,t,e,this)}}else{for(let n=Math.max(0,s.start),r=Math.min(a.count,s.start+s.count);n<r;n++)Ka.fromBufferAttribute(a,n),to(Ka,n,o,i,t,e,this)}}else console.error(\"THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error(\"THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.\")}}}function to(t,e,n,i,r,s,a){const o=Za.distanceSqToPoint(t);if(o<n){const n=new Rt;Za.closestPointToPoint(t,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;s.push({distance:l,distanceToRay:Math.sqrt(o),point:n,index:e,face:null,object:a})}}$a.prototype.isPoints=!0;class eo extends Mt{constructor(t,e,n,i,r,s,a,o,l){super(t,e,n,i,r,s,a,o,l),this.format=void 0!==a?a:T,this.minFilter=void 0!==s?s:g,this.magFilter=void 0!==r?r:g,this.generateMipmaps=!1;const c=this;\"requestVideoFrameCallback\"in t&&t.requestVideoFrameCallback((function e(){c.needsUpdate=!0,t.requestVideoFrameCallback(e)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;!1===\"requestVideoFrameCallback\"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}eo.prototype.isVideoTexture=!0;class no extends Mt{constructor(t,e,n,i,r,s,a,o,l,c,h,u){super(null,s,a,o,l,c,i,r,h,u),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}no.prototype.isCompressedTexture=!0;class io extends Mt{constructor(t,e,n,i,r,s,a,o,l){super(t,e,n,i,r,s,a,o,l),this.needsUpdate=!0}}io.prototype.isCanvasTexture=!0;class ro extends Mt{constructor(t,e,n,i,r,s,a,o,l,c){if((c=void 0!==c?c:A)!==A&&c!==L)throw new Error(\"DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat\");void 0===n&&c===A&&(n=_),void 0===n&&c===L&&(n=S),super(null,i,r,s,a,o,c,n,l),this.image={width:t,height:e},this.magFilter=void 0!==a?a:p,this.minFilter=void 0!==o?o:p,this.flipY=!1,this.generateMipmaps=!1}}ro.prototype.isDepthTexture=!0;class so extends wn{constructor(t=1,e=8,n=0,i=2*Math.PI){super(),this.type=\"CircleGeometry\",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},e=Math.max(3,e);const r=[],s=[],a=[],o=[],l=new Rt,c=new vt;s.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let r=0,h=3;r<=e;r++,h+=3){const u=n+r/e*i;l.x=t*Math.cos(u),l.y=t*Math.sin(u),s.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(s[h]/t+1)/2,c.y=(s[h+1]/t+1)/2,o.push(c.x,c.y)}for(let t=1;t<=e;t++)r.push(t,t+1,0);this.setIndex(r),this.setAttribute(\"position\",new un(s,3)),this.setAttribute(\"normal\",new un(a,3)),this.setAttribute(\"uv\",new un(o,2))}static fromJSON(t){return new so(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class ao extends wn{constructor(t=1,e=1,n=1,i=8,r=1,s=!1,a=0,o=2*Math.PI){super(),this.type=\"CylinderGeometry\",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o};const l=this;i=Math.floor(i),r=Math.floor(r);const c=[],h=[],u=[],d=[];let p=0;const m=[],f=n/2;let g=0;function v(n){const r=p,s=new vt,m=new Rt;let v=0;const y=!0===n?t:e,x=!0===n?1:-1;for(let t=1;t<=i;t++)h.push(0,f*x,0),u.push(0,x,0),d.push(.5,.5),p++;const _=p;for(let t=0;t<=i;t++){const e=t/i*o+a,n=Math.cos(e),r=Math.sin(e);m.x=y*r,m.y=f*x,m.z=y*n,h.push(m.x,m.y,m.z),u.push(0,x,0),s.x=.5*n+.5,s.y=.5*r*x+.5,d.push(s.x,s.y),p++}for(let t=0;t<i;t++){const e=r+t,i=_+t;!0===n?c.push(i,i+1,e):c.push(i+1,i,e),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const s=new Rt,v=new Rt;let y=0;const x=(e-t)/n;for(let l=0;l<=r;l++){const c=[],g=l/r,y=g*(e-t)+t;for(let t=0;t<=i;t++){const e=t/i,r=e*o+a,l=Math.sin(r),m=Math.cos(r);v.x=y*l,v.y=-g*n+f,v.z=y*m,h.push(v.x,v.y,v.z),s.set(l,x,m).normalize(),u.push(s.x,s.y,s.z),d.push(e,1-g),c.push(p++)}m.push(c)}for(let t=0;t<i;t++)for(let e=0;e<r;e++){const n=m[e][t],i=m[e+1][t],r=m[e+1][t+1],s=m[e][t+1];c.push(n,i,s),c.push(i,r,s),y+=6}l.addGroup(g,y,0),g+=y}(),!1===s&&(t>0&&v(!0),e>0&&v(!1)),this.setIndex(c),this.setAttribute(\"position\",new un(h,3)),this.setAttribute(\"normal\",new un(u,3)),this.setAttribute(\"uv\",new un(d,2))}static fromJSON(t){return new ao(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class oo extends ao{constructor(t=1,e=1,n=8,i=1,r=!1,s=0,a=2*Math.PI){super(0,t,e,n,i,r,s,a),this.type=\"ConeGeometry\",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:a}}static fromJSON(t){return new oo(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class lo extends wn{constructor(t,e,n=1,i=0){super(),this.type=\"PolyhedronGeometry\",this.parameters={vertices:t,indices:e,radius:n,detail:i};const r=[],s=[];function a(t,e,n,i){const r=i+1,s=[];for(let i=0;i<=r;i++){s[i]=[];const a=t.clone().lerp(n,i/r),o=e.clone().lerp(n,i/r),l=r-i;for(let t=0;t<=l;t++)s[i][t]=0===t&&i===r?a:a.clone().lerp(o,t/l)}for(let t=0;t<r;t++)for(let e=0;e<2*(r-t)-1;e++){const n=Math.floor(e/2);e%2==0?(o(s[t][n+1]),o(s[t+1][n]),o(s[t][n])):(o(s[t][n+1]),o(s[t+1][n+1]),o(s[t+1][n]))}}function o(t){r.push(t.x,t.y,t.z)}function l(e,n){const i=3*e;n.x=t[i+0],n.y=t[i+1],n.z=t[i+2]}function c(t,e,n,i){i<0&&1===t.x&&(s[e]=t.x-1),0===n.x&&0===n.z&&(s[e]=i/2/Math.PI+.5)}function h(t){return Math.atan2(t.z,-t.x)}!function(t){const n=new Rt,i=new Rt,r=new Rt;for(let s=0;s<e.length;s+=3)l(e[s+0],n),l(e[s+1],i),l(e[s+2],r),a(n,i,r,t)}(i),function(t){const e=new Rt;for(let n=0;n<r.length;n+=3)e.x=r[n+0],e.y=r[n+1],e.z=r[n+2],e.normalize().multiplyScalar(t),r[n+0]=e.x,r[n+1]=e.y,r[n+2]=e.z}(n),function(){const t=new Rt;for(let n=0;n<r.length;n+=3){t.x=r[n+0],t.y=r[n+1],t.z=r[n+2];const i=h(t)/2/Math.PI+.5,a=(e=t,Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5);s.push(i,1-a)}var e;(function(){const t=new Rt,e=new Rt,n=new Rt,i=new Rt,a=new vt,o=new vt,l=new vt;for(let u=0,d=0;u<r.length;u+=9,d+=6){t.set(r[u+0],r[u+1],r[u+2]),e.set(r[u+3],r[u+4],r[u+5]),n.set(r[u+6],r[u+7],r[u+8]),a.set(s[d+0],s[d+1]),o.set(s[d+2],s[d+3]),l.set(s[d+4],s[d+5]),i.copy(t).add(e).add(n).divideScalar(3);const p=h(i);c(a,d+0,t,p),c(o,d+2,e,p),c(l,d+4,n,p)}})(),function(){for(let t=0;t<s.length;t+=6){const e=s[t+0],n=s[t+2],i=s[t+4],r=Math.max(e,n,i),a=Math.min(e,n,i);r>.9&&a<.1&&(e<.2&&(s[t+0]+=1),n<.2&&(s[t+2]+=1),i<.2&&(s[t+4]+=1))}}()}(),this.setAttribute(\"position\",new un(r,3)),this.setAttribute(\"normal\",new un(r.slice(),3)),this.setAttribute(\"uv\",new un(s,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(t){return new lo(t.vertices,t.indices,t.radius,t.details)}}class co extends lo{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,i=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type=\"DodecahedronGeometry\",this.parameters={radius:t,detail:e}}static fromJSON(t){return new co(t.radius,t.detail)}}const ho=new Rt,uo=new Rt,po=new Rt,mo=new ke;class fo extends wn{constructor(t,e){if(super(),this.type=\"EdgesGeometry\",this.parameters={thresholdAngle:e},e=void 0!==e?e:1,!0===t.isGeometry)return void console.error(\"THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\");const n=Math.pow(10,4),i=Math.cos(ot*e),r=t.getIndex(),s=t.getAttribute(\"position\"),a=r?r.count:s.count,o=[0,0,0],l=[\"a\",\"b\",\"c\"],c=new Array(3),h={},u=[];for(let t=0;t<a;t+=3){r?(o[0]=r.getX(t),o[1]=r.getX(t+1),o[2]=r.getX(t+2)):(o[0]=t,o[1]=t+1,o[2]=t+2);const{a:e,b:a,c:d}=mo;if(e.fromBufferAttribute(s,o[0]),a.fromBufferAttribute(s,o[1]),d.fromBufferAttribute(s,o[2]),mo.getNormal(po),c[0]=`${Math.round(e.x*n)},${Math.round(e.y*n)},${Math.round(e.z*n)}`,c[1]=`${Math.round(a.x*n)},${Math.round(a.y*n)},${Math.round(a.z*n)}`,c[2]=`${Math.round(d.x*n)},${Math.round(d.y*n)},${Math.round(d.z*n)}`,c[0]!==c[1]&&c[1]!==c[2]&&c[2]!==c[0])for(let t=0;t<3;t++){const e=(t+1)%3,n=c[t],r=c[e],s=mo[l[t]],a=mo[l[e]],d=`${n}_${r}`,p=`${r}_${n}`;p in h&&h[p]?(po.dot(h[p].normal)<=i&&(u.push(s.x,s.y,s.z),u.push(a.x,a.y,a.z)),h[p]=null):d in h||(h[d]={index0:o[t],index1:o[e],normal:po.clone()})}}for(const t in h)if(h[t]){const{index0:e,index1:n}=h[t];ho.fromBufferAttribute(s,e),uo.fromBufferAttribute(s,n),u.push(ho.x,ho.y,ho.z),u.push(uo.x,uo.y,uo.z)}this.setAttribute(\"position\",new un(u,3))}}class go{constructor(){this.type=\"Curve\",this.arcLengthDivisions=200}getPoint(){return console.warn(\"THREE.Curve: .getPoint() not implemented.\"),null}getPointAt(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,i=this.getPoint(0),r=0;e.push(0);for(let s=1;s<=t;s++)n=this.getPoint(s/t),r+=n.distanceTo(i),e.push(r),i=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const n=this.getLengths();let i=0;const r=n.length;let s;s=e||t*n[r-1];let a,o=0,l=r-1;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),a=n[i]-s,a<0)o=i+1;else{if(!(a>0)){l=i;break}l=i-1}if(i=l,n[i]===s)return i/(r-1);const c=n[i];return(i+(s-c)/(n[i+1]-c))/(r-1)}getTangent(t,e){const n=1e-4;let i=t-n,r=t+n;i<0&&(i=0),r>1&&(r=1);const s=this.getPoint(i),a=this.getPoint(r),o=e||(s.isVector2?new vt:new Rt);return o.copy(a).sub(s).normalize(),o}getTangentAt(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)}computeFrenetFrames(t,e){const n=new Rt,i=[],r=[],s=[],a=new Rt,o=new ae;for(let e=0;e<=t;e++){const n=e/t;i[e]=this.getTangentAt(n,new Rt),i[e].normalize()}r[0]=new Rt,s[0]=new Rt;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),h=Math.abs(i[0].y),u=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),h<=l&&(l=h,n.set(0,1,0)),u<=l&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],a),s[0].crossVectors(i[0],r[0]);for(let e=1;e<=t;e++){if(r[e]=r[e-1].clone(),s[e]=s[e-1].clone(),a.crossVectors(i[e-1],i[e]),a.length()>Number.EPSILON){a.normalize();const t=Math.acos(ht(i[e-1].dot(i[e]),-1,1));r[e].applyMatrix4(o.makeRotationAxis(a,t))}s[e].crossVectors(i[e],r[e])}if(!0===e){let e=Math.acos(ht(r[0].dot(r[t]),-1,1));e/=t,i[0].dot(a.crossVectors(r[0],r[t]))>0&&(e=-e);for(let n=1;n<=t;n++)r[n].applyMatrix4(o.makeRotationAxis(i[n],e*n)),s[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:s}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:\"Curve\",generator:\"Curve.toJSON\"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class vo extends go{constructor(t=0,e=0,n=1,i=1,r=0,s=2*Math.PI,a=!1,o=0){super(),this.type=\"EllipseCurve\",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=s,this.aClockwise=a,this.aRotation=o}getPoint(t,e){const n=e||new vt,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const s=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=s?0:i),!0!==this.aClockwise||s||(r===i?r=-i:r-=i);const a=this.aStartAngle+t*r;let o=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=o-this.aX,i=l-this.aY;o=n*t-i*e+this.aX,l=n*e+i*t+this.aY}return n.set(o,l)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}vo.prototype.isEllipseCurve=!0;class yo extends vo{constructor(t,e,n,i,r,s){super(t,e,n,n,i,r,s),this.type=\"ArcCurve\"}}function xo(){let t=0,e=0,n=0,i=0;function r(r,s,a,o){t=r,e=a,n=-3*r+3*s-2*a-o,i=2*r-2*s+a+o}return{initCatmullRom:function(t,e,n,i,s){r(e,n,s*(n-t),s*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,s,a,o){let l=(e-t)/s-(n-t)/(s+a)+(n-e)/a,c=(n-e)/a-(i-e)/(a+o)+(i-n)/o;l*=a,c*=a,r(e,n,l,c)},calc:function(r){const s=r*r;return t+e*r+n*s+i*(s*r)}}}yo.prototype.isArcCurve=!0;const _o=new Rt,bo=new xo,Mo=new xo,wo=new xo;class So extends go{constructor(t=[],e=!1,n=\"centripetal\",i=.5){super(),this.type=\"CatmullRomCurve3\",this.points=t,this.closed=e,this.curveType=n,this.tension=i}getPoint(t,e=new Rt){const n=e,i=this.points,r=i.length,s=(r-(this.closed?0:1))*t;let a,o,l=Math.floor(s),c=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:0===c&&l===r-1&&(l=r-2,c=1),this.closed||l>0?a=i[(l-1)%r]:(_o.subVectors(i[0],i[1]).add(i[0]),a=_o);const h=i[l%r],u=i[(l+1)%r];if(this.closed||l+2<r?o=i[(l+2)%r]:(_o.subVectors(i[r-1],i[r-2]).add(i[r-1]),o=_o),\"centripetal\"===this.curveType||\"chordal\"===this.curveType){const t=\"chordal\"===this.curveType?.5:.25;let e=Math.pow(a.distanceToSquared(h),t),n=Math.pow(h.distanceToSquared(u),t),i=Math.pow(u.distanceToSquared(o),t);n<1e-4&&(n=1),e<1e-4&&(e=n),i<1e-4&&(i=n),bo.initNonuniformCatmullRom(a.x,h.x,u.x,o.x,e,n,i),Mo.initNonuniformCatmullRom(a.y,h.y,u.y,o.y,e,n,i),wo.initNonuniformCatmullRom(a.z,h.z,u.z,o.z,e,n,i)}else\"catmullrom\"===this.curveType&&(bo.initCatmullRom(a.x,h.x,u.x,o.x,this.tension),Mo.initCatmullRom(a.y,h.y,u.y,o.y,this.tension),wo.initCatmullRom(a.z,h.z,u.z,o.z,this.tension));return n.set(bo.calc(c),Mo.calc(c),wo.calc(c)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new Rt).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function To(t,e,n,i,r){const s=.5*(i-e),a=.5*(r-n),o=t*t;return(2*n-2*i+s+a)*(t*o)+(-3*n+3*i-2*s-a)*o+s*t+n}function Eo(t,e,n,i){return function(t,e){const n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function Ao(t,e,n,i,r){return function(t,e){const n=1-t;return n*n*n*e}(t,e)+function(t,e){const n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}So.prototype.isCatmullRomCurve3=!0;class Lo extends go{constructor(t=new vt,e=new vt,n=new vt,i=new vt){super(),this.type=\"CubicBezierCurve\",this.v0=t,this.v1=e,this.v2=n,this.v3=i}getPoint(t,e=new vt){const n=e,i=this.v0,r=this.v1,s=this.v2,a=this.v3;return n.set(Ao(t,i.x,r.x,s.x,a.x),Ao(t,i.y,r.y,s.y,a.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}Lo.prototype.isCubicBezierCurve=!0;class Ro extends go{constructor(t=new Rt,e=new Rt,n=new Rt,i=new Rt){super(),this.type=\"CubicBezierCurve3\",this.v0=t,this.v1=e,this.v2=n,this.v3=i}getPoint(t,e=new Rt){const n=e,i=this.v0,r=this.v1,s=this.v2,a=this.v3;return n.set(Ao(t,i.x,r.x,s.x,a.x),Ao(t,i.y,r.y,s.y,a.y),Ao(t,i.z,r.z,s.z,a.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}Ro.prototype.isCubicBezierCurve3=!0;class Co extends go{constructor(t=new vt,e=new vt){super(),this.type=\"LineCurve\",this.v1=t,this.v2=e}getPoint(t,e=new vt){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const n=e||new vt;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Co.prototype.isLineCurve=!0;class Po extends go{constructor(t=new Rt,e=new Rt){super(),this.type=\"LineCurve3\",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new Rt){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Io extends go{constructor(t=new vt,e=new vt,n=new vt){super(),this.type=\"QuadraticBezierCurve\",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new vt){const n=e,i=this.v0,r=this.v1,s=this.v2;return n.set(Eo(t,i.x,r.x,s.x),Eo(t,i.y,r.y,s.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Io.prototype.isQuadraticBezierCurve=!0;class Do extends go{constructor(t=new Rt,e=new Rt,n=new Rt){super(),this.type=\"QuadraticBezierCurve3\",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new Rt){const n=e,i=this.v0,r=this.v1,s=this.v2;return n.set(Eo(t,i.x,r.x,s.x),Eo(t,i.y,r.y,s.y),Eo(t,i.z,r.z,s.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Do.prototype.isQuadraticBezierCurve3=!0;class No extends go{constructor(t=[]){super(),this.type=\"SplineCurve\",this.points=t}getPoint(t,e=new vt){const n=e,i=this.points,r=(i.length-1)*t,s=Math.floor(r),a=r-s,o=i[0===s?s:s-1],l=i[s],c=i[s>i.length-2?i.length-1:s+1],h=i[s>i.length-3?i.length-1:s+2];return n.set(To(a,o.x,l.x,c.x,h.x),To(a,o.y,l.y,c.y,h.y)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new vt).fromArray(n))}return this}}No.prototype.isSplineCurve=!0;var zo=Object.freeze({__proto__:null,ArcCurve:yo,CatmullRomCurve3:So,CubicBezierCurve:Lo,CubicBezierCurve3:Ro,EllipseCurve:vo,LineCurve:Co,LineCurve3:Po,QuadraticBezierCurve:Io,QuadraticBezierCurve3:Do,SplineCurve:No});const Bo=function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=Fo(t,0,r,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c,h,u,d,p;if(i&&(s=function(t,e,n,i){const r=[];let s,a,o,l,c;for(s=0,a=e.length;s<a;s++)o=e[s]*i,l=s<a-1?e[s+1]*i:t.length,c=Fo(t,o,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Yo(c));for(r.sort(Wo),s=0;s<r.length;s++)jo(r[s],n),n=Oo(n,n.next);return n}(t,e,s,n)),t.length>80*n){o=c=t[0],l=h=t[1];for(let e=n;e<r;e+=n)u=t[e],d=t[e+1],u<o&&(o=u),d<l&&(l=d),u>c&&(c=u),d>h&&(h=d);p=Math.max(c-o,h-l),p=0!==p?1/p:0}return Uo(s,a,n,o,l,p),a};function Fo(t,e,n,i,r){let s,a;if(r===function(t,e,n,i){let r=0;for(let s=e,a=n-i;s<n;s+=i)r+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return r}(t,e,n,i)>0)for(s=e;s<n;s+=i)a=rl(s,t[s],t[s+1],a);else for(s=n-i;s>=e;s-=i)a=rl(s,t[s],t[s+1],a);return a&&Ko(a,a.next)&&(sl(a),a=a.next),a}function Oo(t,e){if(!t)return t;e||(e=t);let n,i=t;do{if(n=!1,i.steiner||!Ko(i,i.next)&&0!==Qo(i.prev,i,i.next))i=i.next;else{if(sl(i),i=e=i.prev,i===i.next)break;n=!0}}while(n||i!==e);return e}function Uo(t,e,n,i,r,s,a){if(!t)return;!a&&s&&function(t,e,n,i){let r=t;do{null===r.z&&(r.z=Xo(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){let e,n,i,r,s,a,o,l,c=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,i=n,o=0,e=0;e<c&&(o++,i=i.nextZ,i);e++);for(l=c;o>0||l>0&&i;)0!==o&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,o--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(a>1)}(r)}(t,i,r,s);let o,l,c=t;for(;t.prev!==t.next;)if(o=t.prev,l=t.next,s?Go(t,i,r,s):Ho(t))e.push(o.i/n),e.push(t.i/n),e.push(l.i/n),sl(t),t=l.next,c=l.next;else if((t=l)===c){a?1===a?Uo(t=ko(Oo(t),e,n),e,n,i,r,s,2):2===a&&Vo(t,e,n,i,r,s):Uo(Oo(t),e,n,i,r,s,1);break}}function Ho(t){const e=t.prev,n=t,i=t.next;if(Qo(e,n,i)>=0)return!1;let r=t.next.next;for(;r!==t.prev;){if(Jo(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Qo(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Go(t,e,n,i){const r=t.prev,s=t,a=t.next;if(Qo(r,s,a)>=0)return!1;const o=r.x<s.x?r.x<a.x?r.x:a.x:s.x<a.x?s.x:a.x,l=r.y<s.y?r.y<a.y?r.y:a.y:s.y<a.y?s.y:a.y,c=r.x>s.x?r.x>a.x?r.x:a.x:s.x>a.x?s.x:a.x,h=r.y>s.y?r.y>a.y?r.y:a.y:s.y>a.y?s.y:a.y,u=Xo(o,l,e,n,i),d=Xo(c,h,e,n,i);let p=t.prevZ,m=t.nextZ;for(;p&&p.z>=u&&m&&m.z<=d;){if(p!==t.prev&&p!==t.next&&Jo(r.x,r.y,s.x,s.y,a.x,a.y,p.x,p.y)&&Qo(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,m!==t.prev&&m!==t.next&&Jo(r.x,r.y,s.x,s.y,a.x,a.y,m.x,m.y)&&Qo(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;p&&p.z>=u;){if(p!==t.prev&&p!==t.next&&Jo(r.x,r.y,s.x,s.y,a.x,a.y,p.x,p.y)&&Qo(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=d;){if(m!==t.prev&&m!==t.next&&Jo(r.x,r.y,s.x,s.y,a.x,a.y,m.x,m.y)&&Qo(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function ko(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!Ko(r,s)&&$o(r,i,i.next,s)&&nl(r,s)&&nl(s,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(s.i/n),sl(i),sl(i.next),i=t=s),i=i.next}while(i!==t);return Oo(i)}function Vo(t,e,n,i,r,s){let a=t;do{let t=a.next.next;for(;t!==a.prev;){if(a.i!==t.i&&Zo(a,t)){let o=il(a,t);return a=Oo(a,a.next),o=Oo(o,o.next),Uo(a,e,n,i,r,s),void Uo(o,e,n,i,r,s)}t=t.next}a=a.next}while(a!==t)}function Wo(t,e){return t.x-e.x}function jo(t,e){if(e=function(t,e){let n=e;const i=t.x,r=t.y;let s,a=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const t=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=i&&t>a){if(a=t,t===i){if(r===n.y)return n;if(r===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!s)return null;if(i===a)return s;const o=s,l=s.x,c=s.y;let h,u=1/0;n=s;do{i>=n.x&&n.x>=l&&i!==n.x&&Jo(r<c?i:a,r,l,c,r<c?a:i,r,n.x,n.y)&&(h=Math.abs(r-n.y)/(i-n.x),nl(n,t)&&(h<u||h===u&&(n.x>s.x||n.x===s.x&&qo(s,n)))&&(s=n,u=h)),n=n.next}while(n!==o);return s}(t,e)){const n=il(e,t);Oo(e,e.next),Oo(n,n.next)}}function qo(t,e){return Qo(t.prev,t,e.prev)<0&&Qo(e.next,t,t.next)<0}function Xo(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Yo(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Jo(t,e,n,i,r,s,a,o){return(r-a)*(e-o)-(t-a)*(s-o)>=0&&(t-a)*(i-o)-(n-a)*(e-o)>=0&&(n-a)*(s-o)-(r-a)*(i-o)>=0}function Zo(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&$o(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(nl(t,e)&&nl(e,t)&&function(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(Qo(t.prev,t,e.prev)||Qo(t,e.prev,e))||Ko(t,e)&&Qo(t.prev,t,t.next)>0&&Qo(e.prev,e,e.next)>0)}function Qo(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ko(t,e){return t.x===e.x&&t.y===e.y}function $o(t,e,n,i){const r=el(Qo(t,e,n)),s=el(Qo(t,e,i)),a=el(Qo(n,i,t)),o=el(Qo(n,i,e));return r!==s&&a!==o||(!(0!==r||!tl(t,n,e))||(!(0!==s||!tl(t,i,e))||(!(0!==a||!tl(n,t,i))||!(0!==o||!tl(n,e,i)))))}function tl(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function el(t){return t>0?1:t<0?-1:0}function nl(t,e){return Qo(t.prev,t,t.next)<0?Qo(t,e,t.next)>=0&&Qo(t,t.prev,e)>=0:Qo(t,e,t.prev)<0||Qo(t,t.next,e)<0}function il(t,e){const n=new al(t.i,t.x,t.y),i=new al(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function rl(t,e,n,i){const r=new al(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function sl(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function al(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class ol{static area(t){const e=t.length;let n=0;for(let i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n}static isClockWise(t){return ol.area(t)<0}static triangulateShape(t,e){const n=[],i=[],r=[];ll(t),cl(n,t);let s=t.length;e.forEach(ll);for(let t=0;t<e.length;t++)i.push(s),s+=e[t].length,cl(n,e[t]);const a=Bo(n,i);for(let t=0;t<a.length;t+=3)r.push(a.slice(t,t+3));return r}}function ll(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function cl(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class hl extends wn{constructor(t,e){super(),this.type=\"ExtrudeGeometry\",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,i=[],r=[];for(let e=0,n=t.length;e<n;e++){s(t[e])}function s(t){const s=[],a=void 0!==e.curveSegments?e.curveSegments:12,o=void 0!==e.steps?e.steps:1;let l=void 0!==e.depth?e.depth:100,c=void 0===e.bevelEnabled||e.bevelEnabled,h=void 0!==e.bevelThickness?e.bevelThickness:6,u=void 0!==e.bevelSize?e.bevelSize:h-2,d=void 0!==e.bevelOffset?e.bevelOffset:0,p=void 0!==e.bevelSegments?e.bevelSegments:3;const m=e.extrudePath,f=void 0!==e.UVGenerator?e.UVGenerator:ul;void 0!==e.amount&&(console.warn(\"THREE.ExtrudeBufferGeometry: amount has been renamed to depth.\"),l=e.amount);let g,v,y,x,_,b=!1;m&&(g=m.getSpacedPoints(o),b=!0,c=!1,v=m.computeFrenetFrames(o,!1),y=new Rt,x=new Rt,_=new Rt),c||(p=0,h=0,u=0,d=0);const M=t.extractPoints(a);let w=M.shape;const S=M.holes;if(!ol.isClockWise(w)){w=w.reverse();for(let t=0,e=S.length;t<e;t++){const e=S[t];ol.isClockWise(e)&&(S[t]=e.reverse())}}const T=ol.triangulateShape(w,S),E=w;for(let t=0,e=S.length;t<e;t++){const e=S[t];w=w.concat(e)}function A(t,e,n){return e||console.error(\"THREE.ExtrudeGeometry: vec does not exist\"),e.clone().multiplyScalar(n).add(t)}const L=w.length,R=T.length;function C(t,e,n){let i,r,s;const a=t.x-e.x,o=t.y-e.y,l=n.x-t.x,c=n.y-t.y,h=a*a+o*o,u=a*c-o*l;if(Math.abs(u)>Number.EPSILON){const u=Math.sqrt(h),d=Math.sqrt(l*l+c*c),p=e.x-o/u,m=e.y+a/u,f=((n.x-c/d-p)*c-(n.y+l/d-m)*l)/(a*c-o*l);i=p+a*f-t.x,r=m+o*f-t.y;const g=i*i+r*r;if(g<=2)return new vt(i,r);s=Math.sqrt(g/2)}else{let t=!1;a>Number.EPSILON?l>Number.EPSILON&&(t=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(t=!0):Math.sign(o)===Math.sign(c)&&(t=!0),t?(i=-o,r=a,s=Math.sqrt(h)):(i=a,r=o,s=Math.sqrt(h/2))}return new vt(i/s,r/s)}const P=[];for(let t=0,e=E.length,n=e-1,i=t+1;t<e;t++,n++,i++)n===e&&(n=0),i===e&&(i=0),P[t]=C(E[t],E[n],E[i]);const I=[];let D,N=P.concat();for(let t=0,e=S.length;t<e;t++){const e=S[t];D=[];for(let t=0,n=e.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),D[t]=C(e[t],e[i],e[r]);I.push(D),N=N.concat(D)}for(let t=0;t<p;t++){const e=t/p,n=h*Math.cos(e*Math.PI/2),i=u*Math.sin(e*Math.PI/2)+d;for(let t=0,e=E.length;t<e;t++){const e=A(E[t],P[t],i);F(e.x,e.y,-n)}for(let t=0,e=S.length;t<e;t++){const e=S[t];D=I[t];for(let t=0,r=e.length;t<r;t++){const r=A(e[t],D[t],i);F(r.x,r.y,-n)}}}const z=u+d;for(let t=0;t<L;t++){const e=c?A(w[t],N[t],z):w[t];b?(x.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),_.copy(g[0]).add(x).add(y),F(_.x,_.y,_.z)):F(e.x,e.y,0)}for(let t=1;t<=o;t++)for(let e=0;e<L;e++){const n=c?A(w[e],N[e],z):w[e];b?(x.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),_.copy(g[t]).add(x).add(y),F(_.x,_.y,_.z)):F(n.x,n.y,l/o*t)}for(let t=p-1;t>=0;t--){const e=t/p,n=h*Math.cos(e*Math.PI/2),i=u*Math.sin(e*Math.PI/2)+d;for(let t=0,e=E.length;t<e;t++){const e=A(E[t],P[t],i);F(e.x,e.y,l+n)}for(let t=0,e=S.length;t<e;t++){const e=S[t];D=I[t];for(let t=0,r=e.length;t<r;t++){const r=A(e[t],D[t],i);b?F(r.x,r.y+g[o-1].y,g[o-1].x+n):F(r.x,r.y,l+n)}}}function B(t,e){let n=t.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=t.length-1);for(let t=0,n=o+2*p;t<n;t++){const n=L*t,s=L*(t+1);U(e+i+n,e+r+n,e+r+s,e+i+s)}}}function F(t,e,n){s.push(t),s.push(e),s.push(n)}function O(t,e,r){H(t),H(e),H(r);const s=i.length/3,a=f.generateTopUV(n,i,s-3,s-2,s-1);G(a[0]),G(a[1]),G(a[2])}function U(t,e,r,s){H(t),H(e),H(s),H(e),H(r),H(s);const a=i.length/3,o=f.generateSideWallUV(n,i,a-6,a-3,a-2,a-1);G(o[0]),G(o[1]),G(o[3]),G(o[1]),G(o[2]),G(o[3])}function H(t){i.push(s[3*t+0]),i.push(s[3*t+1]),i.push(s[3*t+2])}function G(t){r.push(t.x),r.push(t.y)}!function(){const t=i.length/3;if(c){let t=0,e=L*t;for(let t=0;t<R;t++){const n=T[t];O(n[2]+e,n[1]+e,n[0]+e)}t=o+2*p,e=L*t;for(let t=0;t<R;t++){const n=T[t];O(n[0]+e,n[1]+e,n[2]+e)}}else{for(let t=0;t<R;t++){const e=T[t];O(e[2],e[1],e[0])}for(let t=0;t<R;t++){const e=T[t];O(e[0]+L*o,e[1]+L*o,e[2]+L*o)}}n.addGroup(t,i.length/3-t,0)}(),function(){const t=i.length/3;let e=0;B(E,e),e+=E.length;for(let t=0,n=S.length;t<n;t++){const n=S[t];B(n,e),e+=n.length}n.addGroup(t,i.length/3-t,1)}()}this.setAttribute(\"position\",new un(i,3)),this.setAttribute(\"uv\",new un(r,2)),this.computeVertexNormals()}toJSON(){const t=super.toJSON();return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let e=0,i=t.length;e<i;e++){const i=t[e];n.shapes.push(i.uuid)}else n.shapes.push(t.uuid);void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const n=[];for(let i=0,r=t.shapes.length;i<r;i++){const r=e[t.shapes[i]];n.push(r)}const i=t.options.extrudePath;return void 0!==i&&(t.options.extrudePath=(new zo[i.type]).fromJSON(i)),new hl(n,t.options)}}const ul={generateTopUV:function(t,e,n,i,r){const s=e[3*n],a=e[3*n+1],o=e[3*i],l=e[3*i+1],c=e[3*r],h=e[3*r+1];return[new vt(s,a),new vt(o,l),new vt(c,h)]},generateSideWallUV:function(t,e,n,i,r,s){const a=e[3*n],o=e[3*n+1],l=e[3*n+2],c=e[3*i],h=e[3*i+1],u=e[3*i+2],d=e[3*r],p=e[3*r+1],m=e[3*r+2],f=e[3*s],g=e[3*s+1],v=e[3*s+2];return Math.abs(o-h)<Math.abs(a-c)?[new vt(a,1-l),new vt(c,1-u),new vt(d,1-m),new vt(f,1-v)]:[new vt(o,1-l),new vt(h,1-u),new vt(p,1-m),new vt(g,1-v)]}};class dl extends lo{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type=\"IcosahedronGeometry\",this.parameters={radius:t,detail:e}}static fromJSON(t){return new dl(t.radius,t.detail)}}class pl extends wn{constructor(t,e=12,n=0,i=2*Math.PI){super(),this.type=\"LatheGeometry\",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},e=Math.floor(e),i=ht(i,0,2*Math.PI);const r=[],s=[],a=[],o=1/e,l=new Rt,c=new vt;for(let r=0;r<=e;r++){const h=n+r*o*i,u=Math.sin(h),d=Math.cos(h);for(let n=0;n<=t.length-1;n++)l.x=t[n].x*u,l.y=t[n].y,l.z=t[n].x*d,s.push(l.x,l.y,l.z),c.x=r/e,c.y=n/(t.length-1),a.push(c.x,c.y)}for(let n=0;n<e;n++)for(let e=0;e<t.length-1;e++){const i=e+n*t.length,s=i,a=i+t.length,o=i+t.length+1,l=i+1;r.push(s,a,l),r.push(a,o,l)}if(this.setIndex(r),this.setAttribute(\"position\",new un(s,3)),this.setAttribute(\"uv\",new un(a,2)),this.computeVertexNormals(),i===2*Math.PI){const n=this.attributes.normal.array,i=new Rt,r=new Rt,s=new Rt,a=e*t.length*3;for(let e=0,o=0;e<t.length;e++,o+=3)i.x=n[o+0],i.y=n[o+1],i.z=n[o+2],r.x=n[a+o+0],r.y=n[a+o+1],r.z=n[a+o+2],s.addVectors(i,r).normalize(),n[o+0]=n[a+o+0]=s.x,n[o+1]=n[a+o+1]=s.y,n[o+2]=n[a+o+2]=s.z}}static fromJSON(t){return new pl(t.points,t.segments,t.phiStart,t.phiLength)}}class ml extends lo{constructor(t=1,e=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type=\"OctahedronGeometry\",this.parameters={radius:t,detail:e}}static fromJSON(t){return new ml(t.radius,t.detail)}}class fl extends wn{constructor(t,e,n){super(),this.type=\"ParametricGeometry\",this.parameters={func:t,slices:e,stacks:n};const i=[],r=[],s=[],a=[],o=1e-5,l=new Rt,c=new Rt,h=new Rt,u=new Rt,d=new Rt;t.length<3&&console.error(\"THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.\");const p=e+1;for(let i=0;i<=n;i++){const p=i/n;for(let n=0;n<=e;n++){const i=n/e;t(i,p,c),r.push(c.x,c.y,c.z),i-o>=0?(t(i-o,p,h),u.subVectors(c,h)):(t(i+o,p,h),u.subVectors(h,c)),p-o>=0?(t(i,p-o,h),d.subVectors(c,h)):(t(i,p+o,h),d.subVectors(h,c)),l.crossVectors(u,d).normalize(),s.push(l.x,l.y,l.z),a.push(i,p)}}for(let t=0;t<n;t++)for(let n=0;n<e;n++){const e=t*p+n,r=t*p+n+1,s=(t+1)*p+n+1,a=(t+1)*p+n;i.push(e,r,a),i.push(r,s,a)}this.setIndex(i),this.setAttribute(\"position\",new un(r,3)),this.setAttribute(\"normal\",new un(s,3)),this.setAttribute(\"uv\",new un(a,2))}}class gl extends wn{constructor(t=.5,e=1,n=8,i=1,r=0,s=2*Math.PI){super(),this.type=\"RingGeometry\",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},n=Math.max(3,n);const a=[],o=[],l=[],c=[];let h=t;const u=(e-t)/(i=Math.max(1,i)),d=new Rt,p=new vt;for(let t=0;t<=i;t++){for(let t=0;t<=n;t++){const i=r+t/n*s;d.x=h*Math.cos(i),d.y=h*Math.sin(i),o.push(d.x,d.y,d.z),l.push(0,0,1),p.x=(d.x/e+1)/2,p.y=(d.y/e+1)/2,c.push(p.x,p.y)}h+=u}for(let t=0;t<i;t++){const e=t*(n+1);for(let t=0;t<n;t++){const i=t+e,r=i,s=i+n+1,o=i+n+2,l=i+1;a.push(r,s,l),a.push(s,o,l)}}this.setIndex(a),this.setAttribute(\"position\",new un(o,3)),this.setAttribute(\"normal\",new un(l,3)),this.setAttribute(\"uv\",new un(c,2))}static fromJSON(t){return new gl(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class vl extends wn{constructor(t,e=12){super(),this.type=\"ShapeGeometry\",this.parameters={shapes:t,curveSegments:e};const n=[],i=[],r=[],s=[];let a=0,o=0;if(!1===Array.isArray(t))l(t);else for(let e=0;e<t.length;e++)l(t[e]),this.addGroup(a,o,e),a+=o,o=0;function l(t){const a=i.length/3,l=t.extractPoints(e);let c=l.shape;const h=l.holes;!1===ol.isClockWise(c)&&(c=c.reverse());for(let t=0,e=h.length;t<e;t++){const e=h[t];!0===ol.isClockWise(e)&&(h[t]=e.reverse())}const u=ol.triangulateShape(c,h);for(let t=0,e=h.length;t<e;t++){const e=h[t];c=c.concat(e)}for(let t=0,e=c.length;t<e;t++){const e=c[t];i.push(e.x,e.y,0),r.push(0,0,1),s.push(e.x,e.y)}for(let t=0,e=u.length;t<e;t++){const e=u[t],i=e[0]+a,r=e[1]+a,s=e[2]+a;n.push(i,r,s),o+=3}}this.setIndex(n),this.setAttribute(\"position\",new un(i,3)),this.setAttribute(\"normal\",new un(r,3)),this.setAttribute(\"uv\",new un(s,2))}toJSON(){const t=super.toJSON();return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}static fromJSON(t,e){const n=[];for(let i=0,r=t.shapes.length;i<r;i++){const r=e[t.shapes[i]];n.push(r)}return new vl(n,t.curveSegments)}}class yl extends wn{constructor(t=1,e=32,n=16,i=0,r=2*Math.PI,s=0,a=Math.PI){super(),this.type=\"SphereGeometry\",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:a},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const o=Math.min(s+a,Math.PI);let l=0;const c=[],h=new Rt,u=new Rt,d=[],p=[],m=[],f=[];for(let d=0;d<=n;d++){const g=[],v=d/n;let y=0;0==d&&0==s?y=.5/e:d==n&&o==Math.PI&&(y=-.5/e);for(let n=0;n<=e;n++){const o=n/e;h.x=-t*Math.cos(i+o*r)*Math.sin(s+v*a),h.y=t*Math.cos(s+v*a),h.z=t*Math.sin(i+o*r)*Math.sin(s+v*a),p.push(h.x,h.y,h.z),u.copy(h).normalize(),m.push(u.x,u.y,u.z),f.push(o+y,1-v),g.push(l++)}c.push(g)}for(let t=0;t<n;t++)for(let i=0;i<e;i++){const e=c[t][i+1],r=c[t][i],a=c[t+1][i],l=c[t+1][i+1];(0!==t||s>0)&&d.push(e,r,l),(t!==n-1||o<Math.PI)&&d.push(r,a,l)}this.setIndex(d),this.setAttribute(\"position\",new un(p,3)),this.setAttribute(\"normal\",new un(m,3)),this.setAttribute(\"uv\",new un(f,2))}static fromJSON(t){return new yl(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class xl extends lo{constructor(t=1,e=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type=\"TetrahedronGeometry\",this.parameters={radius:t,detail:e}}static fromJSON(t){return new xl(t.radius,t.detail)}}class _l extends hl{constructor(t,e={}){const n=e.font;if(!n||!n.isFont)return console.error(\"THREE.TextGeometry: font parameter is not an instance of THREE.Font.\"),new wn;const i=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),super(i,e),this.type=\"TextGeometry\"}}class bl extends wn{constructor(t=1,e=.4,n=8,i=6,r=2*Math.PI){super(),this.type=\"TorusGeometry\",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);const s=[],a=[],o=[],l=[],c=new Rt,h=new Rt,u=new Rt;for(let s=0;s<=n;s++)for(let d=0;d<=i;d++){const p=d/i*r,m=s/n*Math.PI*2;h.x=(t+e*Math.cos(m))*Math.cos(p),h.y=(t+e*Math.cos(m))*Math.sin(p),h.z=e*Math.sin(m),a.push(h.x,h.y,h.z),c.x=t*Math.cos(p),c.y=t*Math.sin(p),u.subVectors(h,c).normalize(),o.push(u.x,u.y,u.z),l.push(d/i),l.push(s/n)}for(let t=1;t<=n;t++)for(let e=1;e<=i;e++){const n=(i+1)*t+e-1,r=(i+1)*(t-1)+e-1,a=(i+1)*(t-1)+e,o=(i+1)*t+e;s.push(n,r,o),s.push(r,a,o)}this.setIndex(s),this.setAttribute(\"position\",new un(a,3)),this.setAttribute(\"normal\",new un(o,3)),this.setAttribute(\"uv\",new un(l,2))}static fromJSON(t){return new bl(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class Ml extends wn{constructor(t=1,e=.4,n=64,i=8,r=2,s=3){super(),this.type=\"TorusKnotGeometry\",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:s},n=Math.floor(n),i=Math.floor(i);const a=[],o=[],l=[],c=[],h=new Rt,u=new Rt,d=new Rt,p=new Rt,m=new Rt,f=new Rt,g=new Rt;for(let a=0;a<=n;++a){const y=a/n*r*Math.PI*2;v(y,r,s,t,d),v(y+.01,r,s,t,p),f.subVectors(p,d),g.addVectors(p,d),m.crossVectors(f,g),g.crossVectors(m,f),m.normalize(),g.normalize();for(let t=0;t<=i;++t){const r=t/i*Math.PI*2,s=-e*Math.cos(r),p=e*Math.sin(r);h.x=d.x+(s*g.x+p*m.x),h.y=d.y+(s*g.y+p*m.y),h.z=d.z+(s*g.z+p*m.z),o.push(h.x,h.y,h.z),u.subVectors(h,d).normalize(),l.push(u.x,u.y,u.z),c.push(a/n),c.push(t/i)}}for(let t=1;t<=n;t++)for(let e=1;e<=i;e++){const n=(i+1)*(t-1)+(e-1),r=(i+1)*t+(e-1),s=(i+1)*t+e,o=(i+1)*(t-1)+e;a.push(n,r,o),a.push(r,s,o)}function v(t,e,n,i,r){const s=Math.cos(t),a=Math.sin(t),o=n/e*t,l=Math.cos(o);r.x=i*(2+l)*.5*s,r.y=i*(2+l)*a*.5,r.z=i*Math.sin(o)*.5}this.setIndex(a),this.setAttribute(\"position\",new un(o,3)),this.setAttribute(\"normal\",new un(l,3)),this.setAttribute(\"uv\",new un(c,2))}static fromJSON(t){return new Ml(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class wl extends wn{constructor(t,e=64,n=1,i=8,r=!1){super(),this.type=\"TubeGeometry\",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:r};const s=t.computeFrenetFrames(e,r);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new Rt,o=new Rt,l=new vt;let c=new Rt;const h=[],u=[],d=[],p=[];function m(r){c=t.getPointAt(r/e,c);const l=s.normals[r],d=s.binormals[r];for(let t=0;t<=i;t++){const e=t/i*Math.PI*2,r=Math.sin(e),s=-Math.cos(e);o.x=s*l.x+r*d.x,o.y=s*l.y+r*d.y,o.z=s*l.z+r*d.z,o.normalize(),u.push(o.x,o.y,o.z),a.x=c.x+n*o.x,a.y=c.y+n*o.y,a.z=c.z+n*o.z,h.push(a.x,a.y,a.z)}}!function(){for(let t=0;t<e;t++)m(t);m(!1===r?e:0),function(){for(let t=0;t<=e;t++)for(let n=0;n<=i;n++)l.x=t/e,l.y=n/i,d.push(l.x,l.y)}(),function(){for(let t=1;t<=e;t++)for(let e=1;e<=i;e++){const n=(i+1)*(t-1)+(e-1),r=(i+1)*t+(e-1),s=(i+1)*t+e,a=(i+1)*(t-1)+e;p.push(n,r,a),p.push(r,s,a)}}()}(),this.setIndex(p),this.setAttribute(\"position\",new un(h,3)),this.setAttribute(\"normal\",new un(u,3)),this.setAttribute(\"uv\",new un(d,2))}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new wl((new zo[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class Sl extends wn{constructor(t){if(super(),this.type=\"WireframeGeometry\",!0===t.isGeometry)return void console.error(\"THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\");const e=[],n=new Set,i=new Rt,r=new Rt;if(null!==t.index){const s=t.attributes.position,a=t.index;let o=t.groups;0===o.length&&(o=[{start:0,count:a.count,materialIndex:0}]);for(let t=0,l=o.length;t<l;++t){const l=o[t],c=l.start;for(let t=c,o=c+l.count;t<o;t+=3)for(let o=0;o<3;o++){const l=a.getX(t+o),c=a.getX(t+(o+1)%3);i.fromBufferAttribute(s,l),r.fromBufferAttribute(s,c),!0===Tl(i,r,n)&&(e.push(i.x,i.y,i.z),e.push(r.x,r.y,r.z))}}}else{const s=t.attributes.position;for(let t=0,a=s.count/3;t<a;t++)for(let a=0;a<3;a++){const o=3*t+a,l=3*t+(a+1)%3;i.fromBufferAttribute(s,o),r.fromBufferAttribute(s,l),!0===Tl(i,r,n)&&(e.push(i.x,i.y,i.z),e.push(r.x,r.y,r.z))}}this.setAttribute(\"position\",new un(e,3))}}function Tl(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return!0!==n.has(i)&&!0!==n.has(r)&&(n.add(i,r),!0)}var El=Object.freeze({__proto__:null,BoxGeometry:Vn,BoxBufferGeometry:Vn,CircleGeometry:so,CircleBufferGeometry:so,ConeGeometry:oo,ConeBufferGeometry:oo,CylinderGeometry:ao,CylinderBufferGeometry:ao,DodecahedronGeometry:co,DodecahedronBufferGeometry:co,EdgesGeometry:fo,ExtrudeGeometry:hl,ExtrudeBufferGeometry:hl,IcosahedronGeometry:dl,IcosahedronBufferGeometry:dl,LatheGeometry:pl,LatheBufferGeometry:pl,OctahedronGeometry:ml,OctahedronBufferGeometry:ml,ParametricGeometry:fl,ParametricBufferGeometry:fl,PlaneGeometry:ci,PlaneBufferGeometry:ci,PolyhedronGeometry:lo,PolyhedronBufferGeometry:lo,RingGeometry:gl,RingBufferGeometry:gl,ShapeGeometry:vl,ShapeBufferGeometry:vl,SphereGeometry:yl,SphereBufferGeometry:yl,TetrahedronGeometry:xl,TetrahedronBufferGeometry:xl,TextGeometry:_l,TextBufferGeometry:_l,TorusGeometry:bl,TorusBufferGeometry:bl,TorusKnotGeometry:Ml,TorusKnotBufferGeometry:Ml,TubeGeometry:wl,TubeBufferGeometry:wl,WireframeGeometry:Sl});class Al extends We{constructor(t){super(),this.type=\"ShadowMaterial\",this.color=new Qe(0),this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this}}Al.prototype.isShadowMaterial=!0;class Ll extends We{constructor(t){super(),this.defines={STANDARD:\"\"},this.type=\"MeshStandardMaterial\",this.color=new Qe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:\"\"},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}Ll.prototype.isMeshStandardMaterial=!0;class Rl extends Ll{constructor(t){super(),this.defines={STANDARD:\"\",PHYSICAL:\"\"},this.type=\"MeshPhysicalMaterial\",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new vt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,\"reflectivity\",{get:function(){return ht(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenTint=new Qe(0),this.transmission=0,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationTint=new Qe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularTint=new Qe(1,1,1),this.specularTintMap=null,this._clearcoat=0,this._transmission=0,this.setValues(t)}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:\"\",PHYSICAL:\"\"},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheenTint.copy(t.sheenTint),this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationTint.copy(t.attenuationTint),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularTint.copy(t.specularTint),this.specularTintMap=t.specularTintMap,this}}Rl.prototype.isMeshPhysicalMaterial=!0;class Cl extends We{constructor(t){super(),this.type=\"MeshPhongMaterial\",this.color=new Qe(16777215),this.specular=new Qe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}Cl.prototype.isMeshPhongMaterial=!0;class Pl extends We{constructor(t){super(),this.defines={TOON:\"\"},this.type=\"MeshToonMaterial\",this.color=new Qe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}Pl.prototype.isMeshToonMaterial=!0;class Il extends We{constructor(t){super(),this.type=\"MeshNormalMaterial\",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}Il.prototype.isMeshNormalMaterial=!0;class Dl extends We{constructor(t){super(),this.type=\"MeshLambertMaterial\",this.color=new Qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}Dl.prototype.isMeshLambertMaterial=!0;class Nl extends We{constructor(t){super(),this.defines={MATCAP:\"\"},this.type=\"MeshMatcapMaterial\",this.color=new Qe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:\"\"},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this}}Nl.prototype.isMeshMatcapMaterial=!0;class zl extends Fa{constructor(t){super(),this.type=\"LineDashedMaterial\",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}zl.prototype.isLineDashedMaterial=!0;var Bl=Object.freeze({__proto__:null,ShadowMaterial:Al,SpriteMaterial:ea,RawShaderMaterial:_i,ShaderMaterial:Xn,PointsMaterial:Ya,MeshPhysicalMaterial:Rl,MeshStandardMaterial:Ll,MeshPhongMaterial:Cl,MeshToonMaterial:Pl,MeshNormalMaterial:Il,MeshLambertMaterial:Dl,MeshDepthMaterial:zs,MeshDistanceMaterial:Bs,MeshBasicMaterial:Ke,MeshMatcapMaterial:Nl,LineDashedMaterial:zl,LineBasicMaterial:Fa,Material:We});const Fl={arraySlice:function(t,e,n){return Fl.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:\"number\"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,n=new Array(e);for(let t=0;t!==e;++t)n[t]=t;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,a=0;a!==i;++s){const i=n[s]*e;for(let n=0;n!==e;++n)r[a++]=t[i+n]}return r},flattenJSON:function(t,e,n,i){let r=1,s=t[0];for(;void 0!==s&&void 0===s[i];)s=t[r++];if(void 0===s)return;let a=s[i];if(void 0!==a)if(Array.isArray(a))do{a=s[i],void 0!==a&&(e.push(s.time),n.push.apply(n,a)),s=t[r++]}while(void 0!==s);else if(void 0!==a.toArray)do{a=s[i],void 0!==a&&(e.push(s.time),a.toArray(n,n.length)),s=t[r++]}while(void 0!==s);else do{a=s[i],void 0!==a&&(e.push(s.time),n.push(a)),s=t[r++]}while(void 0!==s)},subclip:function(t,e,n,i,r=30){const s=t.clone();s.name=e;const a=[];for(let t=0;t<s.tracks.length;++t){const e=s.tracks[t],o=e.getValueSize(),l=[],c=[];for(let t=0;t<e.times.length;++t){const s=e.times[t]*r;if(!(s<n||s>=i)){l.push(e.times[t]);for(let n=0;n<o;++n)c.push(e.values[t*o+n])}}0!==l.length&&(e.times=Fl.convertArray(l,e.times.constructor),e.values=Fl.convertArray(c,e.values.constructor),a.push(e))}s.tracks=a;let o=1/0;for(let t=0;t<s.tracks.length;++t)o>s.tracks[t].times[0]&&(o=s.tracks[t].times[0]);for(let t=0;t<s.tracks.length;++t)s.tracks[t].shift(-1*o);return s.resetDuration(),s},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let e=0;e<r;++e){const i=n.tracks[e],r=i.ValueTypeName;if(\"bool\"===r||\"string\"===r)continue;const a=t.tracks.find((function(t){return t.name===i.name&&t.ValueTypeName===r}));if(void 0===a)continue;let o=0;const l=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=l/3);let c=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=h/3);const u=i.times.length-1;let d;if(s<=i.times[0]){const t=o,e=l-o;d=Fl.arraySlice(i.values,t,e)}else if(s>=i.times[u]){const t=u*l+o,e=t+l-o;d=Fl.arraySlice(i.values,t,e)}else{const t=i.createInterpolant(),e=o,n=l-o;t.evaluate(s),d=Fl.arraySlice(t.resultBuffer,e,n)}if(\"quaternion\"===r){(new Lt).fromArray(d).normalize().conjugate().toArray(d)}const p=a.times.length;for(let t=0;t<p;++t){const e=t*h+c;if(\"quaternion\"===r)Lt.multiplyQuaternionsFlat(a.values,e,d,0,a.values,e);else{const t=h-2*c;for(let n=0;n<t;++n)a.values[e+n]-=d[n]}}}return t.blendMode=q,t}};class Ol{constructor(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{let s;n:{i:if(!(t<i)){for(let s=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===s)break;if(r=i,i=e[++n],t<i)break e}s=e.length;break n}if(t>=r)break t;{const a=e[1];t<a&&(n=2,r=a);for(let s=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===s)break;if(i=r,r=e[--n-1],t>=r)break e}s=n,n=0}}for(;n<s;){const i=n+s>>>1;t<e[i]?s=i:n=i+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i;for(let t=0;t!==i;++t)e[t]=n[r+t];return e}interpolate_(){throw new Error(\"call to abstract method\")}intervalChanged_(){}}Ol.prototype.beforeStart_=Ol.prototype.copySampleValue_,Ol.prototype.afterEnd_=Ol.prototype.copySampleValue_;class Ul extends Ol{constructor(t,e,n,i){super(t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:k,endingEnd:k}}intervalChanged_(t,e,n){const i=this.parameterPositions;let r=t-2,s=t+1,a=i[r],o=i[s];if(void 0===a)switch(this.getSettings_().endingStart){case V:r=t,a=2*e-n;break;case W:r=i.length-2,a=e+i[r]-i[r+1];break;default:r=t,a=n}if(void 0===o)switch(this.getSettings_().endingEnd){case V:s=t,o=2*n-e;break;case W:s=1,o=n+i[1]-i[0];break;default:s=t-1,o=e}const l=.5*(n-e),c=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(o-n),this._offsetPrev=r*c,this._offsetNext=s*c}interpolate_(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=t*a,l=o-a,c=this._offsetPrev,h=this._offsetNext,u=this._weightPrev,d=this._weightNext,p=(n-e)/(i-e),m=p*p,f=m*p,g=-u*f+2*u*m-u*p,v=(1+u)*f+(-1.5-2*u)*m+(-.5+u)*p+1,y=(-1-d)*f+(1.5+d)*m+.5*p,x=d*f-d*m;for(let t=0;t!==a;++t)r[t]=g*s[c+t]+v*s[l+t]+y*s[o+t]+x*s[h+t];return r}}class Hl extends Ol{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=t*a,l=o-a,c=(n-e)/(i-e),h=1-c;for(let t=0;t!==a;++t)r[t]=s[l+t]*h+s[o+t]*c;return r}}class Gl extends Ol{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t){return this.copySampleValue_(t-1)}}class kl{constructor(t,e,n,i){if(void 0===t)throw new Error(\"THREE.KeyframeTrack: track name is undefined\");if(void 0===e||0===e.length)throw new Error(\"THREE.KeyframeTrack: no keyframes in track named \"+t);this.name=t,this.times=Fl.convertArray(e,this.TimeBufferType),this.values=Fl.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:Fl.convertArray(t.times,Array),values:Fl.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new Gl(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new Hl(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Ul(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case U:e=this.InterpolantFactoryMethodDiscrete;break;case H:e=this.InterpolantFactoryMethodLinear;break;case G:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e=\"unsupported interpolation for \"+this.ValueTypeName+\" keyframe track named \"+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn(\"THREE.KeyframeTrack:\",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return U;case this.InterpolantFactoryMethodLinear:return H;case this.InterpolantFactoryMethodSmooth:return G}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this}trim(t,e){const n=this.times,i=n.length;let r=0,s=i-1;for(;r!==i&&n[r]<t;)++r;for(;-1!==s&&n[s]>e;)--s;if(++s,0!==r||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);const t=this.getValueSize();this.times=Fl.arraySlice(n,r,s),this.values=Fl.arraySlice(this.values,r*t,s*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error(\"THREE.KeyframeTrack: Invalid value size in track.\",this),t=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error(\"THREE.KeyframeTrack: Track is empty.\",this),t=!1);let s=null;for(let e=0;e!==r;e++){const i=n[e];if(\"number\"==typeof i&&isNaN(i)){console.error(\"THREE.KeyframeTrack: Time is not a valid number.\",this,e,i),t=!1;break}if(null!==s&&s>i){console.error(\"THREE.KeyframeTrack: Out of order keys.\",this,e,i,s),t=!1;break}s=i}if(void 0!==i&&Fl.isTypedArray(i))for(let e=0,n=i.length;e!==n;++e){const n=i[e];if(isNaN(n)){console.error(\"THREE.KeyframeTrack: Value is not a valid number.\",this,e,n),t=!1;break}}return t}optimize(){const t=Fl.arraySlice(this.times),e=Fl.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===G,r=t.length-1;let s=1;for(let a=1;a<r;++a){let r=!1;const o=t[a];if(o!==t[a+1]&&(1!==a||o!==t[0]))if(i)r=!0;else{const t=a*n,i=t-n,s=t+n;for(let a=0;a!==n;++a){const n=e[t+a];if(n!==e[i+a]||n!==e[s+a]){r=!0;break}}}if(r){if(a!==s){t[s]=t[a];const i=a*n,r=s*n;for(let t=0;t!==n;++t)e[r+t]=e[i+t]}++s}}if(r>0){t[s]=t[r];for(let t=r*n,i=s*n,a=0;a!==n;++a)e[i+a]=e[t+a];++s}return s!==t.length?(this.times=Fl.arraySlice(t,0,s),this.values=Fl.arraySlice(e,0,s*n)):(this.times=t,this.values=e),this}clone(){const t=Fl.arraySlice(this.times,0),e=Fl.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}kl.prototype.TimeBufferType=Float32Array,kl.prototype.ValueBufferType=Float32Array,kl.prototype.DefaultInterpolation=H;class Vl extends kl{}Vl.prototype.ValueTypeName=\"bool\",Vl.prototype.ValueBufferType=Array,Vl.prototype.DefaultInterpolation=U,Vl.prototype.InterpolantFactoryMethodLinear=void 0,Vl.prototype.InterpolantFactoryMethodSmooth=void 0;class Wl extends kl{}Wl.prototype.ValueTypeName=\"color\";class jl extends kl{}jl.prototype.ValueTypeName=\"number\";class ql extends Ol{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=(n-e)/(i-e);let l=t*a;for(let t=l+a;l!==t;l+=4)Lt.slerpFlat(r,0,s,l-a,s,l,o);return r}}class Xl extends kl{InterpolantFactoryMethodLinear(t){return new ql(this.times,this.values,this.getValueSize(),t)}}Xl.prototype.ValueTypeName=\"quaternion\",Xl.prototype.DefaultInterpolation=H,Xl.prototype.InterpolantFactoryMethodSmooth=void 0;class Yl extends kl{}Yl.prototype.ValueTypeName=\"string\",Yl.prototype.ValueBufferType=Array,Yl.prototype.DefaultInterpolation=U,Yl.prototype.InterpolantFactoryMethodLinear=void 0,Yl.prototype.InterpolantFactoryMethodSmooth=void 0;class Jl extends kl{}Jl.prototype.ValueTypeName=\"vector\";class Zl{constructor(t,e=-1,n,i=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=i,this.uuid=ct(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let t=0,r=n.length;t!==r;++t)e.push(Ql(n[t]).scale(i));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,i=n.length;t!==i;++t)e.push(kl.toJSON(n[t]));return i}static CreateFromMorphTargetSequence(t,e,n,i){const r=e.length,s=[];for(let t=0;t<r;t++){let a=[],o=[];a.push((t+r-1)%r,t,(t+1)%r),o.push(0,1,0);const l=Fl.getKeyframeOrder(a);a=Fl.sortedArray(a,1,l),o=Fl.sortedArray(o,1,l),i||0!==a[0]||(a.push(r),o.push(o[0])),s.push(new jl(\".morphTargetInfluences[\"+e[t].name+\"]\",a,o).scale(1/n))}return new this(t,-1,s)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const i={},r=/^([\\w-]*?)([\\d]+)$/;for(let e=0,n=t.length;e<n;e++){const n=t[e],s=n.name.match(r);if(s&&s.length>1){const t=s[1];let e=i[t];e||(i[t]=e=[]),e.push(n)}}const s=[];for(const t in i)s.push(this.CreateFromMorphTargetSequence(t,i[t],e,n));return s}static parseAnimation(t,e){if(!t)return console.error(\"THREE.AnimationClip: No animation in JSONLoader data.\"),null;const n=function(t,e,n,i,r){if(0!==n.length){const s=[],a=[];Fl.flattenJSON(n,s,a,i),0!==s.length&&r.push(new t(e,s,a))}},i=[],r=t.name||\"default\",s=t.fps||30,a=t.blendMode;let o=t.length||-1;const l=t.hierarchy||[];for(let t=0;t<l.length;t++){const r=l[t].keys;if(r&&0!==r.length)if(r[0].morphTargets){const t={};let e;for(e=0;e<r.length;e++)if(r[e].morphTargets)for(let n=0;n<r[e].morphTargets.length;n++)t[r[e].morphTargets[n]]=-1;for(const n in t){const t=[],s=[];for(let i=0;i!==r[e].morphTargets.length;++i){const i=r[e];t.push(i.time),s.push(i.morphTarget===n?1:0)}i.push(new jl(\".morphTargetInfluence[\"+n+\"]\",t,s))}o=t.length*(s||1)}else{const s=\".bones[\"+e[t].name+\"]\";n(Jl,s+\".position\",r,\"pos\",i),n(Xl,s+\".quaternion\",r,\"rot\",i),n(Jl,s+\".scale\",r,\"scl\",i)}}if(0===i.length)return null;return new this(r,o,i,a)}resetDuration(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ql(t){if(void 0===t.type)throw new Error(\"THREE.KeyframeTrack: track type undefined, can not parse\");const e=function(t){switch(t.toLowerCase()){case\"scalar\":case\"double\":case\"float\":case\"number\":case\"integer\":return jl;case\"vector\":case\"vector2\":case\"vector3\":case\"vector4\":return Jl;case\"color\":return Wl;case\"quaternion\":return Xl;case\"bool\":case\"boolean\":return Vl;case\"string\":return Yl}throw new Error(\"THREE.KeyframeTrack: Unsupported typeName: \"+t)}(t.type);if(void 0===t.times){const e=[],n=[];Fl.flattenJSON(t.keys,e,n,\"value\"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Kl={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class $l{constructor(t,e,n){const i=this;let r,s=!1,a=0,o=0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===s&&void 0!==i.onStart&&i.onStart(t,a,o),s=!0},this.itemEnd=function(t){a++,void 0!==i.onProgress&&i.onProgress(t,a,o),a===o&&(s=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){const e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=l.length;e<n;e+=2){const n=l[e],i=l[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return i}return null}}}const tc=new $l;class ec{constructor(t){this.manager=void 0!==t?t:tc,this.crossOrigin=\"anonymous\",this.withCredentials=!1,this.path=\"\",this.resourcePath=\"\",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise((function(i,r){n.load(t,i,e,r)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const nc={};class ic extends ec{constructor(t){super(t)}load(t,e,n,i){void 0===t&&(t=\"\"),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=Kl.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout((function(){e&&e(s),r.manager.itemEnd(t)}),0),s;if(void 0!==nc[t])return void nc[t].push({onLoad:e,onProgress:n,onError:i});const a=t.match(/^data:(.*?)(;base64)?,(.*)$/);let o;if(a){const n=a[1],s=!!a[2];let o=a[3];o=decodeURIComponent(o),s&&(o=atob(o));try{let i;const s=(this.responseType||\"\").toLowerCase();switch(s){case\"arraybuffer\":case\"blob\":const t=new Uint8Array(o.length);for(let e=0;e<o.length;e++)t[e]=o.charCodeAt(e);i=\"blob\"===s?new Blob([t.buffer],{type:n}):t.buffer;break;case\"document\":const e=new DOMParser;i=e.parseFromString(o,n);break;case\"json\":i=JSON.parse(o);break;default:i=o}setTimeout((function(){e&&e(i),r.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),0)}}else{nc[t]=[],nc[t].push({onLoad:e,onProgress:n,onError:i}),o=new XMLHttpRequest,o.open(\"GET\",t,!0),o.addEventListener(\"load\",(function(e){const n=this.response,i=nc[t];if(delete nc[t],200===this.status||0===this.status){0===this.status&&console.warn(\"THREE.FileLoader: HTTP Status 0 received.\"),Kl.add(t,n);for(let t=0,e=i.length;t<e;t++){const e=i[t];e.onLoad&&e.onLoad(n)}r.manager.itemEnd(t)}else{for(let t=0,n=i.length;t<n;t++){const n=i[t];n.onError&&n.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}}),!1),o.addEventListener(\"progress\",(function(e){const n=nc[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onProgress&&i.onProgress(e)}}),!1),o.addEventListener(\"error\",(function(e){const n=nc[t];delete nc[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),o.addEventListener(\"abort\",(function(e){const n=nc[t];delete nc[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:\"text/plain\");for(const t in this.requestHeader)o.setRequestHeader(t,this.requestHeader[t]);o.send(null)}return r.manager.itemStart(t),o}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class rc extends ec{constructor(t){super(t)}load(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=Kl.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout((function(){e&&e(s),r.manager.itemEnd(t)}),0),s;const a=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"img\");function o(){a.removeEventListener(\"load\",o,!1),a.removeEventListener(\"error\",l,!1),Kl.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(e){a.removeEventListener(\"load\",o,!1),a.removeEventListener(\"error\",l,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return a.addEventListener(\"load\",o,!1),a.addEventListener(\"error\",l,!1),\"data:\"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(t),a.src=t,a}}class sc extends ec{constructor(t){super(t)}load(t,e,n,i){const r=new Kn,s=new rc(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function o(n){s.load(t[n],(function(t){r.images[n]=t,a++,6===a&&(r.needsUpdate=!0,e&&e(r))}),void 0,i)}for(let e=0;e<t.length;++e)o(e);return r}}class ac extends ec{constructor(t){super(t)}load(t,e,n,i){const r=this,s=new Aa,a=new ic(this.manager);return a.setResponseType(\"arraybuffer\"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(r.withCredentials),a.load(t,(function(t){const n=r.parse(t);n&&(void 0!==n.image?s.image=n.image:void 0!==n.data&&(s.image.width=n.width,s.image.height=n.height,s.image.data=n.data),s.wrapS=void 0!==n.wrapS?n.wrapS:u,s.wrapT=void 0!==n.wrapT?n.wrapT:u,s.magFilter=void 0!==n.magFilter?n.magFilter:g,s.minFilter=void 0!==n.minFilter?n.minFilter:g,s.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(s.encoding=n.encoding),void 0!==n.flipY&&(s.flipY=n.flipY),void 0!==n.format&&(s.format=n.format),void 0!==n.type&&(s.type=n.type),void 0!==n.mipmaps&&(s.mipmaps=n.mipmaps,s.minFilter=y),1===n.mipmapCount&&(s.minFilter=g),void 0!==n.generateMipmaps&&(s.generateMipmaps=n.generateMipmaps),s.needsUpdate=!0,e&&e(s,n))}),n,i),s}}class oc extends ec{constructor(t){super(t)}load(t,e,n,i){const r=new Mt,s=new rc(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(t,(function(n){r.image=n;const i=t.search(/\\.jpe?g($|\\?)/i)>0||0===t.search(/^data\\:image\\/jpeg/);r.format=i?T:E,r.needsUpdate=!0,void 0!==e&&e(r)}),n,i),r}}class lc extends go{constructor(){super(),this.type=\"CurvePath\",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Co(e,t))}getPoint(t){const e=t*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=e){const t=n[i]-e,r=this.curves[i],s=r.getLength(),a=0===s?0:1-t/s;return r.getPointAt(a)}i++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const s=r[i],a=s&&s.isEllipseCurve?2*t:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?t*s.points.length:t,o=s.getPoints(a);for(let t=0;t<o.length;t++){const i=o[t];n&&n.equals(i)||(e.push(i),n=i)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const n=this.curves[e];t.curves.push(n.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push((new zo[n.type]).fromJSON(n))}return this}}class cc extends lc{constructor(t){super(),this.type=\"Path\",this.currentPoint=new vt,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const n=new Co(this.currentPoint.clone(),new vt(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,n,i){const r=new Io(this.currentPoint.clone(),new vt(t,e),new vt(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(t,e,n,i,r,s){const a=new Lo(this.currentPoint.clone(),new vt(t,e),new vt(n,i),new vt(r,s));return this.curves.push(a),this.currentPoint.set(r,s),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),n=new No(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,n,i,r,s){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(t+a,e+o,n,i,r,s),this}absarc(t,e,n,i,r,s){return this.absellipse(t,e,n,n,i,r,s),this}ellipse(t,e,n,i,r,s,a,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(t+l,e+c,n,i,r,s,a,o),this}absellipse(t,e,n,i,r,s,a,o){const l=new vo(t,e,n,i,r,s,a,o);if(this.curves.length>0){const t=l.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class hc extends cc{constructor(t){super(t),this.uuid=ct(),this.type=\"Shape\",this.holes=[]}getPointsHoles(t){const e=[];for(let n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push(n.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const n=this.holes[e];t.holes.push(n.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push((new cc).fromJSON(n))}return this}}class uc extends Pe{constructor(t,e=1){super(),this.type=\"Light\",this.color=new Qe(t),this.intensity=e}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}uc.prototype.isLight=!0;class dc extends uc{constructor(t,e,n){super(t,n),this.type=\"HemisphereLight\",this.position.copy(Pe.DefaultUp),this.updateMatrix(),this.groundColor=new Qe(e)}copy(t){return uc.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}dc.prototype.isHemisphereLight=!0;const pc=new ae,mc=new Rt,fc=new Rt;class gc{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new vt(512,512),this.map=null,this.mapPass=null,this.matrix=new ae,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ai,this._frameExtents=new vt(1,1),this._viewportCount=1,this._viewports=[new St(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;mc.setFromMatrixPosition(t.matrixWorld),e.position.copy(mc),fc.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(fc),e.updateMatrixWorld(),pc.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pc),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class vc extends gc{constructor(){super(new Jn(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,n=2*lt*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}vc.prototype.isSpotLightShadow=!0;class yc extends uc{constructor(t,e,n=0,i=Math.PI/3,r=0,s=1){super(t,e),this.type=\"SpotLight\",this.position.copy(Pe.DefaultUp),this.updateMatrix(),this.target=new Pe,this.distance=n,this.angle=i,this.penumbra=r,this.decay=s,this.shadow=new vc}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}yc.prototype.isSpotLight=!0;const xc=new ae,_c=new Rt,bc=new Rt;class Mc extends gc{constructor(){super(new Jn(90,1,.5,500)),this._frameExtents=new vt(4,2),this._viewportCount=6,this._viewports=[new St(2,1,1,1),new St(0,1,1,1),new St(3,1,1,1),new St(1,1,1,1),new St(3,0,1,1),new St(1,0,1,1)],this._cubeDirections=[new Rt(1,0,0),new Rt(-1,0,0),new Rt(0,0,1),new Rt(0,0,-1),new Rt(0,1,0),new Rt(0,-1,0)],this._cubeUps=[new Rt(0,1,0),new Rt(0,1,0),new Rt(0,1,0),new Rt(0,1,0),new Rt(0,0,1),new Rt(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,i=this.matrix,r=t.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),_c.setFromMatrixPosition(t.matrixWorld),n.position.copy(_c),bc.copy(n.position),bc.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(bc),n.updateMatrixWorld(),i.makeTranslation(-_c.x,-_c.y,-_c.z),xc.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xc)}}Mc.prototype.isPointLightShadow=!0;class wc extends uc{constructor(t,e,n=0,i=1){super(t,e),this.type=\"PointLight\",this.distance=n,this.decay=i,this.shadow=new Mc}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}wc.prototype.isPointLight=!0;class Sc extends gc{constructor(){super(new xi(-5,5,5,-5,.5,500))}}Sc.prototype.isDirectionalLightShadow=!0;class Tc extends uc{constructor(t,e){super(t,e),this.type=\"DirectionalLight\",this.position.copy(Pe.DefaultUp),this.updateMatrix(),this.target=new Pe,this.shadow=new Sc}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}Tc.prototype.isDirectionalLight=!0;class Ec extends uc{constructor(t,e){super(t,e),this.type=\"AmbientLight\"}}Ec.prototype.isAmbientLight=!0;class Ac extends uc{constructor(t,e,n=10,i=10){super(t,e),this.type=\"RectAreaLight\",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}Ac.prototype.isRectAreaLight=!0;class Lc{constructor(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new Rt)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,i=t.y,r=t.z,s=this.coefficients;return e.copy(s[0]).multiplyScalar(.282095),e.addScaledVector(s[1],.488603*i),e.addScaledVector(s[2],.488603*r),e.addScaledVector(s[3],.488603*n),e.addScaledVector(s[4],n*i*1.092548),e.addScaledVector(s[5],i*r*1.092548),e.addScaledVector(s[6],.315392*(3*r*r-1)),e.addScaledVector(s[7],n*r*1.092548),e.addScaledVector(s[8],.546274*(n*n-i*i)),e}getIrradianceAt(t,e){const n=t.x,i=t.y,r=t.z,s=this.coefficients;return e.copy(s[0]).multiplyScalar(.886227),e.addScaledVector(s[1],1.023328*i),e.addScaledVector(s[2],1.023328*r),e.addScaledVector(s[3],1.023328*n),e.addScaledVector(s[4],.858086*n*i),e.addScaledVector(s[5],.858086*i*r),e.addScaledVector(s[6],.743125*r*r-.247708),e.addScaledVector(s[7],.858086*n*r),e.addScaledVector(s[8],.429043*(n*n-i*i)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}toArray(t=[],e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}static getBasisAt(t,e){const n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}Lc.prototype.isSphericalHarmonics3=!0;class Rc extends uc{constructor(t=new Lc,e=1){super(void 0,e),this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}Rc.prototype.isLightProbe=!0;class Cc extends ec{constructor(t){super(t),this.textures={}}load(t,e,n,i){const r=this,s=new ic(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(e){i?i(e):console.error(e),r.manager.itemError(t)}}),n,i)}parse(t){const e=this.textures;function n(t){return void 0===e[t]&&console.warn(\"THREE.MaterialLoader: Undefined texture\",t),e[t]}const i=new Bl[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&void 0!==i.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheenTint&&(i.sheenTint=(new Qe).setHex(t.sheenTint)),void 0!==t.emissive&&void 0!==i.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==i.specular&&i.specular.setHex(t.specular),void 0!==t.specularIntensity&&(i.specularIntensity=t.specularIntensity),void 0!==t.specularTint&&void 0!==i.specularTint&&i.specularTint.setHex(t.specularTint),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.transmission&&(i.transmission=t.transmission),void 0!==t.thickness&&(i.thickness=t.thickness),void 0!==t.attenuationDistance&&(i.attenuationDistance=t.attenuationDistance),void 0!==t.attenuationTint&&void 0!==i.attenuationTint&&i.attenuationTint.setHex(t.attenuationTint),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.shadowSide&&(i.shadowSide=t.shadowSide),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.format&&(i.format=t.format),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.alphaToCoverage&&(i.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(i.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.vertexColors&&(\"number\"==typeof t.vertexColors?i.vertexColors=t.vertexColors>0:i.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const e in t.uniforms){const r=t.uniforms[e];switch(i.uniforms[e]={},r.type){case\"t\":i.uniforms[e].value=n(r.value);break;case\"c\":i.uniforms[e].value=(new Qe).setHex(r.value);break;case\"v2\":i.uniforms[e].value=(new vt).fromArray(r.value);break;case\"v3\":i.uniforms[e].value=(new Rt).fromArray(r.value);break;case\"v4\":i.uniforms[e].value=(new St).fromArray(r.value);break;case\"m3\":i.uniforms[e].value=(new yt).fromArray(r.value);break;case\"m4\":i.uniforms[e].value=(new ae).fromArray(r.value);break;default:i.uniforms[e].value=r.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(const e in t.extensions)i.extensions[e]=t.extensions[e];if(void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),i.normalScale=(new vt).fromArray(e)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.specularIntensityMap&&(i.specularIntensityMap=n(t.specularIntensityMap)),void 0!==t.specularTintMap&&(i.specularTintMap=n(t.specularTintMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(i.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new vt).fromArray(t.clearcoatNormalScale)),void 0!==t.transmissionMap&&(i.transmissionMap=n(t.transmissionMap)),void 0!==t.thicknessMap&&(i.thicknessMap=n(t.thicknessMap)),i}setTextures(t){return this.textures=t,this}}class Pc{static decodeText(t){if(\"undefined\"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e=\"\";for(let n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(t){return e}}static extractUrlBase(t){const e=t.lastIndexOf(\"/\");return-1===e?\"./\":t.substr(0,e+1)}}class Ic extends wn{constructor(){super(),this.type=\"InstancedBufferGeometry\",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}Ic.prototype.isInstancedBufferGeometry=!0;class Dc extends ec{constructor(t){super(t)}load(t,e,n,i){const r=this,s=new ic(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(e){i?i(e):console.error(e),r.manager.itemError(t)}}),n,i)}parse(t){const e={},n={};function i(t,i){if(void 0!==e[i])return e[i];const r=t.interleavedBuffers[i],s=function(t,e){if(void 0!==n[e])return n[e];const i=t.arrayBuffers[e],r=new Uint32Array(i).buffer;return n[e]=r,r}(t,r.buffer),a=fn(r.type,s),o=new Ks(a,r.stride);return o.uuid=r.uuid,e[i]=o,o}const r=t.isInstancedBufferGeometry?new Ic:new wn,s=t.data.index;if(void 0!==s){const t=fn(s.type,s.array);r.setIndex(new en(t,1))}const a=t.data.attributes;for(const e in a){const n=a[e];let s;if(n.isInterleavedBufferAttribute){const e=i(t.data,n.data);s=new ta(e,n.itemSize,n.offset,n.normalized)}else{const t=fn(n.type,n.array);s=new(n.isInstancedBufferAttribute?Pa:en)(t,n.itemSize,n.normalized)}void 0!==n.name&&(s.name=n.name),void 0!==n.usage&&s.setUsage(n.usage),void 0!==n.updateRange&&(s.updateRange.offset=n.updateRange.offset,s.updateRange.count=n.updateRange.count),r.setAttribute(e,s)}const o=t.data.morphAttributes;if(o)for(const e in o){const n=o[e],s=[];for(let e=0,r=n.length;e<r;e++){const r=n[e];let a;if(r.isInterleavedBufferAttribute){const e=i(t.data,r.data);a=new ta(e,r.itemSize,r.offset,r.normalized)}else{const t=fn(r.type,r.array);a=new en(t,r.itemSize,r.normalized)}void 0!==r.name&&(a.name=r.name),s.push(a)}r.morphAttributes[e]=s}t.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(let t=0,e=l.length;t!==e;++t){const e=l[t];r.addGroup(e.start,e.count,e.materialIndex)}const c=t.data.boundingSphere;if(void 0!==c){const t=new Rt;void 0!==c.center&&t.fromArray(c.center),r.boundingSphere=new Qt(t,c.radius)}return t.name&&(r.name=t.name),t.userData&&(r.userData=t.userData),r}}const Nc={UVMapping:i,CubeReflectionMapping:r,CubeRefractionMapping:s,EquirectangularReflectionMapping:a,EquirectangularRefractionMapping:o,CubeUVReflectionMapping:l,CubeUVRefractionMapping:c},zc={RepeatWrapping:h,ClampToEdgeWrapping:u,MirroredRepeatWrapping:d},Bc={NearestFilter:p,NearestMipmapNearestFilter:m,NearestMipmapLinearFilter:f,LinearFilter:g,LinearMipmapNearestFilter:v,LinearMipmapLinearFilter:y};class Fc extends ec{constructor(t){super(t),\"undefined\"==typeof createImageBitmap&&console.warn(\"THREE.ImageBitmapLoader: createImageBitmap() not supported.\"),\"undefined\"==typeof fetch&&console.warn(\"THREE.ImageBitmapLoader: fetch() not supported.\"),this.options={premultiplyAlpha:\"none\"}}setOptions(t){return this.options=t,this}load(t,e,n,i){void 0===t&&(t=\"\"),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=Kl.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout((function(){e&&e(s),r.manager.itemEnd(t)}),0),s;const a={};a.credentials=\"anonymous\"===this.crossOrigin?\"same-origin\":\"include\",a.headers=this.requestHeader,fetch(t,a).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,Object.assign(r.options,{colorSpaceConversion:\"none\"}))})).then((function(n){Kl.add(t,n),e&&e(n),r.manager.itemEnd(t)})).catch((function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)})),r.manager.itemStart(t)}}Fc.prototype.isImageBitmapLoader=!0;class Oc{constructor(){this.type=\"ShapePath\",this.color=new Qe,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new cc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this}bezierCurveTo(t,e,n,i,r,s){return this.currentPath.bezierCurveTo(t,e,n,i,r,s),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t,e){function n(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n],r=new hc;r.curves=i.curves,e.push(r)}return e}function i(t,e){const n=e.length;let i=!1;for(let r=n-1,s=0;s<n;r=s++){let n=e[r],a=e[s],o=a.x-n.x,l=a.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=e[s],o=-o,a=e[r],l=-l),t.y<n.y||t.y>a.y)continue;if(t.y===n.y){if(t.x===n.x)return!0}else{const e=l*(t.x-n.x)-o*(t.y-n.y);if(0===e)return!0;if(e<0)continue;i=!i}}else{if(t.y!==n.y)continue;if(a.x<=t.x&&t.x<=n.x||n.x<=t.x&&t.x<=a.x)return!0}}return i}const r=ol.isClockWise,s=this.subPaths;if(0===s.length)return[];if(!0===e)return n(s);let a,o,l;const c=[];if(1===s.length)return o=s[0],l=new hc,l.curves=o.curves,c.push(l),c;let h=!r(s[0].getPoints());h=t?!h:h;const u=[],d=[];let p,m,f=[],g=0;d[g]=void 0,f[g]=[];for(let e=0,n=s.length;e<n;e++)o=s[e],p=o.getPoints(),a=r(p),a=t?!a:a,a?(!h&&d[g]&&g++,d[g]={s:new hc,p:p},d[g].s.curves=o.curves,h&&g++,f[g]=[]):f[g].push({h:o,p:p[0]});if(!d[0])return n(s);if(d.length>1){let t=!1;const e=[];for(let t=0,e=d.length;t<e;t++)u[t]=[];for(let n=0,r=d.length;n<r;n++){const r=f[n];for(let s=0;s<r.length;s++){const a=r[s];let o=!0;for(let r=0;r<d.length;r++)i(a.p,d[r].p)&&(n!==r&&e.push({froms:n,tos:r,hole:s}),o?(o=!1,u[r].push(a)):t=!0);o&&u[n].push(a)}}e.length>0&&(t||(f=u))}for(let t=0,e=d.length;t<e;t++){l=d[t].s,c.push(l),m=f[t];for(let t=0,e=m.length;t<e;t++)l.holes.push(m[t].h)}return c}}class Uc{constructor(t){this.type=\"Font\",this.data=t}generateShapes(t,e=100){const n=[],i=function(t,e,n){const i=Array.from(t),r=e/n.resolution,s=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,a=[];let o=0,l=0;for(let t=0;t<i.length;t++){const e=i[t];if(\"\\n\"===e)o=0,l-=s;else{const t=Hc(e,r,o,l,n);o+=t.offsetX,a.push(t.path)}}return a}(t,e,this.data);for(let t=0,e=i.length;t<e;t++)Array.prototype.push.apply(n,i[t].toShapes());return n}}function Hc(t,e,n,i,r){const s=r.glyphs[t]||r.glyphs[\"?\"];if(!s)return void console.error('THREE.Font: character \"'+t+'\" does not exists in font family '+r.familyName+\".\");const a=new Oc;let o,l,c,h,u,d,p,m;if(s.o){const t=s._cachedOutline||(s._cachedOutline=s.o.split(\" \"));for(let r=0,s=t.length;r<s;){switch(t[r++]){case\"m\":o=t[r++]*e+n,l=t[r++]*e+i,a.moveTo(o,l);break;case\"l\":o=t[r++]*e+n,l=t[r++]*e+i,a.lineTo(o,l);break;case\"q\":c=t[r++]*e+n,h=t[r++]*e+i,u=t[r++]*e+n,d=t[r++]*e+i,a.quadraticCurveTo(u,d,c,h);break;case\"b\":c=t[r++]*e+n,h=t[r++]*e+i,u=t[r++]*e+n,d=t[r++]*e+i,p=t[r++]*e+n,m=t[r++]*e+i,a.bezierCurveTo(u,d,p,m,c,h)}}}return{offsetX:s.ha*e,path:a}}Uc.prototype.isFont=!0;let Gc;const kc={getContext:function(){return void 0===Gc&&(Gc=new(window.AudioContext||window.webkitAudioContext)),Gc},setContext:function(t){Gc=t}};class Vc extends ec{constructor(t){super(t)}load(t,e,n,i){const r=this,s=new ic(this.manager);s.setResponseType(\"arraybuffer\"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,(function(n){try{const t=n.slice(0);kc.getContext().decodeAudioData(t,(function(t){e(t)}))}catch(e){i?i(e):console.error(e),r.manager.itemError(t)}}),n,i)}}class Wc extends Rc{constructor(t,e,n=1){super(void 0,n);const i=(new Qe).set(t),r=(new Qe).set(e),s=new Rt(i.r,i.g,i.b),a=new Rt(r.r,r.g,r.b),o=Math.sqrt(Math.PI),l=o*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(o),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(l)}}Wc.prototype.isHemisphereLightProbe=!0;class jc extends Rc{constructor(t,e=1){super(void 0,e);const n=(new Qe).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}jc.prototype.isAmbientLightProbe=!0;const qc=new ae,Xc=new ae;class Yc{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Jc(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Jc();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function Jc(){return(\"undefined\"==typeof performance?Date:performance).now()}const Zc=new Rt,Qc=new Lt,Kc=new Rt,$c=new Rt;class th extends Pe{constructor(t){super(),this.type=\"Audio\",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType=\"empty\",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType=\"audioNode\",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType=\"mediaNode\",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType=\"mediaStreamNode\",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType=\"buffer\",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn(\"THREE.Audio: Audio is already playing.\");if(!1===this.hasPlaybackControl)return void console.warn(\"THREE.Audio: this Audio has no playback control.\");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn(\"THREE.Audio: this Audio has no playback control.\")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn(\"THREE.Audio: this Audio has no playback control.\"),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const eh=new Rt,nh=new Lt,ih=new Rt,rh=new Rt;class sh{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}}class ah{constructor(t,e,n){let i,r,s;switch(this.binding=t,this.valueSize=n,e){case\"quaternion\":i=this._slerp,r=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case\"string\":case\"bool\":i=this._select,r=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const n=this.buffer,i=this.valueSize,r=t*i+i;let s=this.cumulativeWeight;if(0===s){for(let t=0;t!==i;++t)n[r+t]=n[t];s=e}else{s+=e;const t=e/s;this._mixBufferRegion(n,r,0,t,i)}this.cumulativeWeight=s}accumulateAdditive(t){const e=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const t=e*this._origIndex;this._mixBufferRegion(n,i,t,1-r,e)}s>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(let t=e,r=e+e;t!==r;++t)if(n[t]!==n[t+e]){a.setValue(n,i);break}}saveOriginalState(){const t=this.binding,e=this.buffer,n=this.valueSize,i=n*this._origIndex;t.getValue(e,i);for(let t=n,r=i;t!==r;++t)e[t]=e[i+t%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]}_select(t,e,n,i,r){if(i>=.5)for(let i=0;i!==r;++i)t[e+i]=t[n+i]}_slerp(t,e,n,i){Lt.slerpFlat(t,e,t,e,t,n,i)}_slerpAdditive(t,e,n,i,r){const s=this._workIndex*r;Lt.multiplyQuaternionsFlat(t,s,t,e,t,n),Lt.slerpFlat(t,e,t,e,t,s,i)}_lerp(t,e,n,i,r){const s=1-i;for(let a=0;a!==r;++a){const r=e+a;t[r]=t[r]*s+t[n+a]*i}}_lerpAdditive(t,e,n,i,r){for(let s=0;s!==r;++s){const r=e+s;t[r]=t[r]+t[n+s]*i}}}const oh=\"\\\\[\\\\]\\\\.:\\\\/\",lh=new RegExp(\"[\\\\[\\\\]\\\\.:\\\\/]\",\"g\"),ch=\"[^\\\\[\\\\]\\\\.:\\\\/]\",hh=\"[^\"+oh.replace(\"\\\\.\",\"\")+\"]\",uh=/((?:WC+[\\/:])*)/.source.replace(\"WC\",ch),dh=/(WCOD+)?/.source.replace(\"WCOD\",hh),ph=/(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace(\"WC\",ch),mh=/\\.(WC+)(?:\\[(.+)\\])?/.source.replace(\"WC\",ch),fh=new RegExp(\"^\"+uh+dh+ph+mh+\"$\"),gh=[\"material\",\"materials\",\"bones\"];class vh{constructor(t,e,n){this.path=e,this.parsedPath=n||vh.parseTrackName(e),this.node=vh.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new vh.Composite(t,e,n):new vh(t,e,n)}static sanitizeNodeName(t){return t.replace(/\\s/g,\"_\").replace(lh,\"\")}static parseTrackName(t){const e=fh.exec(t);if(!e)throw new Error(\"PropertyBinding: Cannot parse trackName: \"+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(\".\");if(void 0!==i&&-1!==i){const t=n.nodeName.substring(i+1);-1!==gh.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error(\"PropertyBinding: can not parse propertyName from trackName: \"+t);return n}static findNode(t,e){if(!e||\"\"===e||\".\"===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const s=n(r.children);if(s)return s}return null},i=n(t.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)t[e++]=n[i]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let r=e.propertyIndex;if(t||(t=vh.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error(\"THREE.PropertyBinding: Trying to update node for track: \"+this.path+\" but it wasn't found.\");if(n){let i=e.objectIndex;switch(n){case\"materials\":if(!t.material)return void console.error(\"THREE.PropertyBinding: Can not bind to material as node does not have a material.\",this);if(!t.material.materials)return void console.error(\"THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.\",this);t=t.material.materials;break;case\"bones\":if(!t.skeleton)return void console.error(\"THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.\",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===i){i=e;break}break;default:if(void 0===t[n])return void console.error(\"THREE.PropertyBinding: Can not bind to objectName of node undefined.\",this);t=t[n]}if(void 0!==i){if(void 0===t[i])return void console.error(\"THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.\",this,t);t=t[i]}}const s=t[i];if(void 0===s){const n=e.nodeName;return void console.error(\"THREE.PropertyBinding: Trying to update property for track: \"+n+\".\"+i+\" but it wasn't found.\",t)}let a=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==r){if(\"morphTargetInfluences\"===i){if(!t.geometry)return void console.error(\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.\",this);if(!t.geometry.isBufferGeometry)return void console.error(\"THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.\",this);if(!t.geometry.morphAttributes)return void console.error(\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.\",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}o=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(o=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}vh.Composite=class{constructor(t,e,n){const i=n||vh.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},vh.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},vh.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},vh.prototype.GetterByBindingType=[vh.prototype._getValue_direct,vh.prototype._getValue_array,vh.prototype._getValue_arrayElement,vh.prototype._getValue_toArray],vh.prototype.SetterByBindingTypeAndVersioning=[[vh.prototype._setValue_direct,vh.prototype._setValue_direct_setNeedsUpdate,vh.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vh.prototype._setValue_array,vh.prototype._setValue_array_setNeedsUpdate,vh.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vh.prototype._setValue_arrayElement,vh.prototype._setValue_arrayElement_setNeedsUpdate,vh.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vh.prototype._setValue_fromArray,vh.prototype._setValue_fromArray_setNeedsUpdate,vh.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class yh{constructor(){this.uuid=ct(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,s=r.length;let a,o=t.length,l=this.nCachedObjects_;for(let c=0,h=arguments.length;c!==h;++c){const h=arguments[c],u=h.uuid;let d=e[u];if(void 0===d){d=o++,e[u]=d,t.push(h);for(let t=0,e=s;t!==e;++t)r[t].push(new vh(h,n[t],i[t]))}else if(d<l){a=t[d];const o=--l,c=t[o];e[c.uuid]=d,t[d]=c,e[u]=o,t[o]=h;for(let t=0,e=s;t!==e;++t){const e=r[t],s=e[o];let a=e[d];e[d]=s,void 0===a&&(a=new vh(h,n[t],i[t])),e[o]=a}}else t[d]!==a&&console.error(\"THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.\")}this.nCachedObjects_=l}remove(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s],o=a.uuid,l=e[o];if(void 0!==l&&l>=r){const s=r++,c=t[s];e[c.uuid]=l,t[l]=c,e[o]=s,t[s]=a;for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[s],r=e[l];e[l]=i,e[s]=r}}}this.nCachedObjects_=r}uncache(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,s=t.length;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a].uuid,l=e[o];if(void 0!==l)if(delete e[o],l<r){const a=--r,o=t[a],c=--s,h=t[c];e[o.uuid]=l,t[l]=o,e[h.uuid]=a,t[a]=h,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[a],r=e[c];e[l]=i,e[a]=r,e.pop()}}else{const r=--s,a=t[r];r>0&&(e[a.uuid]=l),t[l]=a,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t];e[l]=e[r],e.pop()}}}this.nCachedObjects_=r}subscribe_(t,e){const n=this._bindingsIndicesByPath;let i=n[t];const r=this._bindings;if(void 0!==i)return r[i];const s=this._paths,a=this._parsedPaths,o=this._objects,l=o.length,c=this.nCachedObjects_,h=new Array(l);i=r.length,n[t]=i,s.push(t),a.push(e),r.push(h);for(let n=c,i=o.length;n!==i;++n){const i=o[n];h[n]=new vh(i,t,e)}return h}unsubscribe_(t){const e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){const i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length-1,o=s[a];e[t[a]]=n,s[n]=o,s.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}}yh.prototype.isAnimationObjectGroup=!0;class xh{constructor(t,e,n=null,i=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=i;const r=e.tracks,s=r.length,a=new Array(s),o={endingStart:k,endingEnd:k};for(let t=0;t!==s;++t){const e=r[t].createInterpolant(null);a[t]=e,e.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,i=t._clip.duration,r=i/n,s=n/i;t.warp(1,r,e),this.warp(s,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const i=this._mixer,r=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=r,o[1]=r+n,l[0]=t/s,l[1]=e/s,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,i){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const i=(t-r)*n;if(i<0||0===n)return;this._startTime=null,e=n*i}e*=this._updateTimeScale(t);const s=this._updateTime(e),a=this._updateWeight(t);if(a>0){const t=this._interpolants,e=this._propertyBindings;switch(this.blendMode){case q:for(let n=0,i=t.length;n!==i;++n)t[n].evaluate(s),e[n].accumulateAdditive(a);break;case j:default:for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(s),e[n].accumulate(i,a)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let i=this.time+t,r=this._loopCount;const s=2202===n;if(0===t)return-1===r?i:s&&1==(1&r)?e-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else{if(!(i<0)){this.time=i;break t}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:\"finished\",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),i>=e||i<0){const n=Math.floor(i/e);i-=e*n,r+=Math.abs(n);const a=this.repetitions-r;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:\"finished\",action:this,direction:t>0?1:-1});else{if(1===a){const e=t<0;this._setEndings(e,!e,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:\"loop\",action:this,loopDelta:n})}}else this.time=i;if(s&&1==(1&r))return e-i}return i}_setEndings(t,e,n){const i=this._interpolantSettings;n?(i.endingStart=V,i.endingEnd=V):(i.endingStart=t?this.zeroSlopeAtStart?V:k:W,i.endingEnd=e?this.zeroSlopeAtEnd?V:k:W)}_scheduleFading(t,e,n){const i=this._mixer,r=i.time;let s=this._weightInterpolant;null===s&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,o=s.sampleValues;return a[0]=r,o[0]=e,a[1]=r+t,o[1]=n,this}}class _h extends rt{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,s=t._propertyBindings,a=t._interpolants,o=n.uuid,l=this._bindingsByRootAndName;let c=l[o];void 0===c&&(c={},l[o]=c);for(let t=0;t!==r;++t){const r=i[t],l=r.name;let h=c[l];if(void 0!==h)s[t]=h;else{if(h=s[t],void 0!==h){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,o,l));continue}const i=e&&e._propertyBindings[t].binding.parsedPath;h=new ah(vh.create(n,l,i),r.ValueTypeName,r.getValueSize()),++h.referenceCount,this._addInactiveBinding(h,o,l),s[t]=h}a[t].resultBuffer=h.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,n){const i=this._actions,r=this._actionsByClip;let s=r[e];if(void 0===s)s={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=s;else{const e=s.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=i.length,i.push(t),s.actionByRoot[n]=t}_removeInactiveAction(t){const e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,s=this._actionsByClip,a=s[r],o=a.knownActions,l=o[o.length-1],c=t._byClipCacheIndex;l._byClipCacheIndex=c,o[c]=l,o.pop(),t._byClipCacheIndex=null;delete a.actionByRoot[(t._localRoot||this._root).uuid],0===o.length&&delete s[r],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.referenceCount&&this._removeInactiveBinding(n)}}_lendAction(t){const e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r}_takeBackAction(t){const e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r}_addInactiveBinding(t,e,n){const i=this._bindingsByRootAndName,r=this._bindings;let s=i[e];void 0===s&&(s={},i[e]=s),s[n]=t,t._cacheIndex=r.length,r.push(t)}_removeInactiveBinding(t){const e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,a=s[i],o=e[e.length-1],l=t._cacheIndex;o._cacheIndex=l,e[l]=o,e.pop(),delete a[r],0===Object.keys(a).length&&delete s[i]}_lendBinding(t){const e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r}_takeBackBinding(t){const e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new Hl(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n}_takeBackControlInterpolant(t){const e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r}clipAction(t,e,n){const i=e||this._root,r=i.uuid;let s=\"string\"==typeof t?Zl.findByName(i,t):t;const a=null!==s?s.uuid:t,o=this._actionsByClip[a];let l=null;if(void 0===n&&(n=null!==s?s.blendMode:j),void 0!==o){const t=o.actionByRoot[r];if(void 0!==t&&t.blendMode===n)return t;l=o.knownActions[0],null===s&&(s=l._clip)}if(null===s)return null;const c=new xh(this,s,e,n);return this._bindAction(c,l),this._addInactiveAction(c,a,r),c}existingAction(t,e){const n=e||this._root,i=n.uuid,r=\"string\"==typeof t?Zl.findByName(n,t):t,s=r?r.uuid:t,a=this._actionsByClip[s];return void 0!==a&&a.actionByRoot[i]||null}stopAllAction(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this}update(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,i=this.time+=t,r=Math.sign(t),s=this._accuIndex^=1;for(let a=0;a!==n;++a){e[a]._update(i,t,r,s)}const a=this._bindings,o=this._nActiveBindings;for(let t=0;t!==o;++t)a[t].apply(s);return this}setTime(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const t=r.knownActions;for(let n=0,i=t.length;n!==i;++n){const i=t[n];this._deactivateAction(i);const r=i._cacheIndex,s=e[e.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,s._cacheIndex=r,e[r]=s,e.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}}uncacheRoot(t){const e=t.uuid,n=this._actionsByClip;for(const t in n){const i=n[t].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}const i=this._bindingsByRootAndName[e];if(void 0!==i)for(const t in i){const e=i[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}_h.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class bh{constructor(t){\"string\"==typeof t&&(console.warn(\"THREE.Uniform: Type parameter is no longer needed.\"),t=arguments[1]),this.value=t}clone(){return new bh(void 0===this.value.clone?this.value:this.value.clone())}}class Mh extends Ks{constructor(t,e,n=1){super(t,e),this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}Mh.prototype.isInstancedInterleavedBuffer=!0;class wh{constructor(t,e,n,i,r){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}set needsUpdate(t){!0===t&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}wh.prototype.isGLBufferAttribute=!0;function Sh(t,e){return t.distance-e.distance}function Th(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===i){const i=t.children;for(let t=0,r=i.length;t<r;t++)Th(i[t],e,n,!0)}}const Eh=new vt;class Ah{constructor(t=new vt(1/0,1/0),e=new vt(-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Eh.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Eh.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}Ah.prototype.isBox2=!0;const Lh=new Rt,Rh=new Rt;class Ch{constructor(t=new Rt,e=new Rt){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){Lh.subVectors(t,this.start),Rh.subVectors(this.end,this.start);const n=Rh.dot(Rh);let i=Rh.dot(Lh)/n;return e&&(i=ht(i,0,1)),i}closestPointToPoint(t,e,n){const i=this.closestPointToPointParameter(t,e);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}class Ph extends Pe{constructor(t){super(),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}Ph.prototype.isImmediateRenderObject=!0;const Ih=new Rt;const Dh=new Rt,Nh=new ae,zh=new ae;class Bh extends qa{constructor(t){const e=Fh(t),n=new wn,i=[],r=[],s=new Qe(0,0,1),a=new Qe(0,1,0);for(let t=0;t<e.length;t++){const n=e[t];n.parent&&n.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(s.r,s.g,s.b),r.push(a.r,a.g,a.b))}n.setAttribute(\"position\",new un(i,3)),n.setAttribute(\"color\",new un(r,3));super(n,new Fa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type=\"SkeletonHelper\",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,i=n.getAttribute(\"position\");zh.copy(this.root.matrixWorld).invert();for(let t=0,n=0;t<e.length;t++){const r=e[t];r.parent&&r.parent.isBone&&(Nh.multiplyMatrices(zh,r.matrixWorld),Dh.setFromMatrixPosition(Nh),i.setXYZ(n,Dh.x,Dh.y,Dh.z),Nh.multiplyMatrices(zh,r.parent.matrixWorld),Dh.setFromMatrixPosition(Nh),i.setXYZ(n+1,Dh.x,Dh.y,Dh.z),n+=2)}n.getAttribute(\"position\").needsUpdate=!0,super.updateMatrixWorld(t)}}function Fh(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,Fh(t.children[n]));return e}const Oh=new Rt,Uh=new Qe,Hh=new Qe;class Gh extends qa{constructor(t=10,e=10,n=4473924,i=8947848){n=new Qe(n),i=new Qe(i);const r=e/2,s=t/e,a=t/2,o=[],l=[];for(let t=0,c=0,h=-a;t<=e;t++,h+=s){o.push(-a,0,h,a,0,h),o.push(h,0,-a,h,0,a);const e=t===r?n:i;e.toArray(l,c),c+=3,e.toArray(l,c),c+=3,e.toArray(l,c),c+=3,e.toArray(l,c),c+=3}const c=new wn;c.setAttribute(\"position\",new un(o,3)),c.setAttribute(\"color\",new un(l,3));super(c,new Fa({vertexColors:!0,toneMapped:!1})),this.type=\"GridHelper\"}}const kh=new Rt,Vh=new Rt,Wh=new Rt;const jh=new Rt,qh=new Yn;function Xh(t,e,n,i,r,s,a){jh.set(r,s,a).unproject(i);const o=e[t];if(void 0!==o){const t=n.getAttribute(\"position\");for(let e=0,n=o.length;e<n;e++)t.setXYZ(o[e],jh.x,jh.y,jh.z)}}const Yh=new It;class Jh extends qa{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new wn;r.setIndex(new en(n,1)),r.setAttribute(\"position\",new en(i,3)),super(r,new Fa({color:e,toneMapped:!1})),this.object=t,this.type=\"BoxHelper\",this.matrixAutoUpdate=!1,this.update()}update(t){if(void 0!==t&&console.warn(\"THREE.BoxHelper: .update() has no longer arguments.\"),void 0!==this.object&&Yh.setFromObject(this.object),Yh.isEmpty())return;const e=Yh.min,n=Yh.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t){return qa.prototype.copy.call(this,t),this.object=t.object,this}}const Zh=new Rt;let Qh,Kh;class $h extends qa{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new wn;n.setAttribute(\"position\",new un(e,3)),n.setAttribute(\"color\",new un([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new Fa({vertexColors:!0,toneMapped:!1})),this.type=\"AxesHelper\"}setColors(t,e,n){const i=new Qe,r=this.geometry.attributes.color.array;return i.set(t),i.toArray(r,0),i.toArray(r,3),i.set(e),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const tu=new Float32Array(1),eu=new Int32Array(tu.buffer);go.create=function(t,e){return console.log(\"THREE.Curve.create() has been deprecated\"),t.prototype=Object.create(go.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},cc.prototype.fromPoints=function(t){return console.warn(\"THREE.Path: .fromPoints() has been renamed to .setFromPoints().\"),this.setFromPoints(t)},Gh.prototype.setColors=function(){console.error(\"THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.\")},Bh.prototype.update=function(){console.error(\"THREE.SkeletonHelper: update() no longer needs to be called.\")},ec.prototype.extractUrlBase=function(t){return console.warn(\"THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.\"),Pc.extractUrlBase(t)},ec.Handlers={add:function(){console.error(\"THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.\")},get:function(){console.error(\"THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.\")}},Ah.prototype.center=function(t){return console.warn(\"THREE.Box2: .center() has been renamed to .getCenter().\"),this.getCenter(t)},Ah.prototype.empty=function(){return console.warn(\"THREE.Box2: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},Ah.prototype.isIntersectionBox=function(t){return console.warn(\"THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(t)},Ah.prototype.size=function(t){return console.warn(\"THREE.Box2: .size() has been renamed to .getSize().\"),this.getSize(t)},It.prototype.center=function(t){return console.warn(\"THREE.Box3: .center() has been renamed to .getCenter().\"),this.getCenter(t)},It.prototype.empty=function(){return console.warn(\"THREE.Box3: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},It.prototype.isIntersectionBox=function(t){return console.warn(\"THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(t)},It.prototype.isIntersectionSphere=function(t){return console.warn(\"THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().\"),this.intersectsSphere(t)},It.prototype.size=function(t){return console.warn(\"THREE.Box3: .size() has been renamed to .getSize().\"),this.getSize(t)},Qt.prototype.empty=function(){return console.warn(\"THREE.Sphere: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},ai.prototype.setFromMatrix=function(t){return console.warn(\"THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().\"),this.setFromProjectionMatrix(t)},Ch.prototype.center=function(t){return console.warn(\"THREE.Line3: .center() has been renamed to .getCenter().\"),this.getCenter(t)},yt.prototype.flattenToArrayOffset=function(t,e){return console.warn(\"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"),this.toArray(t,e)},yt.prototype.multiplyVector3=function(t){return console.warn(\"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.\"),t.applyMatrix3(this)},yt.prototype.multiplyVector3Array=function(){console.error(\"THREE.Matrix3: .multiplyVector3Array() has been removed.\")},yt.prototype.applyToBufferAttribute=function(t){return console.warn(\"THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.\"),t.applyMatrix3(this)},yt.prototype.applyToVector3Array=function(){console.error(\"THREE.Matrix3: .applyToVector3Array() has been removed.\")},yt.prototype.getInverse=function(t){return console.warn(\"THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.\"),this.copy(t).invert()},ae.prototype.extractPosition=function(t){return console.warn(\"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().\"),this.copyPosition(t)},ae.prototype.flattenToArrayOffset=function(t,e){return console.warn(\"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"),this.toArray(t,e)},ae.prototype.getPosition=function(){return console.warn(\"THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.\"),(new Rt).setFromMatrixColumn(this,3)},ae.prototype.setRotationFromQuaternion=function(t){return console.warn(\"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().\"),this.makeRotationFromQuaternion(t)},ae.prototype.multiplyToArray=function(){console.warn(\"THREE.Matrix4: .multiplyToArray() has been removed.\")},ae.prototype.multiplyVector3=function(t){return console.warn(\"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},ae.prototype.multiplyVector4=function(t){return console.warn(\"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},ae.prototype.multiplyVector3Array=function(){console.error(\"THREE.Matrix4: .multiplyVector3Array() has been removed.\")},ae.prototype.rotateAxis=function(t){console.warn(\"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.\"),t.transformDirection(this)},ae.prototype.crossVector=function(t){return console.warn(\"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},ae.prototype.translate=function(){console.error(\"THREE.Matrix4: .translate() has been removed.\")},ae.prototype.rotateX=function(){console.error(\"THREE.Matrix4: .rotateX() has been removed.\")},ae.prototype.rotateY=function(){console.error(\"THREE.Matrix4: .rotateY() has been removed.\")},ae.prototype.rotateZ=function(){console.error(\"THREE.Matrix4: .rotateZ() has been removed.\")},ae.prototype.rotateByAxis=function(){console.error(\"THREE.Matrix4: .rotateByAxis() has been removed.\")},ae.prototype.applyToBufferAttribute=function(t){return console.warn(\"THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},ae.prototype.applyToVector3Array=function(){console.error(\"THREE.Matrix4: .applyToVector3Array() has been removed.\")},ae.prototype.makeFrustum=function(t,e,n,i,r,s){return console.warn(\"THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.\"),this.makePerspective(t,e,i,n,r,s)},ae.prototype.getInverse=function(t){return console.warn(\"THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.\"),this.copy(t).invert()},ii.prototype.isIntersectionLine=function(t){return console.warn(\"THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().\"),this.intersectsLine(t)},Lt.prototype.multiplyVector3=function(t){return console.warn(\"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.\"),t.applyQuaternion(this)},Lt.prototype.inverse=function(){return console.warn(\"THREE.Quaternion: .inverse() has been renamed to invert().\"),this.invert()},se.prototype.isIntersectionBox=function(t){return console.warn(\"THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(t)},se.prototype.isIntersectionPlane=function(t){return console.warn(\"THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().\"),this.intersectsPlane(t)},se.prototype.isIntersectionSphere=function(t){return console.warn(\"THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().\"),this.intersectsSphere(t)},ke.prototype.area=function(){return console.warn(\"THREE.Triangle: .area() has been renamed to .getArea().\"),this.getArea()},ke.prototype.barycoordFromPoint=function(t,e){return console.warn(\"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().\"),this.getBarycoord(t,e)},ke.prototype.midpoint=function(t){return console.warn(\"THREE.Triangle: .midpoint() has been renamed to .getMidpoint().\"),this.getMidpoint(t)},ke.prototypenormal=function(t){return console.warn(\"THREE.Triangle: .normal() has been renamed to .getNormal().\"),this.getNormal(t)},ke.prototype.plane=function(t){return console.warn(\"THREE.Triangle: .plane() has been renamed to .getPlane().\"),this.getPlane(t)},ke.barycoordFromPoint=function(t,e,n,i,r){return console.warn(\"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().\"),ke.getBarycoord(t,e,n,i,r)},ke.normal=function(t,e,n,i){return console.warn(\"THREE.Triangle: .normal() has been renamed to .getNormal().\"),ke.getNormal(t,e,n,i)},hc.prototype.extractAllPoints=function(t){return console.warn(\"THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.\"),this.extractPoints(t)},hc.prototype.extrude=function(t){return console.warn(\"THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.\"),new hl(this,t)},hc.prototype.makeGeometry=function(t){return console.warn(\"THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.\"),new vl(this,t)},vt.prototype.fromAttribute=function(t,e,n){return console.warn(\"THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(t,e,n)},vt.prototype.distanceToManhattan=function(t){return console.warn(\"THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().\"),this.manhattanDistanceTo(t)},vt.prototype.lengthManhattan=function(){return console.warn(\"THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().\"),this.manhattanLength()},Rt.prototype.setEulerFromRotationMatrix=function(){console.error(\"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\")},Rt.prototype.setEulerFromQuaternion=function(){console.error(\"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\")},Rt.prototype.getPositionFromMatrix=function(t){return console.warn(\"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\"),this.setFromMatrixPosition(t)},Rt.prototype.getScaleFromMatrix=function(t){return console.warn(\"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\"),this.setFromMatrixScale(t)},Rt.prototype.getColumnFromMatrix=function(t,e){return console.warn(\"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\"),this.setFromMatrixColumn(e,t)},Rt.prototype.applyProjection=function(t){return console.warn(\"THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.\"),this.applyMatrix4(t)},Rt.prototype.fromAttribute=function(t,e,n){return console.warn(\"THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(t,e,n)},Rt.prototype.distanceToManhattan=function(t){return console.warn(\"THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().\"),this.manhattanDistanceTo(t)},Rt.prototype.lengthManhattan=function(){return console.warn(\"THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().\"),this.manhattanLength()},St.prototype.fromAttribute=function(t,e,n){return console.warn(\"THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(t,e,n)},St.prototype.lengthManhattan=function(){return console.warn(\"THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().\"),this.manhattanLength()},Pe.prototype.getChildByName=function(t){return console.warn(\"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().\"),this.getObjectByName(t)},Pe.prototype.renderDepth=function(){console.warn(\"THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.\")},Pe.prototype.translate=function(t,e){return console.warn(\"THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.\"),this.translateOnAxis(e,t)},Pe.prototype.getWorldRotation=function(){console.error(\"THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.\")},Pe.prototype.applyMatrix=function(t){return console.warn(\"THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().\"),this.applyMatrix4(t)},Object.defineProperties(Pe.prototype,{eulerOrder:{get:function(){return console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\"),this.rotation.order},set:function(t){console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\"),this.rotation.order=t}},useQuaternion:{get:function(){console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")},set:function(){console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")}}}),Gn.prototype.setDrawMode=function(){console.error(\"THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.\")},Object.defineProperties(Gn.prototype,{drawMode:{get:function(){return console.error(\"THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.\"),0},set:function(){console.error(\"THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.\")}}}),Ta.prototype.initBones=function(){console.error(\"THREE.SkinnedMesh: initBones() has been removed.\")},Jn.prototype.setLens=function(t,e){console.warn(\"THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.\"),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(uc.prototype,{onlyShadow:{set:function(){console.warn(\"THREE.Light: .onlyShadow has been removed.\")}},shadowCameraFov:{set:function(t){console.warn(\"THREE.Light: .shadowCameraFov is now .shadow.camera.fov.\"),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn(\"THREE.Light: .shadowCameraLeft is now .shadow.camera.left.\"),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn(\"THREE.Light: .shadowCameraRight is now .shadow.camera.right.\"),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn(\"THREE.Light: .shadowCameraTop is now .shadow.camera.top.\"),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn(\"THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.\"),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn(\"THREE.Light: .shadowCameraNear is now .shadow.camera.near.\"),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn(\"THREE.Light: .shadowCameraFar is now .shadow.camera.far.\"),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn(\"THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.\")}},shadowBias:{set:function(t){console.warn(\"THREE.Light: .shadowBias is now .shadow.bias.\"),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn(\"THREE.Light: .shadowDarkness has been removed.\")}},shadowMapWidth:{set:function(t){console.warn(\"THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.\"),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn(\"THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.\"),this.shadow.mapSize.height=t}}}),Object.defineProperties(en.prototype,{length:{get:function(){return console.warn(\"THREE.BufferAttribute: .length has been deprecated. Use .count instead.\"),this.array.length}},dynamic:{get:function(){return console.warn(\"THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.\"),this.usage===nt},set:function(){console.warn(\"THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.\"),this.setUsage(nt)}}}),en.prototype.setDynamic=function(t){return console.warn(\"THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.\"),this.setUsage(!0===t?nt:et),this},en.prototype.copyIndicesArray=function(){console.error(\"THREE.BufferAttribute: .copyIndicesArray() has been removed.\")},en.prototype.setArray=function(){console.error(\"THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers\")},wn.prototype.addIndex=function(t){console.warn(\"THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().\"),this.setIndex(t)},wn.prototype.addAttribute=function(t,e){return console.warn(\"THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().\"),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?\"index\"===t?(console.warn(\"THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.\"),this.setIndex(e),this):this.setAttribute(t,e):(console.warn(\"THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).\"),this.setAttribute(t,new en(arguments[1],arguments[2])))},wn.prototype.addDrawCall=function(t,e,n){void 0!==n&&console.warn(\"THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.\"),console.warn(\"THREE.BufferGeometry: .addDrawCall() is now .addGroup().\"),this.addGroup(t,e)},wn.prototype.clearDrawCalls=function(){console.warn(\"THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().\"),this.clearGroups()},wn.prototype.computeOffsets=function(){console.warn(\"THREE.BufferGeometry: .computeOffsets() has been removed.\")},wn.prototype.removeAttribute=function(t){return console.warn(\"THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().\"),this.deleteAttribute(t)},wn.prototype.applyMatrix=function(t){return console.warn(\"THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().\"),this.applyMatrix4(t)},Object.defineProperties(wn.prototype,{drawcalls:{get:function(){return console.error(\"THREE.BufferGeometry: .drawcalls has been renamed to .groups.\"),this.groups}},offsets:{get:function(){return console.warn(\"THREE.BufferGeometry: .offsets has been renamed to .groups.\"),this.groups}}}),Ks.prototype.setDynamic=function(t){return console.warn(\"THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.\"),this.setUsage(!0===t?nt:et),this},Ks.prototype.setArray=function(){console.error(\"THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers\")},hl.prototype.getArrays=function(){console.error(\"THREE.ExtrudeGeometry: .getArrays() has been removed.\")},hl.prototype.addShapeList=function(){console.error(\"THREE.ExtrudeGeometry: .addShapeList() has been removed.\")},hl.prototype.addShape=function(){console.error(\"THREE.ExtrudeGeometry: .addShape() has been removed.\")},Qs.prototype.dispose=function(){console.error(\"THREE.Scene: .dispose() has been removed.\")},bh.prototype.onUpdate=function(){return console.warn(\"THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.\"),this},Object.defineProperties(We.prototype,{wrapAround:{get:function(){console.warn(\"THREE.Material: .wrapAround has been removed.\")},set:function(){console.warn(\"THREE.Material: .wrapAround has been removed.\")}},overdraw:{get:function(){console.warn(\"THREE.Material: .overdraw has been removed.\")},set:function(){console.warn(\"THREE.Material: .overdraw has been removed.\")}},wrapRGB:{get:function(){return console.warn(\"THREE.Material: .wrapRGB has been removed.\"),new Qe}},shading:{get:function(){console.error(\"THREE.\"+this.type+\": .shading has been removed. Use the boolean .flatShading instead.\")},set:function(t){console.warn(\"THREE.\"+this.type+\": .shading has been removed. Use the boolean .flatShading instead.\"),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn(\"THREE.\"+this.type+\": .stencilMask has been removed. Use .stencilFuncMask instead.\"),this.stencilFuncMask},set:function(t){console.warn(\"THREE.\"+this.type+\": .stencilMask has been removed. Use .stencilFuncMask instead.\"),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn(\"THREE.\"+this.type+\": .vertexTangents has been removed.\")},set:function(){console.warn(\"THREE.\"+this.type+\": .vertexTangents has been removed.\")}}}),Object.defineProperties(Xn.prototype,{derivatives:{get:function(){return console.warn(\"THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"),this.extensions.derivatives},set:function(t){console.warn(\"THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"),this.extensions.derivatives=t}}}),Xs.prototype.clearTarget=function(t,e,n,i){console.warn(\"THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.\"),this.setRenderTarget(t),this.clear(e,n,i)},Xs.prototype.animate=function(t){console.warn(\"THREE.WebGLRenderer: .animate() is now .setAnimationLoop().\"),this.setAnimationLoop(t)},Xs.prototype.getCurrentRenderTarget=function(){return console.warn(\"THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().\"),this.getRenderTarget()},Xs.prototype.getMaxAnisotropy=function(){return console.warn(\"THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().\"),this.capabilities.getMaxAnisotropy()},Xs.prototype.getPrecision=function(){return console.warn(\"THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.\"),this.capabilities.precision},Xs.prototype.resetGLState=function(){return console.warn(\"THREE.WebGLRenderer: .resetGLState() is now .state.reset().\"),this.state.reset()},Xs.prototype.supportsFloatTextures=function(){return console.warn(\"THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).\"),this.extensions.get(\"OES_texture_float\")},Xs.prototype.supportsHalfFloatTextures=function(){return console.warn(\"THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).\"),this.extensions.get(\"OES_texture_half_float\")},Xs.prototype.supportsStandardDerivatives=function(){return console.warn(\"THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).\"),this.extensions.get(\"OES_standard_derivatives\")},Xs.prototype.supportsCompressedTextureS3TC=function(){return console.warn(\"THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).\"),this.extensions.get(\"WEBGL_compressed_texture_s3tc\")},Xs.prototype.supportsCompressedTexturePVRTC=function(){return console.warn(\"THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).\"),this.extensions.get(\"WEBGL_compressed_texture_pvrtc\")},Xs.prototype.supportsBlendMinMax=function(){return console.warn(\"THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).\"),this.extensions.get(\"EXT_blend_minmax\")},Xs.prototype.supportsVertexTextures=function(){return console.warn(\"THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.\"),this.capabilities.vertexTextures},Xs.prototype.supportsInstancedArrays=function(){return console.warn(\"THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).\"),this.extensions.get(\"ANGLE_instanced_arrays\")},Xs.prototype.enableScissorTest=function(t){console.warn(\"THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().\"),this.setScissorTest(t)},Xs.prototype.initMaterial=function(){console.warn(\"THREE.WebGLRenderer: .initMaterial() has been removed.\")},Xs.prototype.addPrePlugin=function(){console.warn(\"THREE.WebGLRenderer: .addPrePlugin() has been removed.\")},Xs.prototype.addPostPlugin=function(){console.warn(\"THREE.WebGLRenderer: .addPostPlugin() has been removed.\")},Xs.prototype.updateShadowMap=function(){console.warn(\"THREE.WebGLRenderer: .updateShadowMap() has been removed.\")},Xs.prototype.setFaceCulling=function(){console.warn(\"THREE.WebGLRenderer: .setFaceCulling() has been removed.\")},Xs.prototype.allocTextureUnit=function(){console.warn(\"THREE.WebGLRenderer: .allocTextureUnit() has been removed.\")},Xs.prototype.setTexture=function(){console.warn(\"THREE.WebGLRenderer: .setTexture() has been removed.\")},Xs.prototype.setTexture2D=function(){console.warn(\"THREE.WebGLRenderer: .setTexture2D() has been removed.\")},Xs.prototype.setTextureCube=function(){console.warn(\"THREE.WebGLRenderer: .setTextureCube() has been removed.\")},Xs.prototype.getActiveMipMapLevel=function(){return console.warn(\"THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().\"),this.getActiveMipmapLevel()},Object.defineProperties(Xs.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn(\"THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.\"),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn(\"THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.\"),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.\")}},context:{get:function(){return console.warn(\"THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.\"),this.getContext()}},vr:{get:function(){return console.warn(\"THREE.WebGLRenderer: .vr has been renamed to .xr\"),this.xr}},gammaInput:{get:function(){return console.warn(\"THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.\"),!1},set:function(){console.warn(\"THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.\")}},gammaOutput:{get:function(){return console.warn(\"THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.\"),!1},set:function(t){console.warn(\"THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.\"),this.outputEncoding=!0===t?Y:X}},toneMappingWhitePoint:{get:function(){return console.warn(\"THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.\"),1},set:function(){console.warn(\"THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.\")}}}),Object.defineProperties(Fs.prototype,{cullFace:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.\")}},renderReverseSided:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.\")}},renderSingleSided:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.\")}}}),Object.defineProperties(Tt.prototype,{wrapS:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"),this.texture.wrapS},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"),this.texture.wrapT},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"),this.texture.magFilter},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"),this.texture.minFilter},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"),this.texture.anisotropy},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"),this.texture.anisotropy=t}},offset:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"),this.texture.offset},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"),this.texture.offset=t}},repeat:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"),this.texture.repeat},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"),this.texture.repeat=t}},format:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .format is now .texture.format.\"),this.texture.format},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .format is now .texture.format.\"),this.texture.format=t}},type:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\"),this.texture.type},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\"),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"),this.texture.generateMipmaps},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"),this.texture.generateMipmaps=t}}}),th.prototype.load=function(t){console.warn(\"THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.\");const e=this;return(new Vc).load(t,(function(t){e.setBuffer(t)})),this},sh.prototype.getData=function(){return console.warn(\"THREE.AudioAnalyser: .getData() is now .getFrequencyData().\"),this.getFrequencyData()},Qn.prototype.updateCubeMap=function(t,e){return console.warn(\"THREE.CubeCamera: .updateCubeMap() is now .update().\"),this.update(t,e)},Qn.prototype.clear=function(t,e,n,i){return console.warn(\"THREE.CubeCamera: .clear() is now .renderTarget.clear().\"),this.renderTarget.clear(t,e,n,i)},_t.crossOrigin=void 0,_t.loadTexture=function(t,e,n,i){console.warn(\"THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.\");const r=new oc;r.setCrossOrigin(this.crossOrigin);const s=r.load(t,n,void 0,i);return e&&(s.mapping=e),s},_t.loadTextureCube=function(t,e,n,i){console.warn(\"THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.\");const r=new sc;r.setCrossOrigin(this.crossOrigin);const s=r.load(t,n,void 0,i);return e&&(s.mapping=e),s},_t.loadCompressedTexture=function(){console.error(\"THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.\")},_t.loadCompressedTextureCube=function(){console.error(\"THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.\")};const nu={createMultiMaterialObject:function(){console.error(\"THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js\")},detach:function(){console.error(\"THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js\")},attach:function(){console.error(\"THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js\")}};\"undefined\"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent(\"register\",{detail:{revision:e}})),\"undefined\"!=typeof window&&(window.__THREE__?console.warn(\"WARNING: Multiple instances of Three.js being imported.\"):window.__THREE__=e),t.ACESFilmicToneMapping=4,t.AddEquation=n,t.AddOperation=2,t.AdditiveAnimationBlendMode=q,t.AdditiveBlending=2,t.AlphaFormat=1021,t.AlwaysDepth=1,t.AlwaysStencilFunc=519,t.AmbientLight=Ec,t.AmbientLightProbe=jc,t.AnimationClip=Zl,t.AnimationLoader=class extends ec{constructor(t){super(t)}load(t,e,n,i){const r=this,s=new ic(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(e){i?i(e):console.error(e),r.manager.itemError(t)}}),n,i)}parse(t){const e=[];for(let n=0;n<t.length;n++){const i=Zl.parse(t[n]);e.push(i)}return e}},t.AnimationMixer=_h,t.AnimationObjectGroup=yh,t.AnimationUtils=Fl,t.ArcCurve=yo,t.ArrayCamera=Gs,t.ArrowHelper=class extends Pe{constructor(t=new Rt(0,0,1),e=new Rt(0,0,0),n=1,i=16776960,r=.2*n,s=.2*r){super(),this.type=\"ArrowHelper\",void 0===Qh&&(Qh=new wn,Qh.setAttribute(\"position\",new un([0,0,0,0,1,0],3)),Kh=new ao(0,.5,1,5,1),Kh.translate(0,-.5,0)),this.position.copy(e),this.line=new Va(Qh,new Fa({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Gn(Kh,new Ke({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,r,s)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{Zh.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(Zh,e)}}setLength(t,e=.2*t,n=.2*e){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}},t.Audio=th,t.AudioAnalyser=sh,t.AudioContext=kc,t.AudioListener=class extends Pe{constructor(){super(),this.type=\"AudioListener\",this.context=kc.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Yc}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Zc,Qc,Kc),$c.set(0,0,-1).applyQuaternion(Qc),e.positionX){const t=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Zc.x,t),e.positionY.linearRampToValueAtTime(Zc.y,t),e.positionZ.linearRampToValueAtTime(Zc.z,t),e.forwardX.linearRampToValueAtTime($c.x,t),e.forwardY.linearRampToValueAtTime($c.y,t),e.forwardZ.linearRampToValueAtTime($c.z,t),e.upX.linearRampToValueAtTime(n.x,t),e.upY.linearRampToValueAtTime(n.y,t),e.upZ.linearRampToValueAtTime(n.z,t)}else e.setPosition(Zc.x,Zc.y,Zc.z),e.setOrientation($c.x,$c.y,$c.z,n.x,n.y,n.z)}},t.AudioLoader=Vc,t.AxesHelper=$h,t.AxisHelper=function(t){return console.warn(\"THREE.AxisHelper has been renamed to THREE.AxesHelper.\"),new $h(t)},t.BackSide=1,t.BasicDepthPacking=3200,t.BasicShadowMap=0,t.BinaryTextureLoader=function(t){return console.warn(\"THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.\"),new ac(t)},t.Bone=Ea,t.BooleanKeyframeTrack=Vl,t.BoundingBoxHelper=function(t,e){return console.warn(\"THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.\"),new Jh(t,e)},t.Box2=Ah,t.Box3=It,t.Box3Helper=class extends qa{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new wn;i.setIndex(new en(n,1)),i.setAttribute(\"position\",new un([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(i,new Fa({color:e,toneMapped:!1})),this.box=t,this.type=\"Box3Helper\",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}},t.BoxBufferGeometry=Vn,t.BoxGeometry=Vn,t.BoxHelper=Jh,t.BufferAttribute=en,t.BufferGeometry=wn,t.BufferGeometryLoader=Dc,t.ByteType=1010,t.Cache=Kl,t.Camera=Yn,t.CameraHelper=class extends qa{constructor(t){const e=new wn,n=new Fa({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],s={},a=new Qe(16755200),o=new Qe(16711680),l=new Qe(43775),c=new Qe(16777215),h=new Qe(3355443);function u(t,e,n){d(t,n),d(e,n)}function d(t,e){i.push(0,0,0),r.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(i.length/3-1)}u(\"n1\",\"n2\",a),u(\"n2\",\"n4\",a),u(\"n4\",\"n3\",a),u(\"n3\",\"n1\",a),u(\"f1\",\"f2\",a),u(\"f2\",\"f4\",a),u(\"f4\",\"f3\",a),u(\"f3\",\"f1\",a),u(\"n1\",\"f1\",a),u(\"n2\",\"f2\",a),u(\"n3\",\"f3\",a),u(\"n4\",\"f4\",a),u(\"p\",\"n1\",o),u(\"p\",\"n2\",o),u(\"p\",\"n3\",o),u(\"p\",\"n4\",o),u(\"u1\",\"u2\",l),u(\"u2\",\"u3\",l),u(\"u3\",\"u1\",l),u(\"c\",\"t\",c),u(\"p\",\"c\",h),u(\"cn1\",\"cn2\",h),u(\"cn3\",\"cn4\",h),u(\"cf1\",\"cf2\",h),u(\"cf3\",\"cf4\",h),e.setAttribute(\"position\",new un(i,3)),e.setAttribute(\"color\",new un(r,3)),super(e,n),this.type=\"CameraHelper\",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}update(){const t=this.geometry,e=this.pointMap;qh.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Xh(\"c\",e,t,qh,0,0,-1),Xh(\"t\",e,t,qh,0,0,1),Xh(\"n1\",e,t,qh,-1,-1,-1),Xh(\"n2\",e,t,qh,1,-1,-1),Xh(\"n3\",e,t,qh,-1,1,-1),Xh(\"n4\",e,t,qh,1,1,-1),Xh(\"f1\",e,t,qh,-1,-1,1),Xh(\"f2\",e,t,qh,1,-1,1),Xh(\"f3\",e,t,qh,-1,1,1),Xh(\"f4\",e,t,qh,1,1,1),Xh(\"u1\",e,t,qh,.7,1.1,-1),Xh(\"u2\",e,t,qh,-.7,1.1,-1),Xh(\"u3\",e,t,qh,0,2,-1),Xh(\"cf1\",e,t,qh,-1,0,1),Xh(\"cf2\",e,t,qh,1,0,1),Xh(\"cf3\",e,t,qh,0,-1,1),Xh(\"cf4\",e,t,qh,0,1,1),Xh(\"cn1\",e,t,qh,-1,0,-1),Xh(\"cn2\",e,t,qh,1,0,-1),Xh(\"cn3\",e,t,qh,0,-1,-1),Xh(\"cn4\",e,t,qh,0,1,-1),t.getAttribute(\"position\").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},t.CanvasRenderer=function(){console.error(\"THREE.CanvasRenderer has been removed\")},t.CanvasTexture=io,t.CatmullRomCurve3=So,t.CineonToneMapping=3,t.CircleBufferGeometry=so,t.CircleGeometry=so,t.ClampToEdgeWrapping=u,t.Clock=Yc,t.Color=Qe,t.ColorKeyframeTrack=Wl,t.CompressedTexture=no,t.CompressedTextureLoader=class extends ec{constructor(t){super(t)}load(t,e,n,i){const r=this,s=[],a=new no,o=new ic(this.manager);o.setPath(this.path),o.setResponseType(\"arraybuffer\"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials);let l=0;function c(c){o.load(t[c],(function(t){const n=r.parse(t,!0);s[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(a.minFilter=g),a.image=s,a.format=n.format,a.needsUpdate=!0,e&&e(a))}),n,i)}if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)c(e);else o.load(t,(function(t){const n=r.parse(t,!0);if(n.isCubemap){const t=n.mipmaps.length/n.mipmapCount;for(let e=0;e<t;e++){s[e]={mipmaps:[]};for(let t=0;t<n.mipmapCount;t++)s[e].mipmaps.push(n.mipmaps[e*n.mipmapCount+t]),s[e].format=n.format,s[e].width=n.width,s[e].height=n.height}a.image=s}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=g),a.format=n.format,a.needsUpdate=!0,e&&e(a)}),n,i);return a}},t.ConeBufferGeometry=oo,t.ConeGeometry=oo,t.CubeCamera=Qn,t.CubeReflectionMapping=r,t.CubeRefractionMapping=s,t.CubeTexture=Kn,t.CubeTextureLoader=sc,t.CubeUVReflectionMapping=l,t.CubeUVRefractionMapping=c,t.CubicBezierCurve=Lo,t.CubicBezierCurve3=Ro,t.CubicInterpolant=Ul,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.CullFaceNone=0,t.Curve=go,t.CurvePath=lc,t.CustomBlending=5,t.CustomToneMapping=5,t.CylinderBufferGeometry=ao,t.CylinderGeometry=ao,t.Cylindrical=class{constructor(t=1,e=0,n=0){return this.radius=t,this.theta=e,this.y=n,this}set(t,e,n){return this.radius=t,this.theta=e,this.y=n,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}clone(){return(new this.constructor).copy(this)}},t.DataTexture=Aa,t.DataTexture2DArray=$i,t.DataTexture3D=tr,t.DataTextureLoader=ac,t.DataUtils=class{static toHalfFloat(t){tu[0]=t;const e=eu[0];let n=e>>16&32768,i=e>>12&2047;const r=e>>23&255;return r<103?n:r>142?(n|=31744,n|=(255==r?0:1)&&8388607&e,n):r<113?(i|=2048,n|=(i>>114-r)+(i>>113-r&1),n):(n|=r-112<<10|i>>1,n+=1&i,n)}},t.DecrementStencilOp=7683,t.DecrementWrapStencilOp=34056,t.DefaultLoadingManager=tc,t.DepthFormat=A,t.DepthStencilFormat=L,t.DepthTexture=ro,t.DirectionalLight=Tc,t.DirectionalLightHelper=class extends Pe{constructor(t,e,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);let i=new wn;i.setAttribute(\"position\",new un([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const r=new Fa({fog:!1,toneMapped:!1});this.lightPlane=new Va(i,r),this.add(this.lightPlane),i=new wn,i.setAttribute(\"position\",new un([0,0,0,0,0,1],3)),this.targetLine=new Va(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){kh.setFromMatrixPosition(this.light.matrixWorld),Vh.setFromMatrixPosition(this.light.target.matrixWorld),Wh.subVectors(Vh,kh),this.lightPlane.lookAt(Vh),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Vh),this.targetLine.scale.z=Wh.length()}},t.DiscreteInterpolant=Gl,t.DodecahedronBufferGeometry=co,t.DodecahedronGeometry=co,t.DoubleSide=2,t.DstAlphaFactor=206,t.DstColorFactor=208,t.DynamicBufferAttribute=function(t,e){return console.warn(\"THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.\"),new en(t,e).setUsage(nt)},t.DynamicCopyUsage=35050,t.DynamicDrawUsage=nt,t.DynamicReadUsage=35049,t.EdgesGeometry=fo,t.EdgesHelper=function(t,e){return console.warn(\"THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.\"),new qa(new fo(t.geometry),new Fa({color:void 0!==e?e:16777215}))},t.EllipseCurve=vo,t.EqualDepth=4,t.EqualStencilFunc=514,t.EquirectangularReflectionMapping=a,t.EquirectangularRefractionMapping=o,t.Euler=ge,t.EventDispatcher=rt,t.ExtrudeBufferGeometry=hl,t.ExtrudeGeometry=hl,t.FaceColors=1,t.FileLoader=ic,t.FlatShading=1,t.Float16BufferAttribute=hn,t.Float32Attribute=function(t,e){return console.warn(\"THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.\"),new un(t,e)},t.Float32BufferAttribute=un,t.Float64Attribute=function(t,e){return console.warn(\"THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.\"),new dn(t,e)},t.Float64BufferAttribute=dn,t.FloatType=M,t.Fog=Zs,t.FogExp2=Js,t.Font=Uc,t.FontLoader=class extends ec{constructor(t){super(t)}load(t,e,n,i){const r=this,s=new ic(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,(function(t){let n;try{n=JSON.parse(t)}catch(e){console.warn(\"THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.\"),n=JSON.parse(t.substring(65,t.length-2))}const i=r.parse(n);e&&e(i)}),n,i)}parse(t){return new Uc(t)}},t.FrontSide=0,t.Frustum=ai,t.GLBufferAttribute=wh,t.GLSL1=\"100\",t.GLSL3=it,t.GammaEncoding=J,t.GreaterDepth=6,t.GreaterEqualDepth=5,t.GreaterEqualStencilFunc=518,t.GreaterStencilFunc=516,t.GridHelper=Gh,t.Group=ks,t.HalfFloatType=w,t.HemisphereLight=dc,t.HemisphereLightHelper=class extends Pe{constructor(t,e,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new ml(e);i.rotateY(.5*Math.PI),this.material=new Ke({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const r=i.getAttribute(\"position\"),s=new Float32Array(3*r.count);i.setAttribute(\"color\",new en(s,3)),this.add(new Gn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const e=t.geometry.getAttribute(\"color\");Uh.copy(this.light.color),Hh.copy(this.light.groundColor);for(let t=0,n=e.count;t<n;t++){const i=t<n/2?Uh:Hh;e.setXYZ(t,i.r,i.g,i.b)}e.needsUpdate=!0}t.lookAt(Oh.setFromMatrixPosition(this.light.matrixWorld).negate())}},t.HemisphereLightProbe=Wc,t.IcosahedronBufferGeometry=dl,t.IcosahedronGeometry=dl,t.ImageBitmapLoader=Fc,t.ImageLoader=rc,t.ImageUtils=_t,t.ImmediateRenderObject=Ph,t.IncrementStencilOp=7682,t.IncrementWrapStencilOp=34055,t.InstancedBufferAttribute=Pa,t.InstancedBufferGeometry=Ic,t.InstancedInterleavedBuffer=Mh,t.InstancedMesh=Ba,t.Int16Attribute=function(t,e){return console.warn(\"THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.\"),new an(t,e)},t.Int16BufferAttribute=an,t.Int32Attribute=function(t,e){return console.warn(\"THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.\"),new ln(t,e)},t.Int32BufferAttribute=ln,t.Int8Attribute=function(t,e){return console.warn(\"THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.\"),new nn(t,e)},t.Int8BufferAttribute=nn,t.IntType=1013,t.InterleavedBuffer=Ks,t.InterleavedBufferAttribute=ta,t.Interpolant=Ol,t.InterpolateDiscrete=U,t.InterpolateLinear=H,t.InterpolateSmooth=G,t.InvertStencilOp=5386,t.JSONLoader=function(){console.error(\"THREE.JSONLoader has been removed.\")},t.KeepStencilOp=tt,t.KeyframeTrack=kl,t.LOD=xa,t.LatheBufferGeometry=pl,t.LatheGeometry=pl,t.Layers=ve,t.LensFlare=function(){console.error(\"THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js\")},t.LessDepth=2,t.LessEqualDepth=3,t.LessEqualStencilFunc=515,t.LessStencilFunc=513,t.Light=uc,t.LightProbe=Rc,t.Line=Va,t.Line3=Ch,t.LineBasicMaterial=Fa,t.LineCurve=Co,t.LineCurve3=Po,t.LineDashedMaterial=zl,t.LineLoop=Xa,t.LinePieces=1,t.LineSegments=qa,t.LineStrip=0,t.LinearEncoding=X,t.LinearFilter=g,t.LinearInterpolant=Hl,t.LinearMipMapLinearFilter=1008,t.LinearMipMapNearestFilter=1007,t.LinearMipmapLinearFilter=y,t.LinearMipmapNearestFilter=v,t.LinearToneMapping=1,t.Loader=ec,t.LoaderUtils=Pc,t.LoadingManager=$l,t.LogLuvEncoding=3003,t.LoopOnce=2200,t.LoopPingPong=2202,t.LoopRepeat=2201,t.LuminanceAlphaFormat=1025,t.LuminanceFormat=1024,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},t.Material=We,t.MaterialLoader=Cc,t.Math=gt,t.MathUtils=gt,t.Matrix3=yt,t.Matrix4=ae,t.MaxEquation=104,t.Mesh=Gn,t.MeshBasicMaterial=Ke,t.MeshDepthMaterial=zs,t.MeshDistanceMaterial=Bs,t.MeshFaceMaterial=function(t){return console.warn(\"THREE.MeshFaceMaterial has been removed. Use an Array instead.\"),t},t.MeshLambertMaterial=Dl,t.MeshMatcapMaterial=Nl,t.MeshNormalMaterial=Il,t.MeshPhongMaterial=Cl,t.MeshPhysicalMaterial=Rl,t.MeshStandardMaterial=Ll,t.MeshToonMaterial=Pl,t.MinEquation=103,t.MirroredRepeatWrapping=d,t.MixOperation=1,t.MultiMaterial=function(t=[]){return console.warn(\"THREE.MultiMaterial has been removed. Use an Array instead.\"),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t},t.MultiplyBlending=4,t.MultiplyOperation=0,t.NearestFilter=p,t.NearestMipMapLinearFilter=1005,t.NearestMipMapNearestFilter=1004,t.NearestMipmapLinearFilter=f,t.NearestMipmapNearestFilter=m,t.NeverDepth=0,t.NeverStencilFunc=512,t.NoBlending=0,t.NoColors=0,t.NoToneMapping=0,t.NormalAnimationBlendMode=j,t.NormalBlending=1,t.NotEqualDepth=7,t.NotEqualStencilFunc=517,t.NumberKeyframeTrack=jl,t.Object3D=Pe,t.ObjectLoader=class extends ec{constructor(t){super(t)}load(t,e,n,i){const r=this,s=\"\"===this.path?Pc.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||s;const a=new ic(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,(function(n){let s=null;try{s=JSON.parse(n)}catch(e){return void 0!==i&&i(e),void console.error(\"THREE:ObjectLoader: Can't parse \"+t+\".\",e.message)}const a=s.metadata;void 0!==a&&void 0!==a.type&&\"geometry\"!==a.type.toLowerCase()?r.parse(s,e):console.error(\"THREE.ObjectLoader: Can't load \"+t)}),n,i)}async loadAsync(t,e){const n=\"\"===this.path?Pc.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||n;const i=new ic(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials);const r=await i.loadAsync(t,e),s=JSON.parse(r),a=s.metadata;if(void 0===a||void 0===a.type||\"geometry\"===a.type.toLowerCase())throw new Error(\"THREE.ObjectLoader: Can't load \"+t);return await this.parseAsync(s)}parse(t,e){const n=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,i),s=this.parseImages(t.images,(function(){void 0!==e&&e(l)})),a=this.parseTextures(t.textures,s),o=this.parseMaterials(t.materials,a),l=this.parseObject(t.object,r,o,a,n),c=this.parseSkeletons(t.skeletons,l);if(this.bindSkeletons(l,c),void 0!==e){let t=!1;for(const e in s)if(s[e]instanceof HTMLImageElement){t=!0;break}!1===t&&e(l)}return l}async parseAsync(t){const e=this.parseAnimations(t.animations),n=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,n),r=await this.parseImagesAsync(t.images),s=this.parseTextures(t.textures,r),a=this.parseMaterials(t.materials,s),o=this.parseObject(t.object,i,a,s,e),l=this.parseSkeletons(t.skeletons,o);return this.bindSkeletons(o,l),o}parseShapes(t){const e={};if(void 0!==t)for(let n=0,i=t.length;n<i;n++){const i=(new hc).fromJSON(t[n]);e[i.uuid]=i}return e}parseSkeletons(t,e){const n={},i={};if(e.traverse((function(t){t.isBone&&(i[t.uuid]=t)})),void 0!==t)for(let e=0,r=t.length;e<r;e++){const r=(new Ca).fromJSON(t[e],i);n[r.uuid]=r}return n}parseGeometries(t,e){const n={};if(void 0!==t){const i=new Dc;for(let r=0,s=t.length;r<s;r++){let s;const a=t[r];switch(a.type){case\"BufferGeometry\":case\"InstancedBufferGeometry\":s=i.parse(a);break;case\"Geometry\":console.error(\"THREE.ObjectLoader: The legacy Geometry type is no longer supported.\");break;default:a.type in El?s=El[a.type].fromJSON(a,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type \"${a.type}\"`)}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),!0===s.isBufferGeometry&&void 0!==a.userData&&(s.userData=a.userData),n[a.uuid]=s}}return n}parseMaterials(t,e){const n={},i={};if(void 0!==t){const r=new Cc;r.setTextures(e);for(let e=0,s=t.length;e<s;e++){const s=t[e];if(\"MultiMaterial\"===s.type){const t=[];for(let e=0;e<s.materials.length;e++){const i=s.materials[e];void 0===n[i.uuid]&&(n[i.uuid]=r.parse(i)),t.push(n[i.uuid])}i[s.uuid]=t}else void 0===n[s.uuid]&&(n[s.uuid]=r.parse(s)),i[s.uuid]=n[s.uuid]}}return i}parseAnimations(t){const e={};if(void 0!==t)for(let n=0;n<t.length;n++){const i=t[n],r=Zl.parse(i);e[r.uuid]=r}return e}parseImages(t,e){const n=this,i={};let r;function s(t){if(\"string\"==typeof t){const e=t;return function(t){return n.manager.itemStart(t),r.load(t,(function(){n.manager.itemEnd(t)}),void 0,(function(){n.manager.itemError(t),n.manager.itemEnd(t)}))}(/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(e)?e:n.resourcePath+e)}return t.data?{data:fn(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){const n=new $l(e);r=new rc(n),r.setCrossOrigin(this.crossOrigin);for(let e=0,n=t.length;e<n;e++){const n=t[e],r=n.url;if(Array.isArray(r)){i[n.uuid]=[];for(let t=0,e=r.length;t<e;t++){const e=s(r[t]);null!==e&&(e instanceof HTMLImageElement?i[n.uuid].push(e):i[n.uuid].push(new Aa(e.data,e.width,e.height)))}}else{const t=s(n.url);null!==t&&(i[n.uuid]=t)}}}return i}async parseImagesAsync(t){const e=this,n={};let i;async function r(t){if(\"string\"==typeof t){const n=t,r=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(n)?n:e.resourcePath+n;return await i.loadAsync(r)}return t.data?{data:fn(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){i=new rc(this.manager),i.setCrossOrigin(this.crossOrigin);for(let e=0,i=t.length;e<i;e++){const i=t[e],s=i.url;if(Array.isArray(s)){n[i.uuid]=[];for(let t=0,e=s.length;t<e;t++){const e=s[t],a=await r(e);null!==a&&(a instanceof HTMLImageElement?n[i.uuid].push(a):n[i.uuid].push(new Aa(a.data,a.width,a.height)))}}else{const t=await r(i.url);null!==t&&(n[i.uuid]=t)}}}return n}parseTextures(t,e){function n(t,e){return\"number\"==typeof t?t:(console.warn(\"THREE.ObjectLoader.parseTexture: Constant should be in numeric form.\",t),e[t])}const i={};if(void 0!==t)for(let r=0,s=t.length;r<s;r++){const s=t[r];let a;void 0===s.image&&console.warn('THREE.ObjectLoader: No \"image\" specified for',s.uuid),void 0===e[s.image]&&console.warn(\"THREE.ObjectLoader: Undefined image\",s.image);const o=e[s.image];Array.isArray(o)?(a=new Kn(o),6===o.length&&(a.needsUpdate=!0)):(a=o&&o.data?new Aa(o.data,o.width,o.height):new Mt(o),o&&(a.needsUpdate=!0)),a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=n(s.mapping,Nc)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=n(s.wrap[0],zc),a.wrapT=n(s.wrap[1],zc)),void 0!==s.format&&(a.format=s.format),void 0!==s.type&&(a.type=s.type),void 0!==s.encoding&&(a.encoding=s.encoding),void 0!==s.minFilter&&(a.minFilter=n(s.minFilter,Bc)),void 0!==s.magFilter&&(a.magFilter=n(s.magFilter,Bc)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(a.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(a.unpackAlignment=s.unpackAlignment),i[s.uuid]=a}return i}parseObject(t,e,n,i,r){let s,a,o;function l(t){return void 0===e[t]&&console.warn(\"THREE.ObjectLoader: Undefined geometry\",t),e[t]}function c(t){if(void 0!==t){if(Array.isArray(t)){const e=[];for(let i=0,r=t.length;i<r;i++){const r=t[i];void 0===n[r]&&console.warn(\"THREE.ObjectLoader: Undefined material\",r),e.push(n[r])}return e}return void 0===n[t]&&console.warn(\"THREE.ObjectLoader: Undefined material\",t),n[t]}}function h(t){return void 0===i[t]&&console.warn(\"THREE.ObjectLoader: Undefined texture\",t),i[t]}switch(t.type){case\"Scene\":s=new Qs,void 0!==t.background&&(Number.isInteger(t.background)?s.background=new Qe(t.background):s.background=h(t.background)),void 0!==t.environment&&(s.environment=h(t.environment)),void 0!==t.fog&&(\"Fog\"===t.fog.type?s.fog=new Zs(t.fog.color,t.fog.near,t.fog.far):\"FogExp2\"===t.fog.type&&(s.fog=new Js(t.fog.color,t.fog.density)));break;case\"PerspectiveCamera\":s=new Jn(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(s.focus=t.focus),void 0!==t.zoom&&(s.zoom=t.zoom),void 0!==t.filmGauge&&(s.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(s.filmOffset=t.filmOffset),void 0!==t.view&&(s.view=Object.assign({},t.view));break;case\"OrthographicCamera\":s=new xi(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(s.zoom=t.zoom),void 0!==t.view&&(s.view=Object.assign({},t.view));break;case\"AmbientLight\":s=new Ec(t.color,t.intensity);break;case\"DirectionalLight\":s=new Tc(t.color,t.intensity);break;case\"PointLight\":s=new wc(t.color,t.intensity,t.distance,t.decay);break;case\"RectAreaLight\":s=new Ac(t.color,t.intensity,t.width,t.height);break;case\"SpotLight\":s=new yc(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case\"HemisphereLight\":s=new dc(t.color,t.groundColor,t.intensity);break;case\"LightProbe\":s=(new Rc).fromJSON(t);break;case\"SkinnedMesh\":a=l(t.geometry),o=c(t.material),s=new Ta(a,o),void 0!==t.bindMode&&(s.bindMode=t.bindMode),void 0!==t.bindMatrix&&s.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(s.skeleton=t.skeleton);break;case\"Mesh\":a=l(t.geometry),o=c(t.material),s=new Gn(a,o);break;case\"InstancedMesh\":a=l(t.geometry),o=c(t.material);const e=t.count,n=t.instanceMatrix,i=t.instanceColor;s=new Ba(a,o,e),s.instanceMatrix=new Pa(new Float32Array(n.array),16),void 0!==i&&(s.instanceColor=new Pa(new Float32Array(i.array),i.itemSize));break;case\"LOD\":s=new xa;break;case\"Line\":s=new Va(l(t.geometry),c(t.material));break;case\"LineLoop\":s=new Xa(l(t.geometry),c(t.material));break;case\"LineSegments\":s=new qa(l(t.geometry),c(t.material));break;case\"PointCloud\":case\"Points\":s=new $a(l(t.geometry),c(t.material));break;case\"Sprite\":s=new fa(c(t.material));break;case\"Group\":s=new ks;break;case\"Bone\":s=new Ea;break;default:s=new Pe}if(s.uuid=t.uuid,void 0!==t.name&&(s.name=t.name),void 0!==t.matrix?(s.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(s.matrixAutoUpdate=t.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(void 0!==t.position&&s.position.fromArray(t.position),void 0!==t.rotation&&s.rotation.fromArray(t.rotation),void 0!==t.quaternion&&s.quaternion.fromArray(t.quaternion),void 0!==t.scale&&s.scale.fromArray(t.scale)),void 0!==t.castShadow&&(s.castShadow=t.castShadow),void 0!==t.receiveShadow&&(s.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(s.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(s.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(s.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&s.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(s.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(s.visible=t.visible),void 0!==t.frustumCulled&&(s.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(s.renderOrder=t.renderOrder),void 0!==t.userData&&(s.userData=t.userData),void 0!==t.layers&&(s.layers.mask=t.layers),void 0!==t.children){const a=t.children;for(let t=0;t<a.length;t++)s.add(this.parseObject(a[t],e,n,i,r))}if(void 0!==t.animations){const e=t.animations;for(let t=0;t<e.length;t++){const n=e[t];s.animations.push(r[n])}}if(\"LOD\"===t.type){void 0!==t.autoUpdate&&(s.autoUpdate=t.autoUpdate);const e=t.levels;for(let t=0;t<e.length;t++){const n=e[t],i=s.getObjectByProperty(\"uuid\",n.object);void 0!==i&&s.addLevel(i,n.distance)}}return s}bindSkeletons(t,e){0!==Object.keys(e).length&&t.traverse((function(t){if(!0===t.isSkinnedMesh&&void 0!==t.skeleton){const n=e[t.skeleton];void 0===n?console.warn(\"THREE.ObjectLoader: No skeleton found with UUID:\",t.skeleton):t.bind(n,t.bindMatrix)}}))}setTexturePath(t){return console.warn(\"THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().\"),this.setResourcePath(t)}},t.ObjectSpaceNormalMap=1,t.OctahedronBufferGeometry=ml,t.OctahedronGeometry=ml,t.OneFactor=201,t.OneMinusDstAlphaFactor=207,t.OneMinusDstColorFactor=209,t.OneMinusSrcAlphaFactor=205,t.OneMinusSrcColorFactor=203,t.OrthographicCamera=xi,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.PMREMGenerator=zi,t.ParametricBufferGeometry=fl,t.ParametricGeometry=fl,t.Particle=function(t){return console.warn(\"THREE.Particle has been renamed to THREE.Sprite.\"),new fa(t)},t.ParticleBasicMaterial=function(t){return console.warn(\"THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.\"),new Ya(t)},t.ParticleSystem=function(t,e){return console.warn(\"THREE.ParticleSystem has been renamed to THREE.Points.\"),new $a(t,e)},t.ParticleSystemMaterial=function(t){return console.warn(\"THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.\"),new Ya(t)},t.Path=cc,t.PerspectiveCamera=Jn,t.Plane=ii,t.PlaneBufferGeometry=ci,t.PlaneGeometry=ci,t.PlaneHelper=class extends Va{constructor(t,e=1,n=16776960){const i=n,r=new wn;r.setAttribute(\"position\",new un([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),super(r,new Fa({color:i,toneMapped:!1})),this.type=\"PlaneHelper\",this.plane=t,this.size=e;const s=new wn;s.setAttribute(\"position\",new un([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),s.computeBoundingSphere(),this.add(new Gn(s,new Ke({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){let e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?1:0,this.lookAt(this.plane.normal),super.updateMatrixWorld(t)}},t.PointCloud=function(t,e){return console.warn(\"THREE.PointCloud has been renamed to THREE.Points.\"),new $a(t,e)},t.PointCloudMaterial=function(t){return console.warn(\"THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.\"),new Ya(t)},t.PointLight=wc,t.PointLightHelper=class extends Gn{constructor(t,e,n){super(new yl(e,4,2),new Ke({wireframe:!0,fog:!1,toneMapped:!1})),this.light=t,this.light.updateMatrixWorld(),this.color=n,this.type=\"PointLightHelper\",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},t.Points=$a,t.PointsMaterial=Ya,t.PolarGridHelper=class extends qa{constructor(t=10,e=16,n=8,i=64,r=4473924,s=8947848){r=new Qe(r),s=new Qe(s);const a=[],o=[];for(let n=0;n<=e;n++){const i=n/e*(2*Math.PI),l=Math.sin(i)*t,c=Math.cos(i)*t;a.push(0,0,0),a.push(l,0,c);const h=1&n?r:s;o.push(h.r,h.g,h.b),o.push(h.r,h.g,h.b)}for(let e=0;e<=n;e++){const l=1&e?r:s,c=t-t/n*e;for(let t=0;t<i;t++){let e=t/i*(2*Math.PI),n=Math.sin(e)*c,r=Math.cos(e)*c;a.push(n,0,r),o.push(l.r,l.g,l.b),e=(t+1)/i*(2*Math.PI),n=Math.sin(e)*c,r=Math.cos(e)*c,a.push(n,0,r),o.push(l.r,l.g,l.b)}}const l=new wn;l.setAttribute(\"position\",new un(a,3)),l.setAttribute(\"color\",new un(o,3));super(l,new Fa({vertexColors:!0,toneMapped:!1})),this.type=\"PolarGridHelper\"}},t.PolyhedronBufferGeometry=lo,t.PolyhedronGeometry=lo,t.PositionalAudio=class extends th{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel=\"HRTF\",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(eh,nh,ih),rh.set(0,0,1).applyQuaternion(nh);const e=this.panner;if(e.positionX){const t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(eh.x,t),e.positionY.linearRampToValueAtTime(eh.y,t),e.positionZ.linearRampToValueAtTime(eh.z,t),e.orientationX.linearRampToValueAtTime(rh.x,t),e.orientationY.linearRampToValueAtTime(rh.y,t),e.orientationZ.linearRampToValueAtTime(rh.z,t)}else e.setPosition(eh.x,eh.y,eh.z),e.setOrientation(rh.x,rh.y,rh.z)}},t.PropertyBinding=vh,t.PropertyMixer=ah,t.QuadraticBezierCurve=Io,t.QuadraticBezierCurve3=Do,t.Quaternion=Lt,t.QuaternionKeyframeTrack=Xl,t.QuaternionLinearInterpolant=ql,t.REVISION=e,t.RGBADepthPacking=3201,t.RGBAFormat=E,t.RGBAIntegerFormat=1033,t.RGBA_ASTC_10x10_Format=37819,t.RGBA_ASTC_10x5_Format=37816,t.RGBA_ASTC_10x6_Format=37817,t.RGBA_ASTC_10x8_Format=37818,t.RGBA_ASTC_12x10_Format=37820,t.RGBA_ASTC_12x12_Format=37821,t.RGBA_ASTC_4x4_Format=37808,t.RGBA_ASTC_5x4_Format=37809,t.RGBA_ASTC_5x5_Format=37810,t.RGBA_ASTC_6x5_Format=37811,t.RGBA_ASTC_6x6_Format=37812,t.RGBA_ASTC_8x5_Format=37813,t.RGBA_ASTC_8x6_Format=37814,t.RGBA_ASTC_8x8_Format=37815,t.RGBA_BPTC_Format=36492,t.RGBA_ETC2_EAC_Format=O,t.RGBA_PVRTC_2BPPV1_Format=B,t.RGBA_PVRTC_4BPPV1_Format=z,t.RGBA_S3TC_DXT1_Format=C,t.RGBA_S3TC_DXT3_Format=P,t.RGBA_S3TC_DXT5_Format=I,t.RGBDEncoding=$,t.RGBEEncoding=Z,t.RGBEFormat=1023,t.RGBFormat=T,t.RGBIntegerFormat=1032,t.RGBM16Encoding=K,t.RGBM7Encoding=Q,t.RGB_ETC1_Format=36196,t.RGB_ETC2_Format=F,t.RGB_PVRTC_2BPPV1_Format=N,t.RGB_PVRTC_4BPPV1_Format=D,t.RGB_S3TC_DXT1_Format=R,t.RGFormat=1030,t.RGIntegerFormat=1031,t.RawShaderMaterial=_i,t.Ray=se,t.Raycaster=class{constructor(t,e,n=0,i=1/0){this.ray=new se(t,e),this.near=n,this.far=i,this.camera=null,this.layers=new ve,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error(\"THREE.Raycaster: Unsupported camera type: \"+e.type)}intersectObject(t,e=!1,n=[]){return Th(t,this,n,e),n.sort(Sh),n}intersectObjects(t,e=!1,n=[]){for(let i=0,r=t.length;i<r;i++)Th(t[i],this,n,e);return n.sort(Sh),n}},t.RectAreaLight=Ac,t.RedFormat=1028,t.RedIntegerFormat=1029,t.ReinhardToneMapping=2,t.RepeatWrapping=h,t.ReplaceStencilOp=7681,t.ReverseSubtractEquation=102,t.RingBufferGeometry=gl,t.RingGeometry=gl,t.SRGB8_ALPHA8_ASTC_10x10_Format=37851,t.SRGB8_ALPHA8_ASTC_10x5_Format=37848,t.SRGB8_ALPHA8_ASTC_10x6_Format=37849,t.SRGB8_ALPHA8_ASTC_10x8_Format=37850,t.SRGB8_ALPHA8_ASTC_12x10_Format=37852,t.SRGB8_ALPHA8_ASTC_12x12_Format=37853,t.SRGB8_ALPHA8_ASTC_4x4_Format=37840,t.SRGB8_ALPHA8_ASTC_5x4_Format=37841,t.SRGB8_ALPHA8_ASTC_5x5_Format=37842,t.SRGB8_ALPHA8_ASTC_6x5_Format=37843,t.SRGB8_ALPHA8_ASTC_6x6_Format=37844,t.SRGB8_ALPHA8_ASTC_8x5_Format=37845,t.SRGB8_ALPHA8_ASTC_8x6_Format=37846,t.SRGB8_ALPHA8_ASTC_8x8_Format=37847,t.Scene=Qs,t.SceneUtils=nu,t.ShaderChunk=hi,t.ShaderLib=di,t.ShaderMaterial=Xn,t.ShadowMaterial=Al,t.Shape=hc,t.ShapeBufferGeometry=vl,t.ShapeGeometry=vl,t.ShapePath=Oc,t.ShapeUtils=ol,t.ShortType=1011,t.Skeleton=Ca,t.SkeletonHelper=Bh,t.SkinnedMesh=Ta,t.SmoothShading=2,t.Sphere=Qt,t.SphereBufferGeometry=yl,t.SphereGeometry=yl,t.Spherical=class{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(ht(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},t.SphericalHarmonics3=Lc,t.SplineCurve=No,t.SpotLight=yc,t.SpotLightHelper=class extends Pe{constructor(t,e){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;const n=new wn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let t=0,e=1,n=32;t<n;t++,e++){const r=t/n*Math.PI*2,s=e/n*Math.PI*2;i.push(Math.cos(r),Math.sin(r),1,Math.cos(s),Math.sin(s),1)}n.setAttribute(\"position\",new un(i,3));const r=new Fa({fog:!1,toneMapped:!1});this.cone=new qa(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),Ih.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Ih),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},t.Sprite=fa,t.SpriteMaterial=ea,t.SrcAlphaFactor=204,t.SrcAlphaSaturateFactor=210,t.SrcColorFactor=202,t.StaticCopyUsage=35046,t.StaticDrawUsage=et,t.StaticReadUsage=35045,t.StereoCamera=class{constructor(){this.type=\"StereoCamera\",this.aspect=1,this.eyeSep=.064,this.cameraL=new Jn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Jn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const n=t.projectionMatrix.clone(),i=e.eyeSep/2,r=i*e.near/e.focus,s=e.near*Math.tan(ot*e.fov*.5)/e.zoom;let a,o;Xc.elements[12]=-i,qc.elements[12]=i,a=-s*e.aspect+r,o=s*e.aspect+r,n.elements[0]=2*e.near/(o-a),n.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(n),a=-s*e.aspect-r,o=s*e.aspect-r,n.elements[0]=2*e.near/(o-a),n.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Xc),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(qc)}},t.StreamCopyUsage=35042,t.StreamDrawUsage=35040,t.StreamReadUsage=35041,t.StringKeyframeTrack=Yl,t.SubtractEquation=101,t.SubtractiveBlending=3,t.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},t.TangentSpaceNormalMap=0,t.TetrahedronBufferGeometry=xl,t.TetrahedronGeometry=xl,t.TextBufferGeometry=_l,t.TextGeometry=_l,t.Texture=Mt,t.TextureLoader=oc,t.TorusBufferGeometry=bl,t.TorusGeometry=bl,t.TorusKnotBufferGeometry=Ml,t.TorusKnotGeometry=Ml,t.Triangle=ke,t.TriangleFanDrawMode=2,t.TriangleStripDrawMode=1,t.TrianglesDrawMode=0,t.TubeBufferGeometry=wl,t.TubeGeometry=wl,t.UVMapping=i,t.Uint16Attribute=function(t,e){return console.warn(\"THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.\"),new on(t,e)},t.Uint16BufferAttribute=on,t.Uint32Attribute=function(t,e){return console.warn(\"THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.\"),new cn(t,e)},t.Uint32BufferAttribute=cn,t.Uint8Attribute=function(t,e){return console.warn(\"THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.\"),new rn(t,e)},t.Uint8BufferAttribute=rn,t.Uint8ClampedAttribute=function(t,e){return console.warn(\"THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.\"),new sn(t,e)},t.Uint8ClampedBufferAttribute=sn,t.Uniform=bh,t.UniformsLib=ui,t.UniformsUtils=qn,t.UnsignedByteType=x,t.UnsignedInt248Type=S,t.UnsignedIntType=b,t.UnsignedShort4444Type=1017,t.UnsignedShort5551Type=1018,t.UnsignedShort565Type=1019,t.UnsignedShortType=_,t.VSMShadowMap=3,t.Vector2=vt,t.Vector3=Rt,t.Vector4=St,t.VectorKeyframeTrack=Jl,t.Vertex=function(t,e,n){return console.warn(\"THREE.Vertex has been removed. Use THREE.Vector3 instead.\"),new Rt(t,e,n)},t.VertexColors=2,t.VideoTexture=eo,t.WebGL1Renderer=Ys,t.WebGLCubeRenderTarget=$n,t.WebGLMultipleRenderTargets=Et,t.WebGLMultisampleRenderTarget=At,t.WebGLRenderTarget=Tt,t.WebGLRenderTargetCube=function(t,e,n){return console.warn(\"THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).\"),new $n(t,n)},t.WebGLRenderer=Xs,t.WebGLUtils=Hs,t.WireframeGeometry=Sl,t.WireframeHelper=function(t,e){return console.warn(\"THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.\"),new qa(new Sl(t.geometry),new Fa({color:void 0!==e?e:16777215}))},t.WrapAroundEnding=W,t.XHRLoader=function(t){return console.warn(\"THREE.XHRLoader has been renamed to THREE.FileLoader.\"),new ic(t)},t.ZeroCurvatureEnding=k,t.ZeroFactor=200,t.ZeroSlopeEnding=V,t.ZeroStencilOp=0,t.sRGBEncoding=Y,Object.defineProperty(t,\"__esModule\",{value:!0})}));\n", "const WORLD_SIZE = 1024000; //TILE_SIZE * 2000\r\nconst MERCATOR_A = 6378137.0; // 900913 projection property. (Deprecated) Replaced by EARTH_RADIUS\r\nconst FOV_ORTHO = 0.1 / 180 * Math.PI; //Mapbox doesn't accept 0 as FOV\r\nconst FOV = Math.atan(3 / 4); //from Mapbox https://github.com/mapbox/mapbox-gl-js/blob/main/src/geo/transform.js#L93\r\nconst EARTH_RADIUS = 6371008.8; //from Mapbox  https://github.com/mapbox/mapbox-gl-js/blob/0063cbd10a97218fb6a0f64c99bf18609b918f4c/src/geo/lng_lat.js#L11\r\nconst EARTH_CIRCUMFERENCE_EQUATOR = 40075017 //from Mapbox https://github.com/mapbox/mapbox-gl-js/blob/0063cbd10a97218fb6a0f64c99bf18609b918f4c/src/geo/lng_lat.js#L117\r\n\r\nmodule.exports = exports = {\r\n    WORLD_SIZE: WORLD_SIZE,\r\n    PROJECTION_WORLD_SIZE: WORLD_SIZE / (EARTH_RADIUS * Math.PI * 2),\r\n    MERCATOR_A: EARTH_RADIUS, \r\n    DEG2RAD: Math.PI / 180,\r\n    RAD2DEG: 180 / Math.PI,\r\n    EARTH_RADIUS: EARTH_RADIUS,\r\n    EARTH_CIRCUMFERENCE: 2 * Math.PI * EARTH_RADIUS, //40075000, // In meters\r\n    EARTH_CIRCUMFERENCE_EQUATOR: EARTH_CIRCUMFERENCE_EQUATOR, \r\n    FOV_ORTHO: FOV_ORTHO, // closest to 0\r\n    FOV: FOV, // Math.atan(3/4) radians. If this value is changed, FOV_DEGREES must be calculated\r\n    FOV_DEGREES: FOV * 180 / Math.PI, // Math.atan(3/4) in degrees\r\n    TILE_SIZE: 512\r\n}", "// Type validator\r\n\r\nfunction Validate(){\r\n\r\n};\r\n\r\nValidate.prototype = {\r\n\r\n    Coords: function(input) {\r\n\r\n        if (input.constructor !== Array) {\r\n            console.error(\"Coords must be an array\")\r\n            return\r\n        }\r\n\r\n        if (input.length < 2) {\r\n            console.error(\"Coords length must be at least 2\")\r\n            return\r\n        }\r\n    \r\n        for (const member of input) {\r\n            if (member.constructor !== Number) {\r\n                console.error(\"Coords values must be numbers\")\r\n                return\r\n            }\r\n        }\r\n\r\n        if (Math.abs(input[1]) > 90) {\r\n            console.error(\"Latitude must be between -90 and 90\")\r\n            return                    \r\n        }\r\n\r\n        return input\r\n    },\r\n\r\n    Line: function(input) {\r\n\r\n        var scope = this;\r\n\r\n        if (input.constructor !== Array) {\r\n            console.error(\"Line must be an array\")\r\n            return\r\n        }\r\n\r\n        for (const coord of input){\r\n            if (!scope.Coords(coord)) {\r\n                console.error(\"Each coordinate in a line must be a valid Coords type\")\r\n                return                    \r\n            }\r\n\r\n        }\r\n\r\n        return input\r\n    },\r\n\r\n    Rotation: function(input) {\r\n\r\n        if (input.constructor === Number) input = {z: input}\r\n\r\n        else if (input.constructor === Object) {\r\n\r\n            for (const key of Object.keys(input)){\r\n\r\n                if (!['x', 'y', 'z'].includes(key)) {\r\n                    console.error('Rotation parameters must be x, y, or z')\r\n                    return                            \r\n                }\r\n                if (input[key].constructor !== Number) {\r\n                    console.error('Individual rotation values must be numbers')\r\n                    return\r\n                }\r\n            }\r\n        }\r\n\r\n        else {\r\n            console.error('Rotation must be an object or a number')\r\n            return\r\n        }\r\n\r\n        return input\r\n    },\r\n\r\n    Scale: function(input) {\r\n\r\n        if (input.constructor === Number) {\r\n            input = {x:input, y:input, z: input}\r\n        }\r\n        \r\n        else if (input.constructor === Object) {\r\n\r\n            for (const key of Object.keys(input)){\r\n\r\n                if (!['x', 'y', 'z'].includes(key)) {\r\n                    console.error('Scale parameters must be x, y, or z')\r\n                    return                            \r\n                }\r\n                if (input[key].constructor !== Number) {\r\n                    console.error('Individual scale values must be numbers')\r\n                    return\r\n                }\r\n            }\r\n        }\r\n\r\n        else {\r\n            console.error('Scale must be an object or a number')\r\n            return\r\n        }\r\n\r\n        return input\r\n    }\r\n\r\n}\r\n\r\n\r\nmodule.exports = exports = Validate;", "var THREE = require(\"../three.js\");\r\nvar Constants = require(\"./constants.js\");\r\nvar validate = require(\"./validate.js\");\r\n\r\nvar utils = {\r\n\r\n\tprettyPrintMatrix: function (uglymatrix) {\r\n\t\tfor (var s = 0; s < 4; s++) {\r\n\t\t\tvar quartet = [uglymatrix[s],\r\n\t\t\tuglymatrix[s + 4],\r\n\t\t\tuglymatrix[s + 8],\r\n\t\t\tuglymatrix[s + 12]];\r\n\t\t\tconsole.log(quartet.map(function (num) { return num.toFixed(4) }))\r\n\t\t}\r\n\t},\r\n\r\n\tmakePerspectiveMatrix: function (fovy, aspect, near, far) {\r\n\r\n\t\tvar out = new THREE.Matrix4();\r\n\t\tvar f = 1.0 / Math.tan(fovy / 2),\r\n\t\t\tnf = 1 / (near - far);\r\n\r\n\t\tvar newMatrix = [\r\n\t\t\tf / aspect, 0, 0, 0,\r\n\t\t\t0, f, 0, 0,\r\n\t\t\t0, 0, (far + near) * nf, -1,\r\n\t\t\t0, 0, (2 * far * near) * nf, 0\r\n\t\t]\r\n\r\n\t\tout.elements = newMatrix\r\n\t\treturn out;\r\n\t},\r\n\r\n\t//[jscastro] new orthographic matrix calculations https://en.wikipedia.org/wiki/Orthographic_projection and validated with https://bit.ly/3rPvB9Y\r\n\tmakeOrthographicMatrix: function (left, right, top, bottom, near, far) {\r\n\t\tvar out = new THREE.Matrix4();\r\n\r\n\t\tconst w = 1.0 / (right - left);\r\n\t\tconst h = 1.0 / (top - bottom);\r\n\t\tconst p = 1.0 / (far - near);\r\n\r\n\t\tconst x = (right + left) * w;\r\n\t\tconst y = (top + bottom) * h;\r\n\t\tconst z = near * p;\r\n\r\n\t\tvar newMatrix = [\r\n\t\t\t2 * w, 0, 0, 0,\r\n\t\t\t0, 2 * h, 0, 0,\r\n\t\t\t0, 0, - 1 * p, 0,\r\n\t\t\t- x, -y, -z, 1\r\n\t\t]\r\n\r\n\t\tout.elements = newMatrix\r\n\t\treturn out;\r\n\t},\r\n\r\n\t//gimme radians\r\n\tradify: function (deg) {\r\n\r\n\t\tfunction convert(degrees) {\r\n\t\t\tdegrees = degrees || 0;\r\n\t\t\treturn Math.PI * 2 * degrees / 360\r\n\t\t}\r\n\r\n\t\tif (typeof deg === 'object') {\r\n\r\n\t\t\t//if [x,y,z] array of rotations\r\n\t\t\tif (deg.length > 0) {\r\n\t\t\t\treturn deg.map(function (degree) {\r\n\t\t\t\t\treturn convert(degree)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t// if {x: y: z:} rotation object\r\n\t\t\telse {\r\n\t\t\t\treturn [convert(deg.x), convert(deg.y), convert(deg.z)]\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//if just a number\r\n\t\telse return convert(deg)\r\n\t},\r\n\r\n\t//gimme degrees\r\n\tdegreeify: function (rad) {\r\n\t\tfunction convert(radians) {\r\n\t\t\tradians = radians || 0;\r\n\t\t\treturn radians * 360 / (Math.PI * 2)\r\n\t\t}\r\n\r\n\t\tif (typeof rad === 'object') {\r\n\t\t\treturn [convert(rad.x), convert(rad.y), convert(rad.z)]\r\n\t\t}\r\n\r\n\t\telse return convert(rad)\r\n\t},\r\n\r\n\tprojectToWorld: function (coords) {\r\n\r\n\t\t// Spherical mercator forward projection, re-scaling to WORLD_SIZE\r\n\r\n\t\tvar projected = [\r\n\t\t\t-Constants.MERCATOR_A * Constants.DEG2RAD * coords[0] * Constants.PROJECTION_WORLD_SIZE,\r\n\t\t\t-Constants.MERCATOR_A * Math.log(Math.tan((Math.PI * 0.25) + (0.5 * Constants.DEG2RAD * coords[1]))) * Constants.PROJECTION_WORLD_SIZE\r\n\t\t];\r\n\r\n\t\t//z dimension, defaulting to 0 if not provided\r\n\r\n\t\tif (!coords[2]) projected.push(0)\r\n\t\telse {\r\n\t\t\tvar pixelsPerMeter = this.projectedUnitsPerMeter(coords[1]);\r\n\t\t\tprojected.push(coords[2] * pixelsPerMeter);\r\n\t\t}\r\n\r\n\t\tvar result = new THREE.Vector3(projected[0], projected[1], projected[2]);\r\n\r\n\t\treturn result;\r\n\t},\r\n\r\n\tprojectedUnitsPerMeter: function (latitude) {\r\n\t\treturn Math.abs(Constants.WORLD_SIZE / Math.cos(Constants.DEG2RAD * latitude) / Constants.EARTH_CIRCUMFERENCE);\r\n\t},\r\n\r\n\t_circumferenceAtLatitude: function (latitude) {\r\n\t\treturn Constants.EARTH_CIRCUMFERENCE * Math.cos(latitude * Math.PI / 180);\r\n\t},\r\n\r\n\tmercatorZfromAltitude: function (altitude, lat) {\r\n\t\treturn altitude / this._circumferenceAtLatitude(lat);\r\n\t},\r\n\r\n\t_scaleVerticesToMeters: function (centerLatLng, vertices) {\r\n\t\tvar pixelsPerMeter = this.projectedUnitsPerMeter(centerLatLng[1]);\r\n\t\tvar centerProjected = this.projectToWorld(centerLatLng);\r\n\r\n\t\tfor (var i = 0; i < vertices.length; i++) {\r\n\t\t\tvertices[i].multiplyScalar(pixelsPerMeter);\r\n\t\t}\r\n\r\n\t\treturn vertices;\r\n\t},\r\n\r\n\tprojectToScreen: function (coords) {\r\n\t\tconsole.log(\"WARNING: Projecting to screen coordinates is not yet implemented\");\r\n\t},\r\n\r\n\tunprojectFromScreen: function (pixel) {\r\n\t\tconsole.log(\"WARNING: unproject is not yet implemented\");\r\n\t},\r\n\r\n\t//world units to lnglat\r\n\tunprojectFromWorld: function (worldUnits) {\r\n\r\n\t\tvar unprojected = [\r\n\t\t\t-worldUnits.x / (Constants.MERCATOR_A * Constants.DEG2RAD * Constants.PROJECTION_WORLD_SIZE),\r\n\t\t\t2 * (Math.atan(Math.exp(worldUnits.y / (Constants.PROJECTION_WORLD_SIZE * (-Constants.MERCATOR_A)))) - Math.PI / 4) / Constants.DEG2RAD\r\n\t\t];\r\n\r\n\t\tvar pixelsPerMeter = this.projectedUnitsPerMeter(unprojected[1]);\r\n\r\n\t\t//z dimension\r\n\t\tvar height = worldUnits.z || 0;\r\n\t\tunprojected.push(height / pixelsPerMeter);\r\n\r\n\t\treturn unprojected;\r\n\t},\r\n\r\n\ttoScreenPosition: function (obj, camera) {\r\n\t\tvar vector = new THREE.Vector3();\r\n\r\n\t\tvar widthHalf = 0.5 * renderer.context.canvas.width;\r\n\t\tvar heightHalf = 0.5 * renderer.context.canvas.height;\r\n\r\n\t\tobj.updateMatrixWorld();\r\n\t\tvector.setFromMatrixPosition(obj.matrixWorld);\r\n\t\tvector.project(camera);\r\n\r\n\t\tvector.x = (vector.x * widthHalf) + widthHalf;\r\n\t\tvector.y = - (vector.y * heightHalf) + heightHalf;\r\n\r\n\t\treturn {\r\n\t\t\tx: vector.x,\r\n\t\t\ty: vector.y\r\n\t\t};\r\n\r\n\t},\r\n\r\n\t//get the center point of a feature\r\n\tgetFeatureCenter: function getFeatureCenter(feature, model, level) {\r\n\t\tlet center = [];\r\n\t\tlet latitude = 0;\r\n\t\tlet longitude = 0;\r\n\t\tlet height = 0;\r\n\t\t//deep copy to avoid modifying the original array\r\n\t\tlet coordinates = [...feature.geometry.coordinates[0]];\r\n\t\tif (feature.geometry.type === \"Point\") {\r\n\t\t\tcenter = [...coordinates[0]];//deep copy\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//features in mapbox repeat the first coordinates at the end. We remove it.\r\n\t\t\tif (feature.geometry.type === \"MultiPolygon\") coordinates = coordinates[0];\r\n\t\t\tcoordinates.splice(-1, 1);\r\n\t\t\tcoordinates.forEach(function (c) {\r\n\t\t\t\tlatitude += c[0];\r\n\t\t\t\tlongitude += c[1];\r\n\t\t\t});\r\n\t\t\tcenter = [latitude / coordinates.length, longitude / coordinates.length];\r\n\t\t}\r\n\t\theight = this.getObjectHeightOnFloor(feature, model, level);\r\n\r\n\t\t(center.length < 3 ? center.push(height) : center[2] = height);\r\n\r\n\t\treturn center;\r\n\t},\r\n\r\n\tgetObjectHeightOnFloor: function (feature, obj, level = feature.properties.level || 0) {\r\n\t\tlet floorHeightMin = (level * (feature.properties.levelHeight || 0));\r\n\t\t//object height is modelSize.z + base_height or min_height configured for this object\r\n\t\tlet base = (feature.properties.base_height || feature.properties.min_height || 0);\r\n\t\t//let height = ((obj && obj.model) ? obj.modelSize.z : (feature.properties.height - base));\r\n\t\tlet height = ((obj && obj.model) ? 0 : (feature.properties.height - base));\r\n\t\tlet objectHeight = height + base;\r\n\t\tlet modelHeightFloor = floorHeightMin + objectHeight;\r\n\t\treturn modelHeightFloor;\r\n\t},\r\n\r\n\t_flipMaterialSides: function (obj) {\r\n\r\n\t},\r\n\r\n\t// to improve precision, normalize a series of vector3's to their collective center, and move the resultant mesh to that center\r\n\tnormalizeVertices(vertices) {\r\n\r\n\t\tlet geometry = new THREE.BufferGeometry();\r\n\t\tlet positions = [];\r\n\r\n\t\tfor (var j = 0; j < vertices.length; j++) {\r\n\t\t\tlet p = vertices[j];\r\n\t\t\tpositions.push(p.x, p.y, p.z);\r\n\t\t\tpositions.push(p.x, p.y, p.z);\r\n\t\t}\r\n\t\tgeometry.setAttribute('position', new THREE.BufferAttribute(new Float32Array(positions), 3));\r\n\t\tgeometry.computeBoundingSphere();\r\n\t\tvar center = geometry.boundingSphere.center;\r\n\r\n\t\tvar scaled = vertices.map(function (v3) {\r\n\t\t\tvar normalized = v3.sub(center);\r\n\t\t\treturn normalized;\r\n\t\t});\r\n\r\n\t\treturn { vertices: scaled, position: center }\r\n\t},\r\n\r\n\t//flatten an array of Vector3's into a shallow array of values in x-y-z order, for bufferGeometry\r\n\tflattenVectors(vectors) {\r\n\t\tvar flattenedArray = [];\r\n\t\tfor (let vertex of vectors) {\r\n\t\t\tflattenedArray.push(vertex.x, vertex.y, vertex.z);\r\n\t\t}\r\n\t\treturn flattenedArray\r\n\t},\r\n\r\n\t//convert a line/polygon to Vector3's\r\n\r\n\tlnglatsToWorld: function (coords) {\r\n\r\n\t\tvar vector3 = coords.map(\r\n\t\t\tfunction (pt) {\r\n\t\t\t\tvar p = utils.projectToWorld(pt);\r\n\t\t\t\tvar v3 = new THREE.Vector3(p.x, p.y, p.z);\r\n\t\t\t\treturn v3\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn vector3\r\n\t},\r\n\r\n\textend: function (original, addition) {\r\n\t\tfor (let key in addition) original[key] = addition[key];\r\n\t},\r\n\r\n\tclone: function (original) {\r\n\t\tvar clone = {};\r\n\t\tfor (let key in original) clone[key] = original[key];\r\n\t\treturn clone;\r\n\t},\r\n\r\n\tclamp: function(n, min, max) {\r\n\t\treturn Math.min(max, Math.max(min, n));\r\n\t},\r\n\r\n\t// retrieve object parameters from an options object\r\n\ttypes: {\r\n\r\n\t\trotation: function (r, currentRotation) {\r\n\r\n\t\t\t//[jscastro] rotation default 0\r\n\t\t\tif (!r) { r = 0; };\r\n\r\n\t\t\t// if number provided, rotate only in Z by that amount\r\n\t\t\tif (typeof r === 'number') r = { z: r };\r\n\r\n\t\t\tvar degrees = this.applyDefault([r.x, r.y, r.z], currentRotation);\r\n\t\t\tvar radians = utils.radify(degrees);\r\n\t\t\treturn radians;\r\n\r\n\t\t},\r\n\r\n\t\tscale: function (s, currentScale) {\r\n\t\t\t//[jscastro] scale default 1\r\n\t\t\tif (!s) { s = 1; };\r\n\t\t\tif (typeof s === 'number') return s = [s, s, s];\r\n\t\t\telse return this.applyDefault([s.x, s.y, s.z], currentScale);\r\n\t\t},\r\n\r\n\t\tapplyDefault: function (array, current) {\r\n\r\n\t\t\tvar output = array.map(function (item, index) {\r\n\t\t\t\titem = item || current[index];\r\n\t\t\t\treturn item\r\n\t\t\t})\r\n\r\n\t\t\treturn output\r\n\t\t},\r\n\r\n\t},\r\n\r\n\ttoDecimal: function (n, d) {\r\n\t\treturn Number(n.toFixed(d));\r\n\t},\r\n\r\n\tequal: function (obj1, obj2) {\r\n\t\tconst keys1 = Object.keys(obj1);\r\n\t\tconst keys2 = Object.keys(obj2);\r\n\r\n\t\tif (keys1.length !== keys2.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (keys1.length == 0 && keys2.length == 0 && keys1 !== keys2) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor (const key of keys1) {\r\n\t\t\tconst val1 = obj1[key];\r\n\t\t\tconst val2 = obj2[key];\r\n\t\t\tconst areObjects = this.isObject(val1) && this.isObject(val2);\r\n\t\t\tif (\r\n\t\t\t\tareObjects && !equal(val1, val2) ||\r\n\t\t\t\t!areObjects && val1 !== val2\r\n\t\t\t) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\tisObject: function (object) {\r\n\t\treturn object != null && typeof object === 'object';\r\n\t},\r\n\r\n\tcurveToLine: (curve, params) => {\r\n\t\tlet { width, color } = params;\r\n\t\tlet geometry = new THREE.BufferGeometry().setFromPoints(\r\n\t\t\tcurve.getPoints(100)\r\n\t\t);\r\n\r\n\t\tlet material = new THREE.LineBasicMaterial({\r\n\t\t\tcolor: color,\r\n\t\t\tlinewidth: width,\r\n\t\t});\r\n\r\n\t\tlet line = new THREE.Line(geometry, material);\r\n\r\n\t\treturn line;\r\n\t},\r\n\r\n\tcurvesToLines: (curves) => {\r\n\t\tvar colors = [0xff0000, 0x1eff00, 0x2600ff];\r\n\t\tvar lines = curves.map((curve, i) => {\r\n\t\t\tlet params = {\r\n\t\t\t\twidth: 3,\r\n\t\t\t\tcolor: colors[i] || 'purple',\r\n\t\t\t};\r\n\t\t\tlet curveline = curveToLine(curve, params);\r\n\r\n\t\t\treturn curveline;\r\n\t\t});\r\n\t\treturn lines;\r\n\t},\r\n\r\n\t_validate: function (userInputs, defaults) {\r\n\r\n\t\tuserInputs = userInputs || {};\r\n\t\tvar validatedOutput = {};\r\n\t\tutils.extend(validatedOutput, userInputs);\r\n\r\n\t\tfor (let key of Object.keys(defaults)) {\r\n\r\n\t\t\tif (userInputs[key] === undefined) {\r\n\t\t\t\t//make sure required params are present\r\n\t\t\t\tif (defaults[key] === null) {\r\n\t\t\t\t\tconsole.error(key + ' is required')\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse validatedOutput[key] = defaults[key]\r\n\r\n\t\t\t}\r\n\r\n\t\t\telse validatedOutput[key] = userInputs[key]\r\n\t\t}\r\n\r\n\t\treturn validatedOutput\r\n\t},\r\n\tValidator: new validate(),\r\n\texposedMethods: ['projectToWorld', 'projectedUnitsPerMeter', 'extend', 'unprojectFromWorld']\r\n}\r\n\r\nmodule.exports = exports = utils", "/**\r\n * @author peterqliu / https://github.com/peterqliu\r\n * @author jscastro / https://github.com/jscastro76\r\n */\r\nconst THREE = require(\"../three.js\");\r\nconst utils = require(\"../utils/utils.js\");\r\nconst ThreeboxConstants = require(\"../utils/constants.js\");\r\n\r\nfunction CameraSync(map, camera, world) {\r\n    //    console.log(\"CameraSync constructor\");\r\n    this.map = map;\r\n    this.camera = camera;\r\n    this.active = true;\r\n\r\n    this.camera.matrixAutoUpdate = false; // We're in charge of the camera now!\r\n\r\n    // Postion and configure the world group so we can scale it appropriately when the camera zooms\r\n    this.world = world || new THREE.Group();\r\n    this.world.position.x = this.world.position.y = ThreeboxConstants.WORLD_SIZE / 2\r\n    this.world.matrixAutoUpdate = false;\r\n\r\n    // set up basic camera state\r\n    this.state = {\r\n        translateCenter: new THREE.Matrix4().makeTranslation(ThreeboxConstants.WORLD_SIZE / 2, -ThreeboxConstants.WORLD_SIZE / 2, 0),\r\n        worldSizeRatio: ThreeboxConstants.TILE_SIZE / ThreeboxConstants.WORLD_SIZE,\r\n        worldSize: ThreeboxConstants.TILE_SIZE * this.map.transform.scale\r\n    };\r\n\r\n    // Listen for move events from the map and update the Three.js camera\r\n    let _this = this; // keep the function on _this\r\n    this.map\r\n        .on('move', function () {\r\n            _this.updateCamera();\r\n        })\r\n        .on('resize', function () {\r\n            _this.setupCamera();\r\n        })\r\n\r\n    this.setupCamera();\r\n}\r\n\r\nCameraSync.prototype = {\r\n    setupCamera: function () {\r\n        const t = this.map.transform;\r\n        this.camera.aspect = t.width / t.height; //bug fixed, if aspect is not reset raycast will fail on map resize\r\n        this.halfFov = t._fov / 2;\r\n        this.cameraToCenterDistance = 0.5 / Math.tan(this.halfFov) * t.height;\r\n        const maxPitch = t._maxPitch * Math.PI / 180;\r\n        this.acuteAngle = Math.PI / 2 - maxPitch;\r\n        this.updateCamera();\r\n    },\r\n\r\n    updateCamera: function (ev) {\r\n        if (!this.camera) {\r\n            console.log('nocamera')\r\n            return;\r\n        }\r\n\r\n        const t = this.map.transform;\r\n        this.camera.aspect = t.width / t.height; //bug fixed, if aspect is not reset raycast will fail on map resize\r\n        const offset = t.centerOffset || new THREE.Vector3(); //{ x: t.width / 2, y: t.height / 2 };\r\n        let farZ = 0;\r\n        let furthestDistance = 0;\r\n        this.halfFov = t._fov / 2;\r\n        const groundAngle = Math.PI / 2 + t._pitch;\r\n        const pitchAngle = Math.cos((Math.PI / 2) - t._pitch); //pitch seems to influence heavily the depth calculation and cannot be more than 60 = PI/3 < v1 and 85 > v2\r\n        this.cameraToCenterDistance = 0.5 / Math.tan(this.halfFov) * t.height;\r\n        let pixelsPerMeter = 1;\r\n        const worldSize = this.worldSize();\r\n\r\n        if (this.map.tb.mapboxVersion >= 2.0) {\r\n            // mapbox version >= 2.0\r\n            pixelsPerMeter = this.mercatorZfromAltitude(1, t.center.lat) * worldSize;\r\n            const fovAboveCenter = t._fov * (0.5 + t.centerOffset.y / t.height);\r\n\r\n            // Adjust distance to MSL by the minimum possible elevation visible on screen,\r\n            // this way the far plane is pushed further in the case of negative elevation.\r\n            const minElevationInPixels = t.elevation ? t.elevation.getMinElevationBelowMSL() * pixelsPerMeter : 0;\r\n            const cameraToSeaLevelDistance = ((t._camera.position[2] * worldSize) - minElevationInPixels) / Math.cos(t._pitch);\r\n            const topHalfSurfaceDistance = Math.sin(fovAboveCenter) * cameraToSeaLevelDistance / Math.sin(utils.clamp(Math.PI - groundAngle - fovAboveCenter, 0.01, Math.PI - 0.01));\r\n\r\n            // Calculate z distance of the farthest fragment that should be rendered.\r\n            furthestDistance = pitchAngle * topHalfSurfaceDistance + cameraToSeaLevelDistance;\r\n\r\n            // Add a bit extra to avoid precision problems when a fragment's distance is exactly `furthestDistance`\r\n            const horizonDistance = cameraToSeaLevelDistance * (1 / t._horizonShift);\r\n            farZ = Math.min(furthestDistance * 1.01, horizonDistance);\r\n        } else {\r\n            // mapbox version < 2.0 or azure maps\r\n            // Furthest distance optimized by @jscastro76\r\n            const topHalfSurfaceDistance = Math.sin(this.halfFov) * this.cameraToCenterDistance / Math.sin(Math.PI - groundAngle - this.halfFov);\r\n\r\n            // Calculate z distance of the farthest fragment that should be rendered. \r\n            furthestDistance = pitchAngle * topHalfSurfaceDistance + this.cameraToCenterDistance;\r\n\r\n            // Add a bit extra to avoid precision problems when a fragment's distance is exactly `furthestDistance`\r\n            farZ = furthestDistance * 1.01;\r\n        }\r\n        this.cameraTranslateZ = new THREE.Matrix4().makeTranslation(0, 0, this.cameraToCenterDistance);\r\n\r\n        // someday @ansis set further near plane to fix precision for deckgl,so we should fix it to use mapbox-gl v1.3+ correctly\r\n        // https://github.com/mapbox/mapbox-gl-js/commit/5cf6e5f523611bea61dae155db19a7cb19eb825c#diff-5dddfe9d7b5b4413ee54284bc1f7966d\r\n        const nz = (t.height / 50); //min near z as coded by @ansis\r\n        const nearZ = Math.max(nz * pitchAngle, nz); //on changes in the pitch nz could be too low\r\n\r\n        const h = t.height;\r\n        const w = t.width;\r\n        if (this.camera instanceof THREE.OrthographicCamera) {\r\n            this.camera.projectionMatrix = utils.makeOrthographicMatrix(w / - 2, w / 2, h / 2, h / - 2, nearZ, farZ);\r\n        } else {\r\n            this.camera.projectionMatrix = utils.makePerspectiveMatrix(t._fov, w / h, nearZ, farZ);\r\n        }\r\n        this.camera.projectionMatrix.elements[8] = -offset.x * 2 / t.width;\r\n        this.camera.projectionMatrix.elements[9] = offset.y * 2 / t.height;\r\n\r\n        // Unlike the Mapbox GL JS camera, separate camera translation and rotation out into its world matrix\r\n        // If this is applied directly to the projection matrix, it will work OK but break raycasting\r\n        let cameraWorldMatrix = this.calcCameraMatrix(t._pitch, t.angle);\r\n        // When terrain layers are included, height of 3D layers must be modified from t_camera.z * worldSize\r\n        if (t.elevation) cameraWorldMatrix.elements[14] = t._camera.position[2] * worldSize;\r\n        //this.camera.matrixWorld.elements is equivalent to t._camera._transform\r\n        this.camera.matrixWorld.copy(cameraWorldMatrix);\r\n        \r\n        let zoomPow = t.scale * this.state.worldSizeRatio;\r\n        // Handle scaling and translation of objects in the map in the world's matrix transform, not the camera\r\n        let scale = new THREE.Matrix4;\r\n        let translateMap = new THREE.Matrix4;\r\n        let rotateMap = new THREE.Matrix4;\r\n\r\n        scale.makeScale(zoomPow, zoomPow, zoomPow);\r\n\r\n        let x = t.x || t.point.x;\r\n        let y = t.y || t.point.y;\r\n        translateMap.makeTranslation(-x, y, 0);\r\n        rotateMap.makeRotationZ(Math.PI);\r\n\r\n        this.world.matrix = new THREE.Matrix4()\r\n            .premultiply(rotateMap)\r\n            .premultiply(this.state.translateCenter)\r\n            .premultiply(scale)\r\n            .premultiply(translateMap)\r\n\r\n        // utils.prettyPrintMatrix(this.camera.projectionMatrix.elements);\r\n        this.map.fire('CameraSynced', { detail: { nearZ: nearZ, farZ: farZ, pitch: t._pitch, angle: t.angle, furthestDistance: furthestDistance, cameraToCenterDistance: this.cameraToCenterDistance, t: this.map.transform, tbProjMatrix: this.camera.projectionMatrix.elements, tbWorldMatrix: this.world.matrix.elements, cameraSyn: CameraSync } });\r\n\r\n    },\r\n\r\n    worldSize() {\r\n        let t = this.map.transform;\r\n        return t.tileSize * t.scale;\r\n    },\r\n\r\n    worldSizeFromZoom() {\r\n        let t = this.map.transform;\r\n        return Math.pow(2.0, t.zoom) * t.tileSize;\r\n    },\r\n\r\n    mercatorZfromAltitude(altitude, lat) {\r\n        return altitude / this.circumferenceAtLatitude(lat);\r\n    },\r\n\r\n    mercatorZfromZoom() {\r\n        return this.cameraToCenterDistance / this.worldSizeFromZoom();\r\n    },\r\n\r\n    circumferenceAtLatitude(latitude) {\r\n        return ThreeboxConstants.EARTH_CIRCUMFERENCE * Math.cos(latitude * Math.PI / 180);\r\n    },\r\n\r\n    calcCameraMatrix(pitch, angle, trz) {\r\n        const t = this.map.transform;\r\n        const _pitch = (pitch === undefined) ? t._pitch : pitch;\r\n        const _angle = (angle === undefined) ? t.angle : angle;\r\n        const _trz = (trz === undefined) ? this.cameraTranslateZ : trz;\r\n\r\n        return new THREE.Matrix4()\r\n            .premultiply(_trz)\r\n            .premultiply(new THREE.Matrix4().makeRotationX(_pitch))\r\n            .premultiply(new THREE.Matrix4().makeRotationZ(_angle));\r\n    },\r\n\r\n    updateCameraState() {\r\n        let t = this.map.transform;\r\n        if (!t.height) return;\r\n\r\n        // Set camera orientation and move it to a proper distance from the map\r\n        //t._camera.setPitchBearing(t._pitch, t.angle);\r\n\r\n        const dir = t._camera.forward();\r\n        const distance = t.cameraToCenterDistance;\r\n        const center = t.point;\r\n\r\n        // Use camera zoom (if terrain is enabled) to maintain constant altitude to sea level\r\n        const zoom = t._cameraZoom ? t._cameraZoom : t._zoom;\r\n        const altitude = this.mercatorZfromZoom(t);\r\n        const height = altitude - this.mercatorZfromAltitude(t._centerAltitude, t.center.lat);\r\n\r\n        // simplified version of: this._worldSizeFromZoom(this._zoomFromMercatorZ(height))\r\n        const updatedWorldSize = t.cameraToCenterDistance / height;\r\n        return [\r\n            center.x / this.worldSize() - (dir[0] * distance) / updatedWorldSize,\r\n            center.y / this.worldSize() - (dir[1] * distance) / updatedWorldSize,\r\n            this.mercatorZfromAltitude(t._centerAltitude, t._center.lat) + (-dir[2] * distance) / updatedWorldSize\r\n        ];\r\n\r\n    },\r\n\r\n    getWorldToCamera(worldSize, pixelsPerMeter) {\r\n        // transformation chain from world space to camera space:\r\n        // 1. Height value (z) of renderables is in meters. Scale z coordinate by pixelsPerMeter\r\n        // 2. Transform from pixel coordinates to camera space with cameraMatrix^-1\r\n        // 3. flip Y if required\r\n\r\n        // worldToCamera: flip * cam^-1 * zScale\r\n        // cameraToWorld: (flip * cam^-1 * zScale)^-1 => (zScale^-1 * cam * flip^-1)\r\n        let t = this.map.transform;\r\n        const matrix = new THREE.Matrix4();\r\n        const matrixT = new THREE.Matrix4();\r\n\r\n        // Compute inverse of camera matrix and post-multiply negated translation\r\n        const o = t._camera._orientation;\r\n        const p = t._camera.position;\r\n        const invPosition = new THREE.Vector3(p[0], p[1], p[2]);\r\n\r\n        const quat = new THREE.Quaternion();\r\n        quat.set(o[0], o[1], o[2], o[3]);\r\n        const invOrientation = quat.conjugate();\r\n        invPosition.multiplyScalar(-worldSize);\r\n\r\n        matrixT.makeTranslation(invPosition.x, invPosition.y, invPosition.z);\r\n        matrix\r\n            .makeRotationFromQuaternion(invOrientation)\r\n            .premultiply(matrixT);\r\n        //this would make the matrix exact to getWorldToCamera but breaks\r\n        //this.translate(matrix.elements, matrix.elements, invPosition);\r\n\r\n        // Pre-multiply y (2nd row)\r\n        matrix.elements[1] *= -1.0;\r\n        matrix.elements[5] *= -1.0;\r\n        matrix.elements[9] *= -1.0;\r\n        matrix.elements[13] *= -1.0;\r\n\r\n        // Post-multiply z (3rd column)\r\n        matrix.elements[8] *= pixelsPerMeter;\r\n        matrix.elements[9] *= pixelsPerMeter;\r\n        matrix.elements[10] *= pixelsPerMeter;\r\n        matrix.elements[11] *= pixelsPerMeter;\r\n        //console.log(matrix.elements);\r\n        return matrix;\r\n    },\r\n\r\n    translate(out, a, v) {\r\n        let x = v[0] || v.x,\r\n            y = v[1] || v.y,\r\n            z = v[2] || v.z;\r\n        let a00, a01, a02, a03;\r\n        let a10, a11, a12, a13;\r\n        let a20, a21, a22, a23;\r\n        if (a === out) {\r\n            out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\r\n            out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\r\n            out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\r\n            out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\r\n        } else {\r\n            a00 = a[0];\r\n            a01 = a[1];\r\n            a02 = a[2];\r\n            a03 = a[3];\r\n            a10 = a[4];\r\n            a11 = a[5];\r\n            a12 = a[6];\r\n            a13 = a[7];\r\n            a20 = a[8];\r\n            a21 = a[9];\r\n            a22 = a[10];\r\n            a23 = a[11];\r\n            out[0] = a00;\r\n            out[1] = a01;\r\n            out[2] = a02;\r\n            out[3] = a03;\r\n            out[4] = a10;\r\n            out[5] = a11;\r\n            out[6] = a12;\r\n            out[7] = a13;\r\n            out[8] = a20;\r\n            out[9] = a21;\r\n            out[10] = a22;\r\n            out[11] = a23;\r\n            out[12] = a00 * x + a10 * y + a20 * z + a[12];\r\n            out[13] = a01 * x + a11 * y + a21 * z + a[13];\r\n            out[14] = a02 * x + a12 * y + a22 * z + a[14];\r\n            out[15] = a03 * x + a13 * y + a23 * z + a[15];\r\n        }\r\n        return out;\r\n    }\r\n}\r\n\r\nmodule.exports = exports = CameraSync;", "/*\r\n (c) 2011-2015, Vladimir Agafonkin\r\n SunCalc is a JavaScript library for calculating sun/moon position and light phases.\r\n https://github.com/mourner/suncalc\r\n*/\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // shortcuts for easier to read formulas\r\n\r\n    var PI = Math.PI,\r\n        sin = Math.sin,\r\n        cos = Math.cos,\r\n        tan = Math.tan,\r\n        asin = Math.asin,\r\n        atan = Math.atan2,\r\n        acos = Math.acos,\r\n        rad = PI / 180;\r\n\r\n    // sun calculations are based on http://aa.quae.nl/en/reken/zonpositie.html formulas\r\n\r\n\r\n    // date/time constants and conversions\r\n\r\n    var dayMs = 1000 * 60 * 60 * 24,\r\n        J1970 = 2440588,\r\n        J2000 = 2451545;\r\n\r\n    function toJulian(date) { return date.valueOf() / dayMs - 0.5 + J1970; }\r\n    function fromJulian(j) { return new Date((j + 0.5 - J1970) * dayMs); }\r\n    function toDays(date) { return toJulian(date) - J2000; }\r\n\r\n    // general calculations for position\r\n\r\n    var e = rad * 23.4397; // obliquity of the Earth\r\n\r\n    function rightAscension(l, b) { return atan(sin(l) * cos(e) - tan(b) * sin(e), cos(l)); }\r\n    function declination(l, b) { return asin(sin(b) * cos(e) + cos(b) * sin(e) * sin(l)); }\r\n\r\n    function azimuth(H, phi, dec) { return atan(sin(H), cos(H) * sin(phi) - tan(dec) * cos(phi)); }\r\n    function altitude(H, phi, dec) { return asin(sin(phi) * sin(dec) + cos(phi) * cos(dec) * cos(H)); }\r\n\r\n    function siderealTime(d, lw) { return rad * (280.16 + 360.9856235 * d) - lw; }\r\n\r\n    function astroRefraction(h) {\r\n        if (h < 0) // the following formula works for positive altitudes only.\r\n            h = 0; // if h = -0.08901179 a div/0 would occur.\r\n\r\n        // formula 16.4 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\r\n        // 1.02 / tan(h + 10.26 / (h + 5.10)) h in degrees, result in arc minutes -> converted to rad:\r\n        return 0.0002967 / Math.tan(h + 0.00312536 / (h + 0.08901179));\r\n    }\r\n\r\n    // general sun calculations\r\n\r\n    function solarMeanAnomaly(d) { return rad * (357.5291 + 0.98560028 * d); }\r\n\r\n    function eclipticLongitude(M) {\r\n\r\n        var C = rad * (1.9148 * sin(M) + 0.02 * sin(2 * M) + 0.0003 * sin(3 * M)), // equation of center\r\n            P = rad * 102.9372; // perihelion of the Earth\r\n\r\n        return M + C + P + PI;\r\n    }\r\n\r\n    function sunCoords(d) {\r\n\r\n        var M = solarMeanAnomaly(d),\r\n            L = eclipticLongitude(M);\r\n\r\n        return {\r\n            dec: declination(L, 0),\r\n            ra: rightAscension(L, 0)\r\n        };\r\n    }\r\n\r\n\r\n    var SunCalc = {};\r\n\r\n\r\n    // calculates sun position for a given date and latitude/longitude\r\n\r\n    SunCalc.getPosition = function (date, lat, lng) {\r\n\r\n        var lw = rad * -lng,\r\n            phi = rad * lat,\r\n            d = toDays(date),\r\n\r\n            c = sunCoords(d),\r\n            H = siderealTime(d, lw) - c.ra;\r\n\r\n        return {\r\n            azimuth: azimuth(H, phi, c.dec),\r\n            altitude: altitude(H, phi, c.dec)\r\n        };\r\n    };\r\n\r\n    SunCalc.toJulian = function (date) {\r\n        return toJulian(date);\r\n    };\r\n\r\n    // sun times configuration (angle, morning name, evening name)\r\n\r\n    var times = SunCalc.times = [\r\n        [-0.833, 'sunrise', 'sunset'],\r\n        [-0.3, 'sunriseEnd', 'sunsetStart'],\r\n        [-6, 'dawn', 'dusk'],\r\n        [-12, 'nauticalDawn', 'nauticalDusk'],\r\n        [-18, 'nightEnd', 'night'],\r\n        [6, 'goldenHourEnd', 'goldenHour']\r\n    ];\r\n\r\n    // adds a custom time to the times config\r\n\r\n    SunCalc.addTime = function (angle, riseName, setName) {\r\n        times.push([angle, riseName, setName]);\r\n    };\r\n\r\n\r\n    // calculations for sun times\r\n\r\n    var J0 = 0.0009;\r\n\r\n    function julianCycle(d, lw) { return Math.round(d - J0 - lw / (2 * PI)); }\r\n\r\n    function approxTransit(Ht, lw, n) { return J0 + (Ht + lw) / (2 * PI) + n; }\r\n    function solarTransitJ(ds, M, L) { return J2000 + ds + 0.0053 * sin(M) - 0.0069 * sin(2 * L); }\r\n\r\n    function hourAngle(h, phi, d) { return acos((sin(h) - sin(phi) * sin(d)) / (cos(phi) * cos(d))); }\r\n    function observerAngle(height) { return -2.076 * Math.sqrt(height) / 60; }\r\n\r\n    // returns set time for the given sun altitude\r\n    function getSetJ(h, lw, phi, dec, n, M, L) {\r\n\r\n        var w = hourAngle(h, phi, dec),\r\n            a = approxTransit(w, lw, n);\r\n        return solarTransitJ(a, M, L);\r\n    }\r\n\r\n\r\n    // calculates sun times for a given date, latitude/longitude, and, optionally,\r\n    // the observer height (in meters) relative to the horizon\r\n\r\n    SunCalc.getTimes = function (date, lat, lng, height) {\r\n\r\n        height = height || 0;\r\n\r\n        var lw = rad * -lng,\r\n            phi = rad * lat,\r\n\r\n            dh = observerAngle(height),\r\n\r\n            d = toDays(date),\r\n            n = julianCycle(d, lw),\r\n            ds = approxTransit(0, lw, n),\r\n\r\n            M = solarMeanAnomaly(ds),\r\n            L = eclipticLongitude(M),\r\n            dec = declination(L, 0),\r\n\r\n            Jnoon = solarTransitJ(ds, M, L),\r\n\r\n            i, len, time, h0, Jset, Jrise;\r\n\r\n\r\n        var result = {\r\n            solarNoon: fromJulian(Jnoon),\r\n            nadir: fromJulian(Jnoon - 0.5)\r\n        };\r\n\r\n        for (i = 0, len = times.length; i < len; i += 1) {\r\n            time = times[i];\r\n            h0 = (time[0] + dh) * rad;\r\n\r\n            Jset = getSetJ(h0, lw, phi, dec, n, M, L);\r\n            Jrise = Jnoon - (Jset - Jnoon);\r\n\r\n            result[time[1]] = fromJulian(Jrise);\r\n            result[time[2]] = fromJulian(Jset);\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n\r\n    // moon calculations, based on http://aa.quae.nl/en/reken/hemelpositie.html formulas\r\n\r\n    function moonCoords(d) { // geocentric ecliptic coordinates of the moon\r\n\r\n        var L = rad * (218.316 + 13.176396 * d), // ecliptic longitude\r\n            M = rad * (134.963 + 13.064993 * d), // mean anomaly\r\n            F = rad * (93.272 + 13.229350 * d),  // mean distance\r\n\r\n            l = L + rad * 6.289 * sin(M), // longitude\r\n            b = rad * 5.128 * sin(F),     // latitude\r\n            dt = 385001 - 20905 * cos(M);  // distance to the moon in km\r\n\r\n        return {\r\n            ra: rightAscension(l, b),\r\n            dec: declination(l, b),\r\n            dist: dt\r\n        };\r\n    }\r\n\r\n    SunCalc.getMoonPosition = function (date, lat, lng) {\r\n\r\n        var lw = rad * -lng,\r\n            phi = rad * lat,\r\n            d = toDays(date),\r\n\r\n            c = moonCoords(d),\r\n            H = siderealTime(d, lw) - c.ra,\r\n            h = altitude(H, phi, c.dec),\r\n            // formula 14.1 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\r\n            pa = atan(sin(H), tan(phi) * cos(c.dec) - sin(c.dec) * cos(H));\r\n\r\n        h = h + astroRefraction(h); // altitude correction for refraction\r\n\r\n        return {\r\n            azimuth: azimuth(H, phi, c.dec),\r\n            altitude: h,\r\n            distance: c.dist,\r\n            parallacticAngle: pa\r\n        };\r\n    };\r\n\r\n\r\n    // calculations for illumination parameters of the moon,\r\n    // based on http://idlastro.gsfc.nasa.gov/ftp/pro/astro/mphase.pro formulas and\r\n    // Chapter 48 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\r\n\r\n    SunCalc.getMoonIllumination = function (date) {\r\n\r\n        var d = toDays(date || new Date()),\r\n            s = sunCoords(d),\r\n            m = moonCoords(d),\r\n\r\n            sdist = 149598000, // distance from Earth to Sun in km\r\n\r\n            phi = acos(sin(s.dec) * sin(m.dec) + cos(s.dec) * cos(m.dec) * cos(s.ra - m.ra)),\r\n            inc = atan(sdist * sin(phi), m.dist - sdist * cos(phi)),\r\n            angle = atan(cos(s.dec) * sin(s.ra - m.ra), sin(s.dec) * cos(m.dec) -\r\n                cos(s.dec) * sin(m.dec) * cos(s.ra - m.ra));\r\n\r\n        return {\r\n            fraction: (1 + cos(inc)) / 2,\r\n            phase: 0.5 + 0.5 * inc * (angle < 0 ? -1 : 1) / Math.PI,\r\n            angle: angle\r\n        };\r\n    };\r\n\r\n\r\n    function hoursLater(date, h) {\r\n        return new Date(date.valueOf() + h * dayMs / 24);\r\n    }\r\n\r\n    // calculations for moon rise/set times are based on http://www.stargazing.net/kepler/moonrise.html article\r\n\r\n    SunCalc.getMoonTimes = function (date, lat, lng, inUTC) {\r\n        var t = new Date(date);\r\n        if (inUTC) t.setUTCHours(0, 0, 0, 0);\r\n        else t.setHours(0, 0, 0, 0);\r\n\r\n        var hc = 0.133 * rad,\r\n            h0 = SunCalc.getMoonPosition(t, lat, lng).altitude - hc,\r\n            h1, h2, rise, set, a, b, xe, ye, d, roots, x1, x2, dx;\r\n\r\n        // go in 2-hour chunks, each time seeing if a 3-point quadratic curve crosses zero (which means rise or set)\r\n        for (var i = 1; i <= 24; i += 2) {\r\n            h1 = SunCalc.getMoonPosition(hoursLater(t, i), lat, lng).altitude - hc;\r\n            h2 = SunCalc.getMoonPosition(hoursLater(t, i + 1), lat, lng).altitude - hc;\r\n\r\n            a = (h0 + h2) / 2 - h1;\r\n            b = (h2 - h0) / 2;\r\n            xe = -b / (2 * a);\r\n            ye = (a * xe + b) * xe + h1;\r\n            d = b * b - 4 * a * h1;\r\n            roots = 0;\r\n\r\n            if (d >= 0) {\r\n                dx = Math.sqrt(d) / (Math.abs(a) * 2);\r\n                x1 = xe - dx;\r\n                x2 = xe + dx;\r\n                if (Math.abs(x1) <= 1) roots++;\r\n                if (Math.abs(x2) <= 1) roots++;\r\n                if (x1 < -1) x1 = x2;\r\n            }\r\n\r\n            if (roots === 1) {\r\n                if (h0 < 0) rise = i + x1;\r\n                else set = i + x1;\r\n\r\n            } else if (roots === 2) {\r\n                rise = i + (ye < 0 ? x2 : x1);\r\n                set = i + (ye < 0 ? x1 : x2);\r\n            }\r\n\r\n            if (rise && set) break;\r\n\r\n            h0 = h2;\r\n        }\r\n\r\n        var result = {};\r\n\r\n        if (rise) result.rise = hoursLater(t, rise);\r\n        if (set) result.set = hoursLater(t, set);\r\n\r\n        if (!rise && !set) result[ye > 0 ? 'alwaysUp' : 'alwaysDown'] = true;\r\n\r\n        return result;\r\n    };\r\n\r\n\r\n    //// export as Node module / AMD module / browser variable\r\n    //if (typeof exports === 'object' && typeof module !== 'undefined') module.exports = SunCalc;\r\n    //else if (typeof define === 'function' && define.amd) define(SunCalc);\r\n    //else window.SunCalc = SunCalc;\r\n    module.exports = exports = SunCalc\r\n}());\r\n\r\n", "// This module creates a THREE material from the options object provided into the Objects class.\r\n// Users can do this in one of three ways:\r\n\r\n// - provide a preset THREE.Material in the `material` parameter\r\n// - specify a `material` string, `color`, and/or `opacity` as modifications of the default material\r\n// - provide none of these parameters, to use the default material\r\n\r\nvar utils = require(\"../utils/utils.js\");\r\nvar THREE = require(\"../three.js\");\r\n\r\nvar defaults = {\r\n\tmaterial: 'MeshBasicMaterial',\r\n\tcolor: 'black',\r\n\topacity: 1\r\n};\r\n\r\n\r\nfunction material (options) {\r\n\r\n\tvar output;\r\n\r\n\tif (options) {\r\n\r\n\t\toptions = utils._validate(options, defaults);\r\n\r\n\t\t// check if user provided material object\r\n\t\tif (options.material && options.material.isMaterial) output = options.material;\r\n\r\n\t\t// check if user provided any material parameters. create new material object based on that.\r\n\t\telse if (options.material || options.color || options.opacity){\r\n\t\t    output = new THREE[options.material]({color: options.color, transparent: options.opacity<1});\r\n\t\t}\r\n\r\n\t\t// if neither, return default material\r\n\t\telse output = generateDefaultMaterial();\r\n\r\n\t\toutput.opacity = options.opacity;\r\n\t\tif (options.side) output.side = options.side\r\n\r\n\t}\r\n\r\n\t// if no options, return default\r\n\telse output = generateDefaultMaterial();\r\n\r\n\tfunction generateDefaultMaterial(){\r\n\t\treturn new THREE[defaults.material]({color: defaults.color});\r\n\t}\r\n\r\n\treturn output\r\n}\r\n\r\nmodule.exports = exports = material;\r\n", "/**\r\n * @author peterqliu / https://github.com/peterqliu\r\n * @author jscastro / https://github.com/jscastro76\r\n*/\r\nconst THREE = require('../three.js');\r\nconst utils = require(\"../utils/utils.js\");\r\n\r\nfunction AnimationManager(map) {\r\n\r\n    this.map = map\r\n    this.enrolledObjects = [];    \r\n    this.previousFrameTime;\r\n\r\n};\r\n\r\nAnimationManager.prototype = {\r\n\r\n\tunenroll: function (obj) {\r\n\t\tthis.enrolledObjects.splice(this.enrolledObjects.indexOf(obj), 1);\r\n\t},\r\n\r\n\tenroll: function (obj) {\r\n\r\n\t\t//[jscastro] add the object default animations\r\n\t\tobj.clock = new THREE.Clock();\r\n\t\tobj.hasDefaultAnimation = false;\r\n\t\tobj.defaultAction;\r\n\t\tobj.actions = [];\r\n\t\tobj.mixer;\r\n\r\n\t\t//[jscastro] if the object includes animations\r\n\t\tif (obj.animations && obj.animations.length > 0) {\r\n\r\n\t\t\tobj.hasDefaultAnimation = true;\r\n\r\n\t\t\t//check first if a defaultAnimation is defined by options\r\n\t\t\tlet daIndex = (obj.userData.defaultAnimation ? obj.userData.defaultAnimation : 0);\r\n\t\t\tobj.mixer = new THREE.AnimationMixer(obj);\r\n\r\n\t\t\tsetAction(daIndex);\r\n\t\t}\r\n\r\n\t\t//[jscastro] set the action to play\r\n\t\tfunction setAction(animationIndex) {\r\n\t\t\tfor (let i = 0; i < obj.animations.length; i++) {\r\n\r\n\t\t\t\tif (animationIndex > obj.animations.length)\r\n\t\t\t\t\tconsole.log(\"The animation index \" + animationIndex + \" doesn't exist for this object\");\r\n\t\t\t\tlet animation = obj.animations[i];\r\n\t\t\t\tlet action = obj.mixer.clipAction(animation);\r\n\t\t\t\tobj.actions.push(action);\r\n\r\n\t\t\t\t//select the default animation and set the weight to 1\r\n\t\t\t\tif (animationIndex === i) {\r\n\t\t\t\t\tobj.defaultAction = action;\r\n\t\t\t\t\taction.setEffectiveWeight(1);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\taction.setEffectiveWeight(0);\r\n\t\t\t\t}\r\n\t\t\t\taction.play();\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet _isPlaying = false;\r\n\t\t//[jscastro] added property for isPlaying state\r\n\t\tObject.defineProperty(obj, 'isPlaying', {\r\n\t\t\tget() { return _isPlaying; },\r\n\t\t\tset(value) {\r\n\t\t\t\tif (_isPlaying != value) {\r\n\t\t\t\t\t_isPlaying = value;\r\n\t\t\t\t\t// Dispatch new event IsPlayingChanged\r\n\t\t\t\t\tobj.dispatchEvent({ type: 'IsPlayingChanged', detail: obj});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t/* Extend the provided object with animation-specific properties and track in the animation manager */\r\n\t\tthis.enrolledObjects.push(obj);\r\n\r\n\t\t// Give this object its own internal animation queue\r\n\t\tobj.animationQueue = [];\r\n\r\n\t\tobj.set = function (options) {\r\n\r\n\t\t\t//if duration is set, animate to the new state\r\n\t\t\tif (options.duration > 0) {\r\n\r\n\t\t\t\tlet newParams = {\r\n\t\t\t\t\tstart: Date.now(),\r\n\t\t\t\t\texpiration: Date.now() + options.duration,\r\n\t\t\t\t\tendState: {}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tutils.extend(options, newParams);\r\n\r\n\t\t\t\tlet translating = options.coords;\r\n\t\t\t\tlet rotating = options.rotation;\r\n\t\t\t\tlet scaling = options.scale || options.scaleX || options.scaleY || options.scaleZ;\r\n\r\n\t\t\t\tif (rotating) {\r\n\r\n\t\t\t\t\tlet r = obj.rotation;\r\n\t\t\t\t\toptions.startRotation = [r.x, r.y, r.z];\r\n\r\n\r\n\t\t\t\t\toptions.endState.rotation = utils.types.rotation(options.rotation, options.startRotation);\r\n\t\t\t\t\toptions.rotationPerMs = options.endState.rotation\r\n\t\t\t\t\t\t.map(function (angle, index) {\r\n\t\t\t\t\t\t\treturn (angle - options.startRotation[index]) / options.duration;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (scaling) {\r\n\t\t\t\t\tlet s = obj.scale;\r\n\t\t\t\t\toptions.startScale = [s.x, s.y, s.z];\r\n\t\t\t\t\toptions.endState.scale = utils.types.scale(options.scale, options.startScale);\r\n\r\n\t\t\t\t\toptions.scalePerMs = options.endState.scale\r\n\t\t\t\t\t\t.map(function (scale, index) {\r\n\t\t\t\t\t\t\treturn (scale - options.startScale[index]) / options.duration;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (translating) options.pathCurve = new THREE.CatmullRomCurve3(utils.lnglatsToWorld([obj.coordinates, options.coords]));\r\n\r\n\t\t\t\tlet entry = {\r\n\t\t\t\t\ttype: 'set',\r\n\t\t\t\t\tparameters: options\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.animationQueue\r\n\t\t\t\t\t.push(entry);\r\n\r\n\t\t\t\ttb.map.repaint = true;\r\n\t\t\t}\r\n\r\n\t\t\t//if no duration set, stop object's existing animations and go to that state immediately\r\n\t\t\telse {\r\n\t\t\t\tthis.stop();\r\n\t\t\t\toptions.rotation = utils.radify(options.rotation);\r\n\t\t\t\tthis._setObject(options);\r\n\t\t\t}\r\n\r\n\t\t\treturn this\r\n\r\n\t\t};\r\n\r\n\t\t//[jscastro] animation method, is set by update method\r\n\t\tobj.animationMethod = null;\r\n\r\n\t\t//[jscastro] stop animation and the queue\r\n\t\tobj.stop = function (index) {\r\n\t\t\tif (obj.mixer) {\r\n\t\t\t\tobj.isPlaying = false;\r\n\t\t\t\tcancelAnimationFrame(obj.animationMethod);\r\n\t\t\t}\r\n\t\t\t//TODO: if this is removed, it produces an error in \r\n\t\t\tthis.animationQueue = [];\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tobj.followPath = function (options, cb) {\r\n\r\n\t\t\tlet entry = {\r\n\t\t\t\ttype: 'followPath',\r\n\t\t\t\tparameters: utils._validate(options, defaults.followPath)\r\n\t\t\t};\r\n\r\n\t\t\tutils.extend(\r\n\t\t\t\tentry.parameters,\r\n\t\t\t\t{\r\n\t\t\t\t\tpathCurve: new THREE.CatmullRomCurve3(\r\n\t\t\t\t\t\tutils.lnglatsToWorld(options.path)\r\n\t\t\t\t\t),\r\n\t\t\t\t\tstart: Date.now(),\r\n\t\t\t\t\texpiration: Date.now() + entry.parameters.duration,\r\n\t\t\t\t\tcb: cb\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tthis.animationQueue\r\n\t\t\t\t.push(entry);\r\n\r\n\t\t\ttb.map.repaint = true;\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tobj._setObject = function (options) {\r\n\r\n\t\t\t//default scale always\r\n\t\t\tobj.setScale();\r\n\r\n\t\t\tlet p = options.position; // lnglat\r\n\t\t\tlet r = options.rotation; // radians\r\n\t\t\tlet s = options.scale; // custom scale\r\n\t\t\tlet w = options.worldCoordinates; //Vector3\r\n\t\t\tlet q = options.quaternion; // [axis, angle in rads]\r\n\t\t\tlet t = options.translate; // [jscastro] lnglat + height for 3D objects\r\n\t\t\tlet wt = options.worldTranslate; // [jscastro] Vector3 translation\r\n\r\n\t\t\tif (p) {\r\n\t\t\t\tthis.coordinates = p;\r\n\t\t\t\tlet c = utils.projectToWorld(p);\r\n\t\t\t\tthis.position.copy(c)\r\n\t\t\t}\r\n\r\n\t\t\tif (t) {\r\n\t\t\t\tthis.coordinates = [this.coordinates[0] + t[0], this.coordinates[1] + t[1], this.coordinates[2] + t[2]];\r\n\t\t\t\tlet c = utils.projectToWorld(t);\r\n\t\t\t\tthis.position.copy(c)\r\n\t\t\t\t//this.translateX(c.x);\r\n\t\t\t\t//this.translateY(c.y);\r\n\t\t\t\t//this.translateZ(c.z);\r\n\t\t\t\toptions.position = this.coordinates;\r\n\t\t\t}\r\n\r\n\t\t\tif (wt) {\r\n\t\t\t\tthis.translateX(wt.x);\r\n\t\t\t\tthis.translateY(wt.y);\r\n\t\t\t\tthis.translateZ(wt.z);\r\n\t\t\t\tlet p = utils.unprojectFromWorld(this.position);\r\n\t\t\t\tthis.coordinates = options.position = p;\r\n\t\t\t}\r\n\r\n\t\t\tif (r) {\r\n\t\t\t\tthis.rotation.set(r[0], r[1], r[2]);\r\n\t\t\t\toptions.rotation = new THREE.Vector3(r[0], r[1], r[2]);\r\n\t\t\t}\r\n\r\n\t\t\tif (s) {\r\n\t\t\t\tthis.scale.set(s[0], s[1], s[2]);\r\n\t\t\t\toptions.scale = this.scale;\r\n\t\t\t}\r\n\r\n\t\t\tif (q) {\r\n\t\t\t\tthis.quaternion.setFromAxisAngle(q[0], q[1]);\r\n\t\t\t\toptions.rotation = q[0].multiplyScalar(q[1]);\r\n\t\t\t}\r\n\r\n\t\t\tif (w) {\r\n\t\t\t\tthis.position.copy(w);\r\n\t\t\t\tlet p = utils.unprojectFromWorld(w);\r\n\t\t\t\tthis.coordinates = options.position = p;\r\n\t\t\t} \r\n\r\n\t\t\t//Each time the object is positioned, project the floor and correct shadow plane\r\n\t\t\tthis.setBoundingBoxShadowFloor();\r\n\t\t\tthis.setReceiveShadowFloor();\r\n\r\n\t\t\tthis.updateMatrixWorld();\r\n\t\t\ttb.map.repaint = true;\r\n\r\n\t\t\t//const threeTarget = new THREE.EventDispatcher();\r\n\t\t\t//threeTarget.dispatchEvent({ type: 'event', detail: { object: this, action: { position: options.position, rotation: options.rotation, scale: options.scale } } });\r\n\t\t\t// fire the ObjectChanged event to notify UI object change\r\n\t\t\tlet e = { type: 'ObjectChanged', detail: { object: this, action: { position: options.position, rotation: options.rotation, scale: options.scale } } };\r\n\t\t\tthis.dispatchEvent(e);\r\n\r\n\t\t};\r\n\r\n\t\t//[jscastro] play default animation\r\n\t\tobj.playDefault = function (options) {\r\n\t\t\tif (obj.mixer && obj.hasDefaultAnimation) {\r\n\r\n\t\t\t\tlet newParams = {\r\n\t\t\t\t\tstart: Date.now(),\r\n\t\t\t\t\texpiration: Date.now() + options.duration,\r\n\t\t\t\t\tendState: {}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tutils.extend(options, newParams);\r\n\r\n\t\t\t\tobj.mixer.timeScale = options.speed || 1;\r\n\r\n\t\t\t\tlet entry = {\r\n\t\t\t\t\ttype: 'playDefault',\r\n\t\t\t\t\tparameters: options\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.animationQueue\r\n\t\t\t\t\t.push(entry);\r\n\r\n\t\t\t\ttb.map.repaint = true\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//[jscastro] play an animation, requires options.animation as an index, if not it will play the default one\r\n\t\tobj.playAnimation = function (options) {\r\n\t\t\tif (obj.mixer) {\r\n\r\n\t\t\t\tif (options.animation) {\r\n\t\t\t\t\tsetAction(options.animation)\r\n\t\t\t\t}\r\n\t\t\t\tobj.playDefault(options);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//[jscastro] pause all actions animation\r\n\t\tobj.pauseAllActions = function () {\r\n\t\t\tif (obj.mixer) {\r\n\t\t\t\tobj.actions.forEach(function (action) {\r\n\t\t\t\t\taction.paused = true;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//[jscastro] unpause all actions\r\n\t\tobj.unPauseAllActions = function () {\r\n\t\t\tif (obj.mixer) {\r\n\t\t\t\tobj.actions.forEach(function (action) {\r\n\t\t\t\t\taction.paused = false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//[jscastro] stop all actions\r\n\t\tobj.deactivateAllActions = function () {\r\n\t\t\tif (obj.mixer) {\r\n\t\t\t\tobj.actions.forEach(function (action) {\r\n\t\t\t\t\taction.stop();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//[jscastro] play all actions\r\n\t\tobj.activateAllActions = function () {\r\n\t\t\tif (obj.mixer) {\r\n\t\t\t\tobj.actions.forEach(function (action) {\r\n\t\t\t\t\taction.play();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//[jscastro] move the model action one tick just to avoid issues with initial position\r\n\t\tobj.idle = function () {\r\n\t\t\tif (obj.mixer) {\r\n\t\t\t\t// Update the animation mixer and render this frame\r\n\t\t\t\tobj.mixer.update(0.01);\r\n\t\t\t}\r\n\t\t\ttb.map.repaint = true;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdate: function (now) {\r\n\r\n\t\tif (this.previousFrameTime === undefined) this.previousFrameTime = now;\r\n\r\n\t\tlet dimensions = ['X', 'Y', 'Z'];\r\n\r\n\t\t//[jscastro] when function expires this produces an error\r\n\t\tif (!this.enrolledObjects) return false;\r\n\r\n\t\t//iterate through objects in queue. count in reverse so we can cull objects without frame shifting\r\n\t\tfor (let a = this.enrolledObjects.length - 1; a >= 0; a--) {\r\n\r\n\t\t\tlet object = this.enrolledObjects[a];\r\n\r\n\t\t\tif (!object.animationQueue || object.animationQueue.length === 0) continue;\r\n\r\n\t\t\t//[jscastro] now multiple animations on a single object is possible\r\n\t\t\tfor (let i = object.animationQueue.length - 1; i >= 0; i--) {\r\n\r\n\t\t\t\t//focus on first item in queue\r\n\t\t\t\tlet item = object.animationQueue[i];\r\n\t\t\t\tif (!item) continue;\r\n\t\t\t\tlet options = item.parameters;\r\n\r\n\t\t\t\t// if an animation is past its expiration date, cull it\r\n\t\t\t\tif (!options.expiration) {\r\n\t\t\t\t\t// console.log('culled')\r\n\r\n\t\t\t\t\tobject.animationQueue.splice(i, 1);\r\n\r\n\t\t\t\t\t// set the start time of the next animation\r\n\t\t\t\t\tif (object.animationQueue[i]) object.animationQueue[i].parameters.start = now;\r\n\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//if finished, jump to end state and flag animation entry for removal next time around. Execute callback if there is one\r\n\t\t\t\tlet expiring = now >= options.expiration;\r\n\r\n\t\t\t\tif (expiring) {\r\n\t\t\t\t\toptions.expiration = false;\r\n\t\t\t\t\tif (item.type === 'playDefault') {\r\n\t\t\t\t\t\tobject.stop();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (options.endState) object._setObject(options.endState);\r\n\t\t\t\t\t\tif (typeof (options.cb) != 'undefined') options.cb();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse {\r\n\r\n\t\t\t\t\tlet timeProgress = (now - options.start) / options.duration;\r\n\r\n\t\t\t\t\tif (item.type === 'set') {\r\n\r\n\t\t\t\t\t\tlet objectState = {};\r\n\r\n\t\t\t\t\t\tif (options.pathCurve) objectState.worldCoordinates = options.pathCurve.getPoint(timeProgress);\r\n\r\n\t\t\t\t\t\tif (options.rotationPerMs) {\r\n\t\t\t\t\t\t\tobjectState.rotation = options.startRotation.map(function (rad, index) {\r\n\t\t\t\t\t\t\t\treturn rad + options.rotationPerMs[index] * timeProgress * options.duration\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (options.scalePerMs) {\r\n\t\t\t\t\t\t\tobjectState.scale = options.startScale.map(function (scale, index) {\r\n\t\t\t\t\t\t\t\treturn scale + options.scalePerMs[index] * timeProgress * options.duration\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tobject._setObject(objectState);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (item.type === 'followPath') {\r\n\r\n\t\t\t\t\t\tlet position = options.pathCurve.getPointAt(timeProgress);\r\n\t\t\t\t\t\tlet objectState = { worldCoordinates: position };\r\n\r\n\t\t\t\t\t\t// if we need to track heading\r\n\t\t\t\t\t\tif (options.trackHeading) {\r\n\r\n\t\t\t\t\t\t\tlet tangent = options.pathCurve\r\n\t\t\t\t\t\t\t\t.getTangentAt(timeProgress)\r\n\t\t\t\t\t\t\t\t.normalize();\r\n\r\n\t\t\t\t\t\t\tlet axis = new THREE.Vector3(0, 0, 0);\r\n\t\t\t\t\t\t\tlet up = new THREE.Vector3(0, 1, 0);\r\n\r\n\t\t\t\t\t\t\taxis\r\n\t\t\t\t\t\t\t\t.crossVectors(up, tangent)\r\n\t\t\t\t\t\t\t\t.normalize();\r\n\r\n\t\t\t\t\t\t\tlet radians = Math.acos(up.dot(tangent));\r\n\r\n\t\t\t\t\t\t\tobjectState.quaternion = [axis, radians];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tobject._setObject(objectState);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//[jscastro] play default animation\r\n\t\t\t\t\tif (item.type === 'playDefault') {\r\n\t\t\t\t\t\tobject.activateAllActions();\r\n\t\t\t\t\t\tobject.isPlaying = true;\r\n\t\t\t\t\t\tobject.animationMethod = requestAnimationFrame(this.update);\r\n\t\t\t\t\t\tobject.mixer.update(object.clock.getDelta());\r\n\t\t\t\t\t\ttb.map.repaint = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.previousFrameTime = now;\r\n\t}\r\n\r\n}\r\n\r\nconst defaults = {\r\n    followPath: {\r\n        path: null,\r\n        duration: 1000,\r\n        trackHeading: true\r\n    }\r\n}\r\nmodule.exports = exports = AnimationManager;", "/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nconst THREE = require('../three.js');\r\n\r\n(function () {\r\n\r\n\tclass CSS2DObject extends THREE.Object3D {\r\n\r\n\t\tconstructor(element) {\r\n\r\n\t\t\tsuper();\r\n\t\t\tthis.element = element || document.createElement('div');\r\n\t\t\tthis.element.style.position = 'absolute';\r\n\t\t\tthis.element.style.userSelect = 'none';\r\n\t\t\tthis.element.setAttribute('draggable', false);\r\n\r\n\t\t\t//[jscastro] some labels must be always visible\r\n\t\t\tthis.alwaysVisible = false;\r\n\r\n\t\t\t//[jscastro] layer is needed to be rendered/hidden based on layer visibility\r\n\t\t\tObject.defineProperty(this, 'layer', {\r\n\t\t\t\tget() { return (this.parent && this.parent.parent ? this.parent.parent.layer : null) }\r\n\t\t\t});\r\n\r\n\t\t\t//[jscastro] implement dispose\r\n\t\t\tthis.dispose = function () {\r\n\t\t\t\tthis.remove();\r\n\t\t\t\tthis.element = null;\r\n\t\t\t}\r\n\t\t\t//[jscastro] implement explicit method\r\n\t\t\tthis.remove = function () {\r\n\t\t\t\tif (this.element instanceof Element && this.element.parentNode !== null) {\r\n\t\t\t\t\tthis.element.parentNode.removeChild(this.element);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.addEventListener('removed', function () {\r\n\r\n\t\t\t\tthis.remove();\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tcopy(source, recursive) {\r\n\r\n\t\t\tsuper.copy(source, recursive);\r\n\t\t\tthis.element = source.element.cloneNode(true);\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tCSS2DObject.prototype.isCSS2DObject = true; //\r\n\r\n\tconst _vector = new THREE.Vector3();\r\n\r\n\tconst _viewMatrix = new THREE.Matrix4();\r\n\r\n\tconst _viewProjectionMatrix = new THREE.Matrix4();\r\n\r\n\tconst _a = new THREE.Vector3();\r\n\r\n\tconst _b = new THREE.Vector3();\r\n\r\n\tclass CSS2DRenderer {\r\n\r\n\t\tconstructor() {\r\n\r\n\t\t\tconst _this = this;\r\n\r\n\t\t\tlet _width, _height;\r\n\r\n\t\t\tlet _widthHalf, _heightHalf;\r\n\r\n\t\t\tconst cache = {\r\n\t\t\t\tobjects: new WeakMap(),\r\n\t\t\t\tlist: new Map()\r\n\t\t\t};\r\n\t\t\tthis.cacheList = cache.list;\r\n\t\t\tconst domElement = document.createElement('div');\r\n\t\t\tdomElement.style.overflow = 'hidden';\r\n\t\t\tthis.domElement = domElement;\r\n\r\n\t\t\tthis.getSize = function () {\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\twidth: _width,\r\n\t\t\t\t\theight: _height\r\n\t\t\t\t};\r\n\r\n\t\t\t};\r\n\r\n\t\t\tthis.render = function (scene, camera) {\r\n\r\n\t\t\t\tif (scene.autoUpdate === true) scene.updateMatrixWorld();\r\n\t\t\t\tif (camera.parent === null) camera.updateMatrixWorld();\r\n\r\n\t\t\t\t_viewMatrix.copy(camera.matrixWorldInverse);\r\n\r\n\t\t\t\t_viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, _viewMatrix);\r\n\r\n\t\t\t\trenderObject(scene, scene, camera);\r\n\t\t\t\tzOrder(scene);\r\n\r\n\t\t\t};\r\n\r\n\t\t\tthis.setSize = function (width, height) {\r\n\r\n\t\t\t\t_width = width;\r\n\t\t\t\t_height = height;\r\n\t\t\t\t_widthHalf = _width / 2;\r\n\t\t\t\t_heightHalf = _height / 2;\r\n\t\t\t\tdomElement.style.width = width + 'px';\r\n\t\t\t\tdomElement.style.height = height + 'px';\r\n\r\n\t\t\t};\r\n\r\n\t\t\tfunction renderObject(object, scene, camera) {\r\n\r\n\t\t\t\tif (object.isCSS2DObject) {\r\n\r\n\t\t\t\t\t//[jscastro] optimize performance and don't update and remove the labels that are not visible\r\n\t\t\t\t\tif (!object.visible) {\r\n\t\t\t\t\t\tcache.objects.delete({ key: object.uuid });\r\n\t\t\t\t\t\tcache.list.delete(object.uuid);\r\n\t\t\t\t\t\tobject.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\r\n\t\t\t\t\t\tobject.onBeforeRender(_this, scene, camera);\r\n\r\n\t\t\t\t\t\t_vector.setFromMatrixPosition(object.matrixWorld);\r\n\r\n\t\t\t\t\t\t_vector.applyMatrix4(_viewProjectionMatrix);\r\n\r\n\t\t\t\t\t\tconst element = object.element;\r\n\t\t\t\t\t\tvar style;\r\n\t\t\t\t\t\tif (/apple/i.test(navigator.vendor)) {\r\n\r\n\t\t\t\t\t\t\t// https://github.com/mrdoob/three.js/issues/21415\r\n\t\t\t\t\t\t\tstyle = 'translate(-50%,-50%) translate(' + Math.round(_vector.x * _widthHalf + _widthHalf) + 'px,' + Math.round(- _vector.y * _heightHalf + _heightHalf) + 'px)';\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tstyle = 'translate(-50%,-50%) translate(' + (_vector.x * _widthHalf + _widthHalf) + 'px,' + (- _vector.y * _heightHalf + _heightHalf) + 'px)';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\telement.style.WebkitTransform = style;\r\n\t\t\t\t\t\telement.style.MozTransform = style;\r\n\t\t\t\t\t\telement.style.oTransform = style;\r\n\t\t\t\t\t\telement.style.transform = style;\r\n\r\n\t\t\t\t\t\telement.style.display = object.visible && _vector.z >= - 1 && _vector.z <= 1 ? '' : 'none';\r\n\r\n\t\t\t\t\t\tconst objectData = {\r\n\t\t\t\t\t\t\tdistanceToCameraSquared: getDistanceToSquared(camera, object)\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tcache.objects.set({ key: object.uuid }, objectData);\r\n\t\t\t\t\t\tcache.list.set(object.uuid, object);\r\n\r\n\t\t\t\t\t\tif (element.parentNode !== domElement) {\r\n\r\n\t\t\t\t\t\t\tdomElement.appendChild(element);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tobject.onAfterRender(_this, scene, camera);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (let i = 0, l = object.children.length; i < l; i++) {\r\n\r\n\t\t\t\t\trenderObject(object.children[i], scene, camera);\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getDistanceToSquared(object1, object2) {\r\n\r\n\t\t\t\t_a.setFromMatrixPosition(object1.matrixWorld);\r\n\r\n\t\t\t\t_b.setFromMatrixPosition(object2.matrixWorld);\r\n\r\n\t\t\t\treturn _a.distanceToSquared(_b);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction filterAndFlatten(scene) {\r\n\r\n\t\t\t\tconst result = [];\r\n\t\t\t\tscene.traverse(function (object) {\r\n\r\n\t\t\t\t\tif (object.isCSS2DObject) result.push(object);\r\n\r\n\t\t\t\t});\r\n\t\t\t\treturn result;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction zOrder(scene) {\r\n\r\n\t\t\t\tconst sorted = filterAndFlatten(scene).sort(function (a, b) {\r\n\t\t\t\t\t//[jscastro] check the objects already exist in the cache\r\n\t\t\t\t\tlet cacheA = cache.objects.get({ key: a.uuid });\r\n\t\t\t\t\tlet cacheB = cache.objects.get({ key: b.uuid });\r\n\r\n\t\t\t\t\tif (cacheA && cacheB) {\r\n\t\t\t\t\t\tconst distanceA = cacheA.distanceToCameraSquared;\r\n\t\t\t\t\t\tconst distanceB = cacheB.distanceToCameraSquared;\r\n\t\t\t\t\t\treturn distanceA - distanceB;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconst zMax = sorted.length;\r\n\r\n\t\t\t\tfor (let i = 0, l = sorted.length; i < l; i++) {\r\n\r\n\t\t\t\t\tsorted[i].element.style.zIndex = zMax - i;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tTHREE.CSS2DObject = CSS2DObject;\r\n\tTHREE.CSS2DRenderer = CSS2DRenderer;\r\n\r\n})();\r\n\r\nmodule.exports = exports = { CSS2DRenderer: THREE.CSS2DRenderer, CSS2DObject: THREE.CSS2DObject };\r\n\r\n", "/**\r\n * @author peterqliu / https://github.com/peterqliu\r\n * @author jscastro / https://github.com/jscastro76\r\n */\r\nconst utils = require(\"../utils/utils.js\");\r\nconst material = require(\"../utils/material.js\");\r\nconst THREE = require('../three.js');\r\nconst AnimationManager = require(\"../animation/AnimationManager.js\");\r\nconst CSS2D = require(\"./CSS2DRenderer.js\");\r\n\r\nfunction Objects(){\r\n\r\n}\r\n\r\nObjects.prototype = {\r\n\r\n\t// standard 1px line with gl\r\n\tline: function (obj) {\r\n\r\n\t\tobj = utils._validate(obj, this._defaults.line);\r\n\r\n\t\t//project to world and normalize\r\n\t\tvar straightProject = utils.lnglatsToWorld(obj.geometry);\r\n\t\tvar normalized = utils.normalizeVertices(straightProject);\r\n\r\n\t\t//flatten array for buffergeometry\r\n\t\tvar flattenedArray = utils.flattenVectors(normalized.vertices);\r\n\r\n\t\tvar positions = new Float32Array(flattenedArray); // 3 vertices per point\r\n\t\tvar geometry = new THREE.BufferGeometry();\r\n\t\tgeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\r\n\r\n\t\t// material\r\n\t\tvar material = new THREE.LineBasicMaterial({ color: 0xff0000, linewidth: 21 });\r\n\t\tvar line = new THREE.Line(geometry, material);\r\n\r\n\t\tline.options = options || {};\r\n\t\tline.position.copy(normalized.position)\r\n\r\n\t\treturn line\r\n\t},\r\n\r\n\textrusion: function (options) {\r\n\r\n\t},\r\n\r\n\tunenroll: function (obj, isStatic) {\r\n\t\tvar root = this;\r\n\r\n\t\tif (isStatic) {\r\n\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\t// Bestow this mesh with animation superpowers and keeps track of its movements in the global animation queue\t\t\t\r\n\t\t\troot.animationManager.unenroll(obj);\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_addMethods: function (obj, isStatic) {\r\n\r\n\t\tvar root = this;\r\n\t\tconst labelName = \"label\";\r\n\t\tconst tooltipName = \"tooltip\";\r\n\t\tconst helpName = \"help\";\r\n\t\tconst shadowPlane = \"shadowPlane\";\r\n\r\n\t\tif (isStatic) {\r\n\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tif (!obj.coordinates) obj.coordinates = [0, 0, 0];\r\n\r\n\t\t\t//[jscastro] added property for the internal 3D model\r\n\t\t\tObject.defineProperty(obj, 'model', {\r\n\t\t\t\tget() {\r\n\t\t\t\t\treturn obj.getObjectByName(\"model\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tlet _animations;\r\n\t\t\t//[jscastro] added property for the internal 3D model\r\n\t\t\tObject.defineProperty(obj, 'animations', {\r\n\t\t\t\tget() {\r\n\t\t\t\t\tconst model = obj.model;\r\n\t\t\t\t\tif (model) {\r\n\t\t\t\t\t\treturn model.animations\r\n\t\t\t\t\t} else return null;\r\n\t\t\t\t},\r\n\t\t\t\t//set(value) { _animations = value}\r\n\t\t\t});\r\n\r\n\t\t\t// Bestow this mesh with animation superpowers and keeps track of its movements in the global animation queue\t\t\t\r\n\t\t\troot.animationManager.enroll(obj);\r\n\r\n\t\t\t// Place an object on the map at the given lnglat \r\n\t\t\tobj.setCoords = function (lnglat) {\r\n\r\n\t\t\t\t// CSS2DObjects could bring an specific vertical positioning to correct in units\r\n\t\t\t\tif (obj.userData.topMargin && obj.userData.feature) {\r\n\t\t\t\t\tlnglat[2] += ((obj.userData.feature.properties.height || 0) - (obj.userData.feature.properties.base_height || obj.userData.feature.properties.min_height || 0)) * (obj.userData.topMargin || 0);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tobj.coordinates = lnglat;\r\n\t\t\t\tobj.set({ position: lnglat });\r\n\t\t\t\treturn obj;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobj.setTranslate = function (lnglat) {\r\n\r\n\t\t\t\tobj.set({ translate: lnglat });\r\n\t\t\t\treturn obj;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobj.setRotation = function (xyz) {\r\n\r\n\t\t\t\tif (typeof xyz === 'number') xyz = { z: xyz }\r\n\r\n\t\t\t\tvar r = {\r\n\t\t\t\t\tx: utils.radify(xyz.x) || obj.rotation.x,\r\n\t\t\t\t\ty: utils.radify(xyz.y) || obj.rotation.y,\r\n\t\t\t\t\tz: utils.radify(xyz.z) || obj.rotation.z\r\n\t\t\t\t}\r\n\r\n\t\t\t\tobj._setObject({ rotation: [r.x, r.y, r.z] })\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] added method to adjust 3D models to their issues with center position for rotation\r\n\t\t\tobj.calculateAdjustedPosition = function (lnglat, xyz, inverse) {\r\n\r\n\t\t\t\tlet location = lnglat.slice();\r\n\r\n\t\t\t\t//we convert the units to Long/Lat/Height\r\n\t\t\t\tlet newCoords = utils.unprojectFromWorld(obj.modelSize);\r\n\r\n\t\t\t\tif (inverse) {\r\n\t\t\t\t\t//each model will have different adjustment attributes, we add them for x, y, z\r\n\t\t\t\t\tlocation[0] -= (xyz.x != 0 ? (newCoords[0] / xyz.x) : 0);\r\n\t\t\t\t\tlocation[1] -= (xyz.y != 0 ? (newCoords[1] / xyz.y) : 0);\r\n\t\t\t\t\tlocation[2] -= (xyz.z != 0 ? (newCoords[2] / xyz.z) : 0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//each model will have different adjustment attributes, we add them for x, y, z\r\n\t\t\t\t\tlocation[0] += (xyz.x != 0 ? (newCoords[0] / xyz.x) : 0);\r\n\t\t\t\t\tlocation[1] += (xyz.y != 0 ? (newCoords[1] / xyz.y) : 0);\r\n\t\t\t\t\tlocation[2] += (xyz.z != 0 ? (newCoords[2] / xyz.z) : 0);\r\n\r\n\t\t\t\t}\r\n\t\t\t\treturn location;\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] added method to rotate on objects on an axis instead of centers\r\n\t\t\tobj.setRotationAxis = function (xyz) {\r\n\t\t\t\tif (typeof xyz === 'number') xyz = { z: xyz }\r\n\r\n\t\t\t\tlet bb = obj.modelBox();\r\n\r\n\t\t\t\tlet point = new THREE.Vector3(bb.max.x, bb.max.y, bb.min.z);\r\n\t\t\t\t//apply Axis rotation on angle\r\n\t\t\t\tif (xyz.x != 0) _applyAxisAngle(obj, point, new THREE.Vector3(0, 0, 1), xyz.x);\r\n\t\t\t\tif (xyz.y != 0) _applyAxisAngle(obj, point, new THREE.Vector3(0, 0, 1), xyz.y);\r\n\t\t\t\tif (xyz.z != 0) _applyAxisAngle(obj, point, new THREE.Vector3(0, 0, 1), xyz.z);\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] Auxiliar method to rotate an object on an axis\r\n\t\t\tfunction _applyAxisAngle(model, point, axis, degrees) {\r\n\t\t\t\tlet theta = utils.radify(degrees);\r\n\t\t\t\tmodel.position.sub(point); // remove the offset\r\n\t\t\t\tmodel.position.applyAxisAngle(axis, theta); // rotate the POSITION\r\n\t\t\t\tmodel.position.add(point); // re-add the offset\r\n\t\t\t\tmodel.rotateOnAxis(axis, theta)\r\n\r\n\t\t\t\ttb.map.repaint = true;\r\n\t\t\t}\r\n\r\n\r\n\t\t\t//[jscastro] added property for scaled group inside threeboxObject\r\n\t\t\tObject.defineProperty(obj, 'scaleGroup', {\r\n\t\t\t\tget() {\r\n\t\t\t\t\treturn obj.getObjectByName(\"scaleGroup\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t//[jscastro] added property for boundingBox group helper\r\n\t\t\tObject.defineProperty(obj, 'boxGroup', {\r\n\t\t\t\tget() {\r\n\t\t\t\t\treturn obj.getObjectByName(\"boxGroup\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t//[jscastro] added property for boundingBox helper\r\n\t\t\tObject.defineProperty(obj, 'boundingBox', {\r\n\t\t\t\tget() {\r\n\t\t\t\t\treturn obj.getObjectByName(\"boxModel\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tlet _boundingBoxShadow;\r\n\t\t\t//[jscastro] added property for boundingBox shadow helper\r\n\t\t\tObject.defineProperty(obj, 'boundingBoxShadow', {\r\n\t\t\t\tget() {\r\n\t\t\t\t\treturn obj.getObjectByName(\"boxShadow\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t//[jscastro] added method to create a bounding box and a shadow box\r\n\t\t\tobj.drawBoundingBox = function () {\r\n\t\t\t\t//let's create 2 wireframes, one for the object and one to project on the floor position\r\n\t\t\t\tlet bb = obj.box3();\r\n\t\t\t\t//create the group to return\r\n\t\t\t\tlet boxGroup = new THREE.Group();\r\n\t\t\t\tboxGroup.name = \"boxGroup\";\r\n\t\t\t\tboxGroup.updateMatrixWorld(true);\r\n\t\t\t\tlet boxModel = new THREE.Box3Helper(bb, Objects.prototype._defaults.colors.yellow);\r\n\t\t\t\tboxModel.name = \"boxModel\";\r\n\t\t\t\tboxGroup.add(boxModel);\r\n\t\t\t\tboxModel.layers.disable(0); // it makes the object invisible for the raycaster\r\n\t\t\t\t//obj.boundingBox = boxModel;\r\n\r\n\t\t\t\t//it needs to clone, to avoid changing the object by reference\r\n\t\t\t\tlet bb2 = bb.clone();\r\n\t\t\t\t//we make the second box flat and at the floor height level\r\n\t\t\t\tbb2.max.z = bb2.min.z;\r\n\t\t\t\tlet boxShadow = new THREE.Box3Helper(bb2, Objects.prototype._defaults.colors.black);\r\n\t\t\t\tboxShadow.name = \"boxShadow\";\r\n\r\n\t\t\t\tboxGroup.add(boxShadow);\r\n\t\t\t\tboxShadow.layers.disable(0); // it makes the object invisible for the raycaster\r\n\t\t\t\t//obj.boundingBoxShadow = boxShadow;\r\n\r\n\t\t\t\tboxGroup.visible = false; // visibility is managed from the parent\r\n\t\t\t\tobj.scaleGroup.add(boxGroup);\r\n\t\t\t\tobj.setBoundingBoxShadowFloor();\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] added method to position the shadow box on the floor depending the object height\r\n\t\t\tobj.setBoundingBoxShadowFloor = function () {\r\n\t\t\t\tif (obj.boundingBoxShadow) {\r\n\t\t\t\t\tlet h = -obj.modelHeight, r = obj.rotation, o = obj.boundingBoxShadow;\r\n\t\t\t\t\to.box.max.z = o.box.min.z = h;\r\n\t\t\t\t\to.rotation.y = r.y;\r\n\t\t\t\t\to.rotation.x = -r.x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] Set the positional and pivotal anchor automatically from string param  \r\n\t\t\tobj.setAnchor = function (anchor) {\r\n\t\t\t\tconst b = obj.box3();\r\n\t\t\t\t//const size = b.getSize(new THREE.Vector3());\r\n\t\t\t\tconst c = b.getCenter(new THREE.Vector3());\r\n\t\t\t\tobj.none = { x: 0, y: 0, z: 0 };\r\n\t\t\t\tobj.center = { x: c.x, y: c.y, z: b.min.z };\r\n\t\t\t\tobj.bottom = { x: c.x, y: b.max.y, z: b.min.z };\r\n\t\t\t\tobj.bottomLeft = { x: b.max.x, y: b.max.y, z: b.min.z };\r\n\t\t\t\tobj.bottomRight = { x: b.min.x, y: b.max.y, z: b.min.z };\r\n\t\t\t\tobj.top = { x: c.x, y: b.min.y, z: b.min.z };\r\n\t\t\t\tobj.topLeft = { x: b.max.x, y: b.min.y, z: b.min.z };\r\n\t\t\t\tobj.topRight = { x: b.min.x, y: b.min.y, z: b.min.z };\r\n\t\t\t\tobj.left = { x: b.max.x, y: c.y, z: b.min.z };\r\n\t\t\t\tobj.right = { x: b.min.x, y: c.y, z: b.min.z };\r\n\r\n\t\t\t\tswitch (anchor) {\r\n\t\t\t\t\tcase 'center':\r\n\t\t\t\t\t\tobj.anchor = obj.center;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'top':\r\n\t\t\t\t\t\tobj.anchor = obj.top;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'top-left':\r\n\t\t\t\t\t\tobj.anchor = obj.topLeft;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'top-right':\r\n\t\t\t\t\t\tobj.anchor = obj.topRight;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'left':\r\n\t\t\t\t\t\tobj.anchor = obj.left;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'right':\r\n\t\t\t\t\t\tobj.anchor = obj.right;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'bottom':\r\n\t\t\t\t\t\tobj.anchor = obj.bottom;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'bottom-left':\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tobj.anchor = obj.bottomLeft;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'bottom-right':\r\n\t\t\t\t\t\tobj.anchor = obj.bottomRight;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'auto':\r\n\t\t\t\t\tcase 'none':\r\n\t\t\t\t\t\tobj.anchor = obj.none;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tobj.model.position.set(-obj.anchor.x, -obj.anchor.y, -obj.anchor.z);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] Set the positional and pivotal anchor based on (x, y, z) size units\r\n\t\t\tobj.setCenter = function (center) {\r\n\t\t\t\t//[jscastro] if the object options have an adjustment to center the 3D Object different to 0\r\n\t\t\t\tif (center && (center.x != 0 || center.y != 0 || center.z != 0)) {\r\n\t\t\t\t\tlet size = obj.getSize();\r\n\t\t\t\t\tobj.anchor = { x: obj.anchor.x - (size.x * center.x), y: obj.anchor.y - (size.y * center.y), z: obj.anchor.z - (size.z * center.z) };\r\n\t\t\t\t\tobj.model.position.set(-obj.anchor.x, -obj.anchor.y, -obj.anchor.z)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] added property for simulated label\r\n\t\t\tObject.defineProperty(obj, 'label', {\r\n\t\t\t\tget() { return obj.getObjectByName(labelName); }\r\n\t\t\t});\r\n\r\n\t\t\t//[jscastro] added property for simulated tooltip\r\n\t\t\tObject.defineProperty(obj, 'tooltip', {\r\n\t\t\t\tget() { return obj.getObjectByName(tooltipName); }\r\n\t\t\t});\r\n\r\n\t\t\t//[jscastro] added property for help\r\n\t\t\tObject.defineProperty(obj, 'help', {\r\n\t\t\t\tget() { return obj.getObjectByName(helpName); }\r\n\t\t\t});\r\n\r\n\t\t\tlet _hidden = false;\r\n\t\t\t//[jscastro] added property for explicitely hidden object to avoid zoom layer behavior\r\n\t\t\tObject.defineProperty(obj, 'hidden', {\r\n\t\t\t\tget() { return _hidden; },\r\n\t\t\t\tset(value) {\r\n\t\t\t\t\tif (_hidden != value) {\r\n\t\t\t\t\t\t_hidden = value;\r\n\t\t\t\t\t\tobj.visibility = !_hidden;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//[jscastro] added property to redefine visible, including the label and tooltip\r\n\t\t\tObject.defineProperty(obj, 'visibility', {\r\n\t\t\t\tget() { return obj.visible; },\r\n\t\t\t\tset(value) {\r\n\t\t\t\t\tlet _value = value;\r\n\t\t\t\t\tif (value == 'visible' || value == true) {\r\n\t\t\t\t\t\t_value = true;\r\n\t\t\t\t\t\tif (obj.label) obj.label.visible = _value;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (value == 'none' || value == false) {\r\n\t\t\t\t\t\t_value = false;\r\n\t\t\t\t\t\tif (obj.label && obj.label.alwaysVisible) obj.label.visible = _value;\r\n\t\t\t\t\t\tif (obj.tooltip) obj.tooltip.visible = _value;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse return;\r\n\t\t\t\t\tif (obj.visible != _value) {\r\n\t\t\t\t\t\tif (obj.hidden && _value) return;\r\n\r\n\t\t\t\t\t\tobj.visible = _value;\r\n\r\n\t\t\t\t\t\tif (obj.model) {\r\n\t\t\t\t\t\t\tobj.model.traverse(function (c) {\r\n\t\t\t\t\t\t\t\tif (c.type == \"Mesh\" || c.type == \"SkinnedMesh\") {\r\n\t\t\t\t\t\t\t\t\tif (_value && obj.raycasted) {\r\n\t\t\t\t\t\t\t\t\t\tc.layers.enable(0); //this makes the meshes visible for raycast\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tc.layers.disable(0); //this makes the meshes invisible for raycast\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (c.type == \"LineSegments\") {\r\n\t\t\t\t\t\t\t\t\tc.layers.disableAll();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//[jscastro] add CSS2 label method \r\n\t\t\tobj.addLabel = function (HTMLElement, visible, center, height) {\r\n\t\t\t\tif (HTMLElement) {\r\n\t\t\t\t\t//we add it to the first children to get same boxing and position\r\n\t\t\t\t\t//obj.children[0].add(obj.drawLabel(text, height));\r\n\t\t\t\t\tobj.drawLabelHTML(HTMLElement, visible, center, height);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] remove CSS2 label method \r\n\t\t\tobj.removeLabel = function () {\r\n\t\t\t\tobj.removeCSS2D(labelName);\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] draw label method can be invoked separately\r\n\t\t\tobj.drawLabelHTML = function (HTMLElement, visible = false, center = obj.anchor, height = 0.5) {\r\n\t\t\t\tlet divLabel = root.drawLabelHTML(HTMLElement, Objects.prototype._defaults.label.cssClass);\r\n\t\t\t\tlet label = obj.addCSS2D(divLabel, labelName, center, height) //label.position.set(((-size.x * 0.5) - obj.model.position.x - center.x + bottomLeft.x), ((-size.y * 0.5) - obj.model.position.y - center.y + bottomLeft.y), size.z * 0.5); //middle-centered\r\n\t\t\t\tlabel.alwaysVisible = visible;\r\n\t\t\t\tlabel.visible = visible;\r\n\t\t\t\treturn label;\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] add tooltip method \r\n\t\t\tobj.addTooltip = function (tooltipText, mapboxStyle, center, custom = true, height = 1) {\r\n\t\t\t\tlet t = obj.addHelp(tooltipText, tooltipName, mapboxStyle, center, height);\r\n\t\t\t\tt.visible = false;\r\n\t\t\t\tt.custom = custom;\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] remove CSS2 tooltip method\r\n\t\t\tobj.removeTooltip = function () {\r\n\t\t\t\tobj.removeCSS2D(tooltipName);\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] add tooltip method \r\n\t\t\tobj.addHelp = function (helpText, objName = helpName, mapboxStyle = false, center = obj.anchor, height = 0) {\r\n\t\t\t\tlet divHelp = root.drawTooltip(helpText, mapboxStyle);\r\n\t\t\t\tlet h = obj.addCSS2D(divHelp, objName, center, height);\r\n\t\t\t\th.visible = true;\r\n\t\t\t\treturn h;\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] remove CSS2 tooltip method\r\n\t\t\tobj.removeHelp = function () {\r\n\t\t\t\tobj.removeCSS2D(helpName);\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] add CSS2D help method \r\n\t\t\tobj.addCSS2D = function (element, objName, center = obj.anchor, height = 1) {\r\n\t\t\t\tif (element) {\r\n\t\t\t\t\tconst box = obj.box3();\r\n\t\t\t\t\tconst size = box.getSize(new THREE.Vector3());\r\n\t\t\t\t\tlet bottomLeft = { x: box.max.x, y: box.max.y, z: box.min.z };\r\n\t\t\t\t\tobj.removeCSS2D(objName);\r\n\t\t\t\t\tlet c = new CSS2D.CSS2DObject(element);\r\n\t\t\t\t\tc.name = objName;\r\n\t\t\t\t\tc.position.set(((-size.x * 0.5) - obj.model.position.x - center.x + bottomLeft.x), ((-size.y * 0.5) - obj.model.position.y - center.y + bottomLeft.y), size.z * height); \r\n\t\t\t\t\tc.visible = false; //only visible on mouseover or selected\r\n\t\t\t\t\tobj.scaleGroup.add(c);\r\n\t\t\t\t\treturn c;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] remove CSS2 help method\r\n\t\t\tobj.removeCSS2D = function (objName) {\r\n\t\t\t\tlet css2D = obj.getObjectByName(objName);\r\n\t\t\t\tif (css2D) {\r\n\t\t\t\t\tcss2D.dispose();\r\n\t\t\t\t\tlet g = obj.scaleGroup.children;\r\n\t\t\t\t\tg.splice(g.indexOf(css2D), 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] added property for help\r\n\t\t\tObject.defineProperty(obj, 'shadowPlane', {\r\n\t\t\t\tget() { return obj.getObjectByName(shadowPlane); }\r\n\t\t\t});\r\n\r\n\t\t\tlet _castShadow = false;\r\n\t\t\t//[jscastro] added property for traverse an object to cast a shadow\r\n\t\t\tObject.defineProperty(obj, 'castShadow', {\r\n\t\t\t\tget() { return _castShadow; },\r\n\t\t\t\tset(value) {\r\n\t\t\t\t\tif (!obj.model || _castShadow === value) return;\r\n\r\n\t\t\t\t\tobj.model.traverse(function (c) {\r\n\t\t\t\t\t\tif (c.isMesh) c.castShadow = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (value) {\r\n\t\t\t\t\t\t// we add the shadow plane automatically \r\n\t\t\t\t\t\tconst s = obj.modelSize;\r\n\t\t\t\t\t\tconst sz = [s.x, s.y, s.z, obj.modelHeight];\r\n\t\t\t\t\t\tconst pSize = Math.max(...sz) * 10;\r\n\t\t\t\t\t\tconst pGeo = new THREE.PlaneBufferGeometry(pSize, pSize);\r\n\t\t\t\t\t\tconst pMat = new THREE.ShadowMaterial();\r\n\t\t\t\t\t\t//const pMat = new THREE.MeshStandardMaterial({ color: 0x660000 });\r\n\t\t\t\t\t\tpMat.opacity = 0.5;\r\n\t\t\t\t\t\tlet p = new THREE.Mesh(pGeo, pMat);\r\n\t\t\t\t\t\tp.name = shadowPlane;\r\n\t\t\t\t\t\tp.layers.enable(1); p.layers.disable(0); // it makes the object invisible for the raycaster\r\n\t\t\t\t\t\tp.receiveShadow = value;\r\n\t\t\t\t\t\tobj.add(p);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// or we remove it \r\n\t\t\t\t\t\tobj.traverse(function (c) {\r\n\t\t\t\t\t\t\tif (c.isMesh && c.material instanceof THREE.ShadowMaterial)\r\n\t\t\t\t\t\t\t\tobj.remove(c);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_castShadow = value;\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t//[jscastro] added method to position the shadow box on the floor depending the object height\r\n\t\t\tobj.setReceiveShadowFloor = function () {\r\n\t\t\t\tif (obj.castShadow) {\r\n\t\t\t\t\tlet sp = obj.shadowPlane, p = sp.position, r = sp.rotation;\r\n\t\t\t\t\tp.z = -obj.modelHeight;\r\n\t\t\t\t\tr.y = obj.rotation.y;\r\n\t\t\t\t\tr.x = -obj.rotation.x;\r\n\t\t\t\t\tif (obj.userData.units === 'meters') {\r\n\t\t\t\t\t\tconst s = obj.modelSize;\r\n\t\t\t\t\t\tconst sz = [s.x, s.y, s.z, -p.z];\r\n\t\t\t\t\t\tconst ps = Math.max(...sz) * 10;\r\n\t\t\t\t\t\tconst sc = ps / sp.geometry.parameters.width;\r\n\t\t\t\t\t\tsp.scale.set(sc, sc, sc);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet _receiveShadow = false;\r\n\t\t\t//[jscastro] added property for traverse an object to receive a shadow\r\n\t\t\tObject.defineProperty(obj, 'receiveShadow', {\r\n\t\t\t\tget() { return _receiveShadow; },\r\n\t\t\t\tset(value) {\r\n\t\t\t\t\tif (!obj.model || _receiveShadow === value) return;\r\n\t\t\t\t\tobj.model.traverse(function (c) {\r\n\t\t\t\t\t\tif (c.isMesh) c.receiveShadow = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_receiveShadow = value;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tlet _wireframe = false;\r\n\t\t\t//[jscastro] added property for wireframes state\r\n\t\t\tObject.defineProperty(obj, 'wireframe', {\r\n\t\t\t\tget() { return _wireframe; },\r\n\t\t\t\tset(value) {\r\n\t\t\t\t\tif (!obj.model || _wireframe === value) return;\r\n\t\t\t\t\tobj.model.traverse(function (c) {\r\n\t\t\t\t\t\tif (c.type == \"Mesh\" || c.type == \"SkinnedMesh\") {\r\n\t\t\t\t\t\t\tlet materials = [];\r\n\t\t\t\t\t\t\tif (!Array.isArray(c.material)) {\r\n\t\t\t\t\t\t\t\tmaterials.push(c.material);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tmaterials = c.material;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet m = materials[0];\r\n\t\t\t\t\t\t\tif (value) {\r\n\t\t\t\t\t\t\t\tc.userData.materials = m;\r\n\t\t\t\t\t\t\t\tc.material = m.clone();\r\n\t\t\t\t\t\t\t\tc.material.wireframe = c.material.transparent = value;\r\n\t\t\t\t\t\t\t\tc.material.opacity = 0.3;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tc.material.dispose();\r\n\t\t\t\t\t\t\t\tc.material = c.userData.materials;\r\n\t\t\t\t\t\t\t\tc.userData.materials.dispose();\r\n\t\t\t\t\t\t\t\tc.userData.materials = null;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (value) { c.layers.disable(0); c.layers.enable(1); } else { c.layers.disable(1); c.layers.enable(0); }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (c.type == \"LineSegments\") {\r\n\t\t\t\t\t\t\tc.layers.disableAll();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_wireframe = value;\r\n\t\t\t\t\t// Dispatch new event WireFramed\r\n\t\t\t\t\tobj.dispatchEvent({ type: 'Wireframed', detail: obj });\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tlet _color = null;\r\n\t\t\t//[jscastro] added property for wireframes state\r\n\t\t\tObject.defineProperty(obj, 'color', {\r\n\t\t\t\tget() { return _color; },\r\n\t\t\t\tset(value) {\r\n\t\t\t\t\tif (!obj.model || _color === value) return;\r\n\t\t\t\t\tobj.model.traverse(function (c) {\r\n\t\t\t\t\t\tif (c.type == \"Mesh\" || c.type == \"SkinnedMesh\") {\r\n\t\t\t\t\t\t\tlet materials = [];\r\n\t\t\t\t\t\t\tif (!Array.isArray(c.material)) {\r\n\t\t\t\t\t\t\t\tmaterials.push(c.material);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tmaterials = c.material;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet m = materials[0];\r\n\t\t\t\t\t\t\tif (value) {\r\n\t\t\t\t\t\t\t\tc.userData.materials = m;\r\n\t\t\t\t\t\t\t\tc.material = new THREE.MeshStandardMaterial();\r\n\t\t\t\t\t\t\t\tc.material.color.setHex(value);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tc.material.dispose();\r\n\t\t\t\t\t\t\t\tc.material = c.userData.materials;\r\n\t\t\t\t\t\t\t\tc.userData.materials.dispose();\r\n\t\t\t\t\t\t\t\tc.userData.materials = null;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_color = value;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\r\n\t\t\tlet _selected = false;\r\n\t\t\t//[jscastro] added property for selected state\r\n\t\t\tObject.defineProperty(obj, 'selected', {\r\n\t\t\t\tget() { return _selected; },\r\n\t\t\t\tset(value) {\r\n\t\t\t\t\tif (value) {\r\n\t\t\t\t\t\tif (obj.userData.bbox && !obj.boundingBox) obj.drawBoundingBox();\r\n\t\t\t\t\t\tif (obj.boxGroup) {\r\n\t\t\t\t\t\t\tobj.boundingBox.material = Objects.prototype._defaults.materials.boxSelectedMaterial;\r\n\t\t\t\t\t\t\tobj.boundingBox.parent.visible = true;\r\n\t\t\t\t\t\t\tobj.boundingBox.layers.enable(1);\r\n\t\t\t\t\t\t\tobj.boundingBoxShadow.layers.enable(1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (obj.label && !obj.label.alwaysVisible) obj.label.visible = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (obj.boxGroup) {\r\n\t\t\t\t\t\t\tobj.remove(obj.boxGroup); //remove the box group\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (obj.label && !obj.label.alwaysVisible) obj.label.visible = false;\r\n\t\t\t\t\t\tobj.removeHelp();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (obj.tooltip) obj.tooltip.visible = value;\r\n\t\t\t\t\t//only fire the event if value is different\r\n\t\t\t\t\tif (_selected != value) {\r\n\t\t\t\t\t\t_selected = value;\r\n\t\t\t\t\t\t// Dispatch new event SelectedChange\r\n\t\t\t\t\t\tobj.dispatchEvent({ type: 'SelectedChange', detail: obj });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tlet _raycasted = true;\r\n\t\t\t//[jscastro] added property for including/excluding an object from raycast\r\n\t\t\tObject.defineProperty(obj, 'raycasted', {\r\n\t\t\t\tget() { return _raycasted; },\r\n\t\t\t\tset(value) {\r\n\t\t\t\t\tif (!obj.model || _raycasted === value) return;\r\n\t\t\t\t\tobj.model.traverse(function (c) {\r\n\t\t\t\t\t\tif (c.type == \"Mesh\" || c.type == \"SkinnedMesh\") {\r\n\t\t\t\t\t\t\tif (!value) { c.layers.disable(0); c.layers.enable(1); } else { c.layers.disable(1); c.layers.enable(0); }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_raycasted = value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tlet _over = false;\r\n\t\t\t//[jscastro] added property for over state\r\n\t\t\tObject.defineProperty(obj, 'over', {\r\n\t\t\t\tget() { return _over; },\r\n\t\t\t\tset(value) {\r\n\t\t\t\t\tif (value) {\r\n\t\t\t\t\t\tif (!obj.selected) {\r\n\t\t\t\t\t\t\tif (obj.userData.bbox && !obj.boundingBox) obj.drawBoundingBox();\r\n\t\t\t\t\t\t\tif (obj.userData.tooltip && !obj.tooltip) obj.addTooltip(obj.uuid, true, obj.anchor, false);\r\n\t\t\t\t\t\t\tif (obj.boxGroup) {\r\n\t\t\t\t\t\t\t\tobj.boundingBox.material = Objects.prototype._defaults.materials.boxOverMaterial;\r\n\t\t\t\t\t\t\t\tobj.boundingBox.parent.visible = true;\r\n\t\t\t\t\t\t\t\tobj.boundingBox.layers.enable(1);\r\n\t\t\t\t\t\t\t\tobj.boundingBoxShadow.layers.enable(1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (obj.label && !obj.label.alwaysVisible) { obj.label.visible = true; }\r\n\t\t\t\t\t\t// Dispatch new event ObjectOver\r\n\t\t\t\t\t\tobj.dispatchEvent({ type: 'ObjectMouseOver', detail: obj });\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (!obj.selected) {\r\n\t\t\t\t\t\t\tif (obj.boxGroup) {\r\n\t\t\t\t\t\t\t\tobj.remove(obj.boxGroup); //remove the box group\r\n\t\t\t\t\t\t\t\tif (obj.tooltip && !obj.tooltip.custom) obj.removeTooltip();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (obj.label && !obj.label.alwaysVisible) { obj.label.visible = false; }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Dispatch new event ObjectOver\r\n\t\t\t\t\t\tobj.dispatchEvent({ type: 'ObjectMouseOut', detail: obj });\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (obj.tooltip) obj.tooltip.visible = value || obj.selected;\r\n\t\t\t\t\t_over = value;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t//[jscastro] get the object model Box3 in runtime\r\n\t\t\tobj.box3 = function () {\r\n\t\t\t\t//update Matrix and MatrixWorld to avoid issues with transformations not full applied\r\n\t\t\t\tobj.updateMatrix();\r\n\t\t\t\tobj.updateMatrixWorld(true, true);\r\n\t\t\t\tlet bounds;\r\n\t\t\t\t//clone also the model inside it's the one who keeps the real size\r\n\t\t\t\tif (obj.model) {\r\n\t\t\t\t\t//let's clone the object before manipulate it\r\n\t\t\t\t\tlet dup = obj.clone(true);\r\n\t\t\t\t\tlet model = obj.model.clone();\r\n\t\t\t\t\t//get the size of the model because the object is translated and has boundingBoxShadow\r\n\t\t\t\t\tbounds = new THREE.Box3().setFromObject(model);\r\n\t\t\t\t\t//if the object has parent it's already in the added to world so it's scaled and it could be rotated\r\n\t\t\t\t\tif (obj.parent) {\r\n\t\t\t\t\t\t//first, we return the object to it's original position of rotation, extract rotation and apply inversed\r\n\t\t\t\t\t\tlet rm = new THREE.Matrix4();\r\n\t\t\t\t\t\tlet rmi = new THREE.Matrix4();\r\n\t\t\t\t\t\tobj.matrix.extractRotation(rm);\r\n\t\t\t\t\t\trmi.copy(rm).invert();\r\n\t\t\t\t\t\tdup.setRotationFromMatrix(rmi);\r\n\t\t\t\t\t\t//now the object inside will give us a NAABB Non-Axes Aligned Bounding Box \r\n\t\t\t\t\t\tbounds = new THREE.Box3().setFromObject(model);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn bounds;\r\n\t\t\t};\r\n\r\n\t\t\t//[jscastro] modelBox\r\n\t\t\tobj.modelBox = function () {\r\n\t\t\t\treturn obj.box3();\r\n\t\t\t}\r\n\r\n\t\t\tobj.getSize = function () {\r\n\t\t\t\treturn obj.box3().getSize(new THREE.Vector3(0, 0, 0));\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro]\r\n\t\t\tlet _modelSize = false;\r\n\t\t\t//[jscastro] added property for wireframes state\r\n\t\t\tObject.defineProperty(obj, 'modelSize', {\r\n\t\t\t\tget() {\r\n\t\t\t\t\t_modelSize = obj.getSize();\r\n\t\t\t\t\treturn _modelSize;\r\n\t\t\t\t},\r\n\t\t\t\tset(value) {\r\n\t\t\t\t\tif (_modelSize != value) {\r\n\t\t\t\t\t\t_modelSize = value;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\r\n\t\t\t//[jscastro] added property to get modelHeight\r\n\t\t\tObject.defineProperty(obj, 'modelHeight', {\r\n\t\t\t\tget() {\r\n\t\t\t\t\tlet h = obj.coordinates[2] || 0;\r\n\t\t\t\t\tif (obj.userData.units === 'scene') h *= (obj.unitsPerMeter / obj.scale.x);\r\n\t\t\t\t\treturn h;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//[jscastro] added property to calculate the units per meter in a given latitude\r\n\t\t\t//reduced to 7 decimals to avoid deviations on the size of the same object  \r\n\t\t\tObject.defineProperty(obj, 'unitsPerMeter', {\r\n\t\t\t\tget() { return Number(utils.projectedUnitsPerMeter(obj.coordinates[1]).toFixed(7)); }\r\n\t\t\t});\r\n\r\n\t\t\tlet _fixedZoom = null;\r\n\t\t\t//[jscastro] added property to have a fixed scale for some objects\r\n\t\t\tObject.defineProperty(obj, 'fixedZoom', {\r\n\t\t\t\tget() { return obj.userData.fixedZoom; },\r\n\t\t\t\tset(value) {\r\n\t\t\t\t\tif (obj.userData.fixedZoom === value) return;\r\n\t\t\t\t\tobj.userData.fixedZoom = value;\r\n\t\t\t\t\tobj.userData.units = (value ? 'scene' : 'meters');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//[jscastro] sets the scale of an object based fixedZoom\r\n\t\t\tobj.setFixedZoom = function (scale) {\r\n\t\t\t\tif (obj.fixedZoom != null && obj.fixedZoom != 0) {\r\n\t\t\t\t\tif (!scale) scale = obj.userData.mapScale;\r\n\t\t\t\t\tlet s = zoomScale(obj.fixedZoom);\r\n\t\t\t\t\tif (s > scale) {\r\n\t\t\t\t\t\tlet calc = s / scale;\r\n\t\t\t\t\t\tobj.scale.set(calc, calc, calc);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj.scale.set(1, 1, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//[jscastro] sets the scale of an object based in the scale and fixedZoom\r\n\t\t\tobj.setScale = function (scale) {\r\n\t\t\t\t// scale the model so that its units are interpreted as meters at the given latitude\r\n\t\t\t\tif (obj.userData.units != 'scene') {\r\n\t\t\t\t\tlet s = obj.unitsPerMeter;\r\n\t\t\t\t\tobj.scale.set(s, s, s);\r\n\t\t\t\t} else if (obj.fixedZoom) {\r\n\t\t\t\t\tif (scale) obj.userData.mapScale = scale;\r\n\t\t\t\t\tobj.setFixedZoom(obj.userData.mapScale); //apply fixed zoom\r\n\t\t\t\t} else obj.scale.set(1, 1, 1);\r\n\t\t\t} \r\n\r\n\t\t\tfunction zoomScale(zoom) { return Math.pow(2, zoom); }\r\n\r\n\t\t\t//[jscastro] sets the scale and shadows position of an object based in the scale\r\n\t\t\tobj.setObjectScale = function (scale) {\r\n\t\t\t\tobj.setScale(scale);\r\n\t\t\t\tobj.setBoundingBoxShadowFloor();\r\n\t\t\t\tobj.setReceiveShadowFloor();\r\n\t\t\t} \r\n\r\n\t\t}\r\n\r\n\t\tobj.add = function (o) {\r\n\t\t\tobj.scaleGroup.add(o);\r\n\t\t\to.position.z = (obj.coordinates[2] ? -obj.coordinates[2] : 0);\r\n\t\t\treturn o;\r\n\t\t}\r\n\r\n\t\tobj.remove = function (o) {\r\n\t\t\tif (!o) return;\r\n\t\t\to.traverse(m => {\r\n\t\t\t\t//console.log('dispose geometry!')\r\n\t\t\t\tif (m.geometry) m.geometry.dispose();\r\n\t\t\t\tif (m.material) {\r\n\t\t\t\t\tif (m.material.isMaterial) {\r\n\t\t\t\t\t\tcleanMaterial(m.material)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// an array of materials\r\n\t\t\t\t\t\tfor (const material of m.material) cleanMaterial(material)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (m.dispose) m.dispose();\r\n\t\t\t})\r\n\r\n\t\t\tobj.scaleGroup.remove(o);\r\n\t\t\ttb.map.repaint = true;\r\n\t\t}\r\n\r\n\t\t//[jscastro] clone + assigning all the attributes\r\n\t\tobj.duplicate = function (options) {\r\n\r\n\t\t\tlet dupe = obj.clone(true);\t//clone the whole threebox object\r\n\t\t\tdupe.getObjectByName(\"model\").animations = obj.animations; //we must set this explicitly before addMethods\r\n\t\t\tif (dupe.userData.feature) {\r\n\t\t\t\tif (options && options.feature) dupe.userData.feature = options.feature;\r\n\t\t\t\tdupe.userData.feature.properties.uuid = dupe.uuid;\r\n\t\t\t}\r\n\t\t\troot._addMethods(dupe); // add methods\r\n\r\n\t\t\tif (!options || utils.equal(options.scale, obj.userData.scale)) {\r\n\t\t\t\t//no options, no changes, just return the same object\r\n\t\t\t\tdupe.copyAnchor(obj); // copy anchors\r\n\t\t\t\t//[jscastro] we add by default a tooltip that can be overriden later or hide it with threebox `enableTooltips`\r\n\t\t\t\treturn dupe;\r\n\t\t\t} else {\r\n\t\t\t\tdupe.userData = options;\r\n\t\t\t\tdupe.userData.isGeoGroup = true;\r\n\t\t\t\tdupe.remove(dupe.boxGroup);\r\n\t\t\t\t// [jscastro] rotate and scale the model\r\n\t\t\t\tconst r = utils.types.rotation(options.rotation, [0, 0, 0]);\r\n\t\t\t\tconst s = utils.types.scale(options.scale, [1, 1, 1]);\r\n\t\t\t\t// [jscastro] reposition to 0,0,0\r\n\t\t\t\tdupe.model.position.set(0, 0, 0);\r\n\t\t\t\t// rotate and scale\r\n\t\t\t\tdupe.model.rotation.set(r[0], r[1], r[2]);\r\n\t\t\t\tdupe.model.scale.set(s[0], s[1], s[2]);\r\n\t\t\t\t//[jscastro] calculate automatically the pivotal center of the object\r\n\t\t\t\tdupe.setAnchor(options.anchor);\r\n\t\t\t\t//[jscastro] override the center calculated if the object has adjustments\r\n\t\t\t\tdupe.setCenter(options.adjustment);\r\n\t\t\t\treturn dupe;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//[jscastro] copy anchor values\r\n\t\tobj.copyAnchor = function (o) {\r\n\r\n\t\t\tobj.anchor = o.anchor;\r\n\t\t\tobj.none = { x: 0, y: 0, z: 0 };\r\n\t\t\tobj.center = o.center;\r\n\t\t\tobj.bottom = o.bottom;\r\n\t\t\tobj.bottomLeft = o.bottomLeft;\r\n\t\t\tobj.bottomRight = o.bottomRight;\r\n\t\t\tobj.top = o.top;\r\n\t\t\tobj.topLeft = o.topLeft;\r\n\t\t\tobj.topRight = o.topRight;\r\n\t\t\tobj.left = o.left;\r\n\t\t\tobj.right = o.right;\r\n\r\n\t\t}\r\n\r\n\t\tobj.dispose = function () {\r\n\r\n\t\t\tObjects.prototype.unenroll(obj);\r\n\r\n\t\t\tobj.traverse(o => {\r\n\t\t\t\t//don't dispose th object itself as it will be recursive\r\n\t\t\t\tif (o.parent && o.parent.name == \"world\") return;\r\n\t\t\t\tif (o.name === \"threeboxObject\") return;\r\n\r\n\t\t\t\t//console.log('dispose geometry!')\r\n\t\t\t\tif (o.geometry) o.geometry.dispose();\r\n\r\n\t\t\t\tif (o.material) {\r\n\t\t\t\t\tif (o.material.isMaterial) {\r\n\t\t\t\t\t\tcleanMaterial(o.material)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// an array of materials\r\n\t\t\t\t\t\tfor (const material of o.material) cleanMaterial(material)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (o.dispose) o.dispose();\r\n\r\n\t\t\t})\r\n\r\n\t\t\tobj.children = [];\r\n\r\n\t\t}\r\n\r\n\t\tconst cleanMaterial = material => {\r\n\t\t\t//console.log('dispose material!')\r\n\t\t\tmaterial.dispose()\r\n\r\n\t\t\t// dispose textures\r\n\t\t\tfor (const key of Object.keys(material)) {\r\n\t\t\t\tconst value = material[key]\r\n\t\t\t\tif (value && typeof value === 'object' && 'minFilter' in value) {\r\n\t\t\t\t\t//console.log('dispose texture!')\r\n\t\t\t\t\tvalue.dispose()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet m = material;\r\n\t\t\tlet md = (m.map || m.alphaMap || m.aoMap || m.bumpMap || m.displacementMap || m.emissiveMap || m.envMap || m.lightMap || m.metalnessMap || m.normalMap || m.roughnessMap)\r\n\t\t\tif (md) {\r\n\t\t\t\tif (m.map) m.map.dispose();\r\n\t\t\t\tif (m.alphaMap) m.alphaMap.dispose();\r\n\t\t\t\tif (m.aoMap) m.aoMap.dispose();\r\n\t\t\t\tif (m.bumpMap) m.bumpMap.dispose();\r\n\t\t\t\tif (m.displacementMap) m.displacementMap.dispose();\r\n\t\t\t\tif (m.emissiveMap) m.emissiveMap.dispose();\r\n\t\t\t\tif (m.envMap) m.envMap.dispose();\r\n\t\t\t\tif (m.lightMap) m.lightMap.dispose();\r\n\t\t\t\tif (m.metalnessMap) m.metalnessMap.dispose();\r\n\t\t\t\tif (m.normalMap) m.normalMap.dispose();\r\n\t\t\t\tif (m.roughnessMap) m.roughnessMap.dispose();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn obj\r\n\t},\r\n\r\n\t_makeGroup: function (obj, options) {\r\n\t\tlet projScaleGroup = new THREE.Group();\r\n\t\tprojScaleGroup.name = \"scaleGroup\";\r\n\t\tprojScaleGroup.add(obj)\r\n\r\n\t\tvar geoGroup = new THREE.Group();\r\n\t\tgeoGroup.userData = options || {};\r\n\t\tgeoGroup.userData.isGeoGroup = true;\r\n\t\tif (geoGroup.userData.feature) {\r\n\t\t\tgeoGroup.userData.feature.properties.uuid = geoGroup.uuid;\r\n\t\t}\r\n\t\tvar isArrayOfObjects = projScaleGroup.length;\r\n\t\tif (isArrayOfObjects) for (o of projScaleGroup) geoGroup.add(o)\r\n\t\telse geoGroup.add(projScaleGroup);\r\n\r\n\t\t//utils._flipMaterialSides(projScaleGroup);\r\n\t\tgeoGroup.name = \"threeboxObject\";\r\n\r\n\t\treturn geoGroup\r\n\t},\r\n\r\n\tanimationManager: new AnimationManager,\r\n\r\n\t//[jscastro] add tooltip method \r\n\tdrawTooltip : function (tooltipText, mapboxStyle = false) {\r\n\t\tif (tooltipText) {\r\n\t\t\tlet divToolTip;\r\n\t\t\tif (mapboxStyle) {\r\n\t\t\t\tlet divContent = document.createElement('div');\r\n\t\t\t\tdivContent.className = 'mapboxgl-popup-content';\r\n\t\t\t\tlet strong = document.createElement('strong');\r\n\t\t\t\tstrong.innerHTML = tooltipText;\r\n\t\t\t\tdivContent.appendChild(strong);\r\n\t\t\t\tlet tip = document.createElement('div');\r\n\t\t\t\ttip.className = 'mapboxgl-popup-tip';\r\n\t\t\t\tlet div = document.createElement('div');\r\n\t\t\t\tdiv.className = 'marker mapboxgl-popup-anchor-bottom';\r\n\t\t\t\tdiv.appendChild(tip);\r\n\t\t\t\tdiv.appendChild(divContent);\r\n\t\t\t\tdivToolTip = document.createElement('div');\r\n\t\t\t\tdivToolTip.className += 'label3D';\r\n\t\t\t\tdivToolTip.appendChild(div);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdivToolTip = document.createElement('span');\r\n\t\t\t\tdivToolTip.className = this._defaults.tooltip.cssClass;\r\n\t\t\t\tdivToolTip.innerHTML = tooltipText;\r\n\t\t\t}\r\n\t\t\treturn divToolTip;\r\n\t\t}\r\n\t},\r\n\r\n\t//[jscastro] draw label method can be invoked separately\r\n\tdrawLabelHTML: function (HTMLElement, cssClass) {\r\n\t\tlet div = document.createElement('div');\r\n\t\tdiv.className += cssClass;\r\n\t\t// [jscastro] create a div [TODO] analize if must be moved\r\n\t\tif (typeof (HTMLElement) == 'string') {\r\n\t\t\tdiv.innerHTML = HTMLElement;\r\n\t\t} else {\r\n\t\t\tdiv.innerHTML = HTMLElement.outerHTML;\r\n\t\t}\r\n\t\treturn div;\r\n\t},\r\n\r\n\t_defaults: {\r\n\t\tcolors: {\r\n\t\t\tred: new THREE.Color(0xff0000),\r\n\t\t\tyellow: new THREE.Color(0xffff00),\r\n\t\t\tgreen: new THREE.Color(0x00ff00),\r\n\t\t\tblack: new THREE.Color(0x000000)\r\n\t\t},\r\n\r\n\t\tmaterials: {\r\n\t\t\tboxNormalMaterial: new THREE.LineBasicMaterial({ color: new THREE.Color(0xff0000) }),\r\n\t\t\tboxOverMaterial: new THREE.LineBasicMaterial({ color: new THREE.Color(0xffff00) }),\r\n\t\t\tboxSelectedMaterial: new THREE.LineBasicMaterial({ color: new THREE.Color(0x00ff00) })\r\n\t\t},\r\n\r\n\t\tline: {\r\n\t\t\tgeometry: null,\r\n\t\t\tcolor: 'black',\r\n\t\t\twidth: 1,\r\n\t\t\topacity: 1\r\n\t\t},\r\n\r\n\t\tlabel: {\r\n\t\t\thtmlElement: null,\r\n\t\t\tcssClass: \" label3D\",\r\n\t\t\talwaysVisible: false,\r\n\t\t\ttopMargin: -0.5\r\n\t\t},\r\n\r\n\t\ttooltip: {\r\n\t\t\ttext: '',\r\n\t\t\tcssClass: 'toolTip text-xs',\r\n\t\t\tmapboxStyle: false,\r\n\t\t\ttopMargin: 0\r\n\t\t},\r\n\r\n\t\tsphere: {\r\n\t\t\tposition: [0, 0, 0],\r\n\t\t\tradius: 1,\r\n\t\t\tsides: 20,\r\n\t\t\tunits: 'scene',\r\n\t\t\tmaterial: 'MeshBasicMaterial',\r\n\t\t\tanchor: 'bottom-left',\r\n\t\t\tbbox: true,\r\n\t\t\ttooltip: true,\r\n\t\t\traycasted: true\r\n\r\n\t\t},\r\n\r\n\t\ttube: {\r\n\t\t\tgeometry: null,\r\n\t\t\tradius: 1,\r\n\t\t\tsides: 6,\r\n\t\t\tunits: 'scene',\r\n\t\t\tmaterial: 'MeshBasicMaterial',\r\n\t\t\tanchor: 'center',\r\n\t\t\tbbox: true,\r\n\t\t\ttooltip: true,\r\n\t\t\traycasted: true\r\n\t\t},\r\n\r\n\t\tloadObj: {\r\n\t\t\ttype: null,\r\n\t\t\tobj: null,\r\n\t\t\tunits: 'scene',\r\n\t\t\tscale: 1,\r\n\t\t\trotation: 0,\r\n\t\t\tdefaultAnimation: 0,\r\n\t\t\tanchor: 'bottom-left',\r\n\t\t\tbbox: true,\r\n\t\t\ttooltip: true,\r\n\t\t\traycasted: true,\r\n\t\t\tclone: true\r\n\t\t},\r\n\r\n\t\tObject3D: {\r\n\t\t\tobj: null,\r\n\t\t\tunits: 'scene',\r\n\t\t\tanchor: 'bottom-left',\r\n\t\t\tbbox: true,\r\n\t\t\ttooltip: true, \r\n\t\t\traycasted: true\r\n\t\t},\r\n\r\n\t\textrusion: {\r\n\t\t\tcoordinates: [[[]]],\r\n\t\t\tgeometryOptions: {},\r\n\t\t\theight: 100,\r\n\t\t\tmaterials: new THREE.MeshPhongMaterial({ color: 0x660000, side: THREE.DoubleSide }),\r\n\t\t\tscale: 1,\r\n\t\t\trotation: 0,\r\n\t\t\tunits: 'scene',\r\n\t\t\tanchor: 'center',\r\n\t\t\tbbox: true,\r\n\t\t\ttooltip: true,\r\n\t\t\traycasted: true\r\n\r\n\t\t}\r\n\t},\r\n\r\n\tgeometries: {\r\n\t\tline: ['LineString'],\r\n\t\ttube: ['LineString'],\r\n\t\tsphere: ['Point'],\r\n\t}\r\n}\r\n\r\nmodule.exports = exports = Objects;", "/**\r\n * @author peterqliu / https://github.com/peterqliu\r\n * @author jscastro / https://github.com/jscastro76\r\n */\r\nconst Objects = require('./objects.js');\r\nconst utils = require(\"../utils/utils.js\");\r\n\r\nfunction Object3D(opt) {\r\n\topt = utils._validate(opt, Objects.prototype._defaults.Object3D);\r\n\t// [jscastro] full refactor of Object3D to behave exactly like 3D Models loadObj\r\n\tlet obj = opt.obj;\r\n\t// [jscastro] options.rotation was wrongly used\r\n\tconst r = utils.types.rotation(opt.rotation, [0, 0, 0]);\r\n\tconst s = utils.types.scale(opt.scale, [1, 1, 1]);\r\n\tobj.rotation.set(r[0], r[1], r[2]);\r\n\tobj.scale.set(s[0], s[1], s[2]);\r\n\tobj.name = \"model\";\r\n\tlet userScaleGroup = Objects.prototype._makeGroup(obj, opt);\r\n\topt.obj.name = \"model\";\r\n\tObjects.prototype._addMethods(userScaleGroup);\r\n\t//[jscastro] calculate automatically the pivotal center of the object\r\n\tuserScaleGroup.setAnchor(opt.anchor);\r\n\t//[jscastro] override the center calculated if the object has adjustments\r\n\tuserScaleGroup.setCenter(opt.adjustment);\r\n\t//[jscastro] if the object is excluded from raycasting\r\n\tuserScaleGroup.raycasted = opt.raycasted;\r\n\tuserScaleGroup.visibility = true;\r\n\r\n\treturn userScaleGroup\r\n}\r\n\r\nmodule.exports = exports = Object3D;", "/**\r\n * @author peterqliu / https://github.com/peterqliu\r\n * @author jscastro / https://github.com/jscastro76\r\n*/\r\nconst utils = require(\"../utils/utils.js\");\r\nconst material = require(\"../utils/material.js\");\r\nconst THREE = require('../three.js');\r\nconst Objects = require('./objects.js');\r\nconst Object3D = require('./Object3D.js');\r\n\r\nfunction Sphere(opt) {\r\n\r\n\topt = utils._validate(opt, Objects.prototype._defaults.sphere);\r\n\tlet geometry = new THREE.SphereBufferGeometry(opt.radius, opt.sides, opt.sides);\r\n\tlet mat = material(opt)\r\n\tlet output = new THREE.Mesh(geometry, mat);\r\n\t//[jscastro] we convert it in Object3D to add methods, bounding box, model, tooltip...\r\n\treturn new Object3D({ obj: output, units: opt.units, anchor: opt.anchor, adjustment: opt.adjustment, bbox: opt.bbox, tooltip: opt.tooltip, raycasted: opt.raycasted });\r\n\r\n}\r\n\r\n\r\nmodule.exports = exports = Sphere;", "/**\r\n * @author jscastro / https://github.com/jscastro76\r\n */\r\nconst Objects = require('./objects.js');\r\nconst utils = require(\"../utils/utils.js\");\r\nconst THREE = require(\"../three.js\");\r\nconst Object3D = require('./Object3D.js');\r\n\r\n/**\r\n * \r\n * @param {any} opt must fit the default defined in Objects.prototype._defaults.extrusion \r\n * @param {arr} opt.coordinates could receive a feature.geometry.coordinates\r\n */\r\nfunction extrusion(opt) {\r\n\r\n\topt = utils._validate(opt, Objects.prototype._defaults.extrusion);\r\n\tlet shape = extrusion.prototype.buildShape(opt.coordinates);\r\n\tlet geometry = extrusion.prototype.buildGeometry(shape, opt.geometryOptions);\r\n\tlet mesh = new THREE.Mesh(geometry, opt.materials);\r\n\topt.obj = mesh;\r\n\t//[jscastro] we convert it in Object3D to add methods, bounding box, model, tooltip...\r\n\treturn new Object3D(opt);\r\n\r\n}\r\n\r\nextrusion.prototype = {\r\n\r\n\tbuildShape: function (coords) {\r\n\t\tif (coords[0] instanceof (THREE.Vector2 || THREE.Vector3)) return new THREE.Shape(coords);\r\n\t\tlet shape = new THREE.Shape();\r\n\t\tfor (let i = 0; i < coords.length; i++) {\r\n\t\t\tif (i === 0) {\r\n\t\t\t\tshape = new THREE.Shape(this.buildPoints(coords[0], coords[0]));\r\n\t\t\t} else {\r\n\t\t\t\tshape.holes.push(new THREE.Path(this.buildPoints(coords[i], coords[0])));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn shape;\r\n\t},\r\n\r\n\tbuildPoints: function (coords, initCoords) {\r\n\t\tconst points = [];\r\n\t\tlet init = utils.projectToWorld([initCoords[0][0], initCoords[0][1], 0]);\r\n\t\tfor (let i = 0; i < coords.length; i++) {\r\n\t\t\tlet pos = utils.projectToWorld([coords[i][0], coords[i][1], 0]);\r\n\t\t\tpoints.push(new THREE.Vector2(utils.toDecimal((pos.x - init.x), 9), utils.toDecimal((pos.y - init.y), 9)));\r\n\t\t}\r\n\t\treturn points;\r\n\t},\r\n\r\n\tbuildGeometry: function (shape, settings) {\r\n\t\tlet geometry = new THREE.ExtrudeBufferGeometry(shape, settings);\r\n\t\tgeometry.computeBoundingBox();\r\n\t\treturn geometry;\r\n\t}\r\n\r\n}\r\n\r\nmodule.exports = exports = extrusion;", "/**\r\n * @author jscastro / https://github.com/jscastro76\r\n */\r\nconst utils = require(\"../utils/utils.js\");\r\nconst Objects = require('./objects.js');\r\nconst CSS2D = require('./CSS2DRenderer.js');\r\n\r\nfunction Label(obj) {\r\n\r\n\tobj = utils._validate(obj, Objects.prototype._defaults.label);\r\n\r\n\tlet div = Objects.prototype.drawLabelHTML(obj.htmlElement, obj.cssClass);\r\n\r\n\tlet label = new CSS2D.CSS2DObject(div);\r\n\tlabel.name = \"label\";\r\n\tlabel.visible = obj.alwaysVisible;\r\n\tlabel.alwaysVisible = obj.alwaysVisible;\r\n\tvar userScaleGroup = Objects.prototype._makeGroup(label, obj);\r\n\tObjects.prototype._addMethods(userScaleGroup);\r\n\tuserScaleGroup.visibility = obj.alwaysVisible;\r\n\r\n\treturn userScaleGroup;\r\n}\r\n\r\n\r\nmodule.exports = exports = Label;", "const utils = require(\"../utils/utils.js\");\r\nconst Objects = require('./objects.js');\r\nconst CSS2D = require('./CSS2DRenderer.js');\r\nvar THREE = require(\"../three.js\");\r\n\r\nfunction Tooltip(obj) {\r\n\r\n\tobj = utils._validate(obj, Objects.prototype._defaults.tooltip);\r\n\r\n\tif (obj.text) {\r\n\r\n\t\tlet divToolTip = Objects.prototype.drawTooltip(obj.text, obj.mapboxStyle);\r\n\r\n\t\tlet tooltip = new CSS2D.CSS2DObject(divToolTip);\r\n\t\ttooltip.visible = false;\r\n\t\ttooltip.name = \"tooltip\";\r\n\t\tvar userScaleGroup = Objects.prototype._makeGroup(tooltip, obj);\r\n\t\tObjects.prototype._addMethods(userScaleGroup);\r\n\t\treturn userScaleGroup;\r\n\t}\r\n\r\n}\r\n\r\nmodule.exports = exports = Tooltip;", "/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\nconst THREE = require('../../three.js');\r\n\r\n(function () {\r\n\r\n\tconst _object_pattern = /^[og]\\s*(.+)?/; // mtllib file_reference\r\n\r\n\tconst _material_library_pattern = /^mtllib /; // usemtl material_name\r\n\r\n\tconst _material_use_pattern = /^usemtl /; // usemap map_name\r\n\r\n\tconst _map_use_pattern = /^usemap /;\r\n\r\n\tconst _vA = new THREE.Vector3();\r\n\r\n\tconst _vB = new THREE.Vector3();\r\n\r\n\tconst _vC = new THREE.Vector3();\r\n\r\n\tconst _ab = new THREE.Vector3();\r\n\r\n\tconst _cb = new THREE.Vector3();\r\n\r\n\tfunction ParserState() {\r\n\r\n\t\tconst state = {\r\n\t\t\tobjects: [],\r\n\t\t\tobject: {},\r\n\t\t\tvertices: [],\r\n\t\t\tnormals: [],\r\n\t\t\tcolors: [],\r\n\t\t\tuvs: [],\r\n\t\t\tmaterials: {},\r\n\t\t\tmaterialLibraries: [],\r\n\t\t\tstartObject: function (name, fromDeclaration) {\r\n\r\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\r\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\r\n\t\t\t\tif (this.object && this.object.fromDeclaration === false) {\r\n\r\n\t\t\t\t\tthis.object.name = name;\r\n\t\t\t\t\tthis.object.fromDeclaration = fromDeclaration !== false;\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst previousMaterial = this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined;\r\n\r\n\t\t\t\tif (this.object && typeof this.object._finalize === 'function') {\r\n\r\n\t\t\t\t\tthis.object._finalize(true);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.object = {\r\n\t\t\t\t\tname: name || '',\r\n\t\t\t\t\tfromDeclaration: fromDeclaration !== false,\r\n\t\t\t\t\tgeometry: {\r\n\t\t\t\t\t\tvertices: [],\r\n\t\t\t\t\t\tnormals: [],\r\n\t\t\t\t\t\tcolors: [],\r\n\t\t\t\t\t\tuvs: [],\r\n\t\t\t\t\t\thasUVIndices: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmaterials: [],\r\n\t\t\t\t\tsmooth: true,\r\n\t\t\t\t\tstartMaterial: function (name, libraries) {\r\n\r\n\t\t\t\t\t\tconst previous = this._finalize(false); // New usemtl declaration overwrites an inherited material, except if faces were declared\r\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\r\n\r\n\r\n\t\t\t\t\t\tif (previous && (previous.inherited || previous.groupCount <= 0)) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.splice(previous.index, 1);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst material = {\r\n\t\t\t\t\t\t\tindex: this.materials.length,\r\n\t\t\t\t\t\t\tname: name || '',\r\n\t\t\t\t\t\t\tmtllib: Array.isArray(libraries) && libraries.length > 0 ? libraries[libraries.length - 1] : '',\r\n\t\t\t\t\t\t\tsmooth: previous !== undefined ? previous.smooth : this.smooth,\r\n\t\t\t\t\t\t\tgroupStart: previous !== undefined ? previous.groupEnd : 0,\r\n\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\tinherited: false,\r\n\t\t\t\t\t\t\tclone: function (index) {\r\n\r\n\t\t\t\t\t\t\t\tconst cloned = {\r\n\t\t\t\t\t\t\t\t\tindex: typeof index === 'number' ? index : this.index,\r\n\t\t\t\t\t\t\t\t\tname: this.name,\r\n\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\r\n\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\r\n\t\t\t\t\t\t\t\t\tgroupStart: 0,\r\n\t\t\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\t\t\tinherited: false\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind(cloned);\r\n\t\t\t\t\t\t\t\treturn cloned;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.materials.push(material);\r\n\t\t\t\t\t\treturn material;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcurrentMaterial: function () {\r\n\r\n\t\t\t\t\t\tif (this.materials.length > 0) {\r\n\r\n\t\t\t\t\t\t\treturn this.materials[this.materials.length - 1];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\t_finalize: function (end) {\r\n\r\n\t\t\t\t\t\tconst lastMultiMaterial = this.currentMaterial();\r\n\r\n\t\t\t\t\t\tif (lastMultiMaterial && lastMultiMaterial.groupEnd === - 1) {\r\n\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\r\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\r\n\r\n\t\t\t\t\t\t} // Ignore objects tail materials if no face declarations followed them before a new o/g started.\r\n\r\n\r\n\t\t\t\t\t\tif (end && this.materials.length > 1) {\r\n\r\n\t\t\t\t\t\t\tfor (let mi = this.materials.length - 1; mi >= 0; mi--) {\r\n\r\n\t\t\t\t\t\t\t\tif (this.materials[mi].groupCount <= 0) {\r\n\r\n\t\t\t\t\t\t\t\t\tthis.materials.splice(mi, 1);\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} // Guarantee at least one empty material, this makes the creation later more straight forward.\r\n\r\n\r\n\t\t\t\t\t\tif (end && this.materials.length === 0) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.push({\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tsmooth: this.smooth\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn lastMultiMaterial;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}; // Inherit previous objects material.\r\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\r\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\r\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\r\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\r\n\r\n\t\t\t\tif (previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function') {\r\n\r\n\t\t\t\t\tconst declared = previousMaterial.clone(0);\r\n\t\t\t\t\tdeclared.inherited = true;\r\n\t\t\t\t\tthis.object.materials.push(declared);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.objects.push(this.object);\r\n\r\n\t\t\t},\r\n\t\t\tfinalize: function () {\r\n\r\n\t\t\t\tif (this.object && typeof this.object._finalize === 'function') {\r\n\r\n\t\t\t\t\tthis.object._finalize(true);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tparseVertexIndex: function (value, len) {\r\n\r\n\t\t\t\tconst index = parseInt(value, 10);\r\n\t\t\t\treturn (index >= 0 ? index - 1 : index + len / 3) * 3;\r\n\r\n\t\t\t},\r\n\t\t\tparseNormalIndex: function (value, len) {\r\n\r\n\t\t\t\tconst index = parseInt(value, 10);\r\n\t\t\t\treturn (index >= 0 ? index - 1 : index + len / 3) * 3;\r\n\r\n\t\t\t},\r\n\t\t\tparseUVIndex: function (value, len) {\r\n\r\n\t\t\t\tconst index = parseInt(value, 10);\r\n\t\t\t\treturn (index >= 0 ? index - 1 : index + len / 2) * 2;\r\n\r\n\t\t\t},\r\n\t\t\taddVertex: function (a, b, c) {\r\n\r\n\t\t\t\tconst src = this.vertices;\r\n\t\t\t\tconst dst = this.object.geometry.vertices;\r\n\t\t\t\tdst.push(src[a + 0], src[a + 1], src[a + 2]);\r\n\t\t\t\tdst.push(src[b + 0], src[b + 1], src[b + 2]);\r\n\t\t\t\tdst.push(src[c + 0], src[c + 1], src[c + 2]);\r\n\r\n\t\t\t},\r\n\t\t\taddVertexPoint: function (a) {\r\n\r\n\t\t\t\tconst src = this.vertices;\r\n\t\t\t\tconst dst = this.object.geometry.vertices;\r\n\t\t\t\tdst.push(src[a + 0], src[a + 1], src[a + 2]);\r\n\r\n\t\t\t},\r\n\t\t\taddVertexLine: function (a) {\r\n\r\n\t\t\t\tconst src = this.vertices;\r\n\t\t\t\tconst dst = this.object.geometry.vertices;\r\n\t\t\t\tdst.push(src[a + 0], src[a + 1], src[a + 2]);\r\n\r\n\t\t\t},\r\n\t\t\taddNormal: function (a, b, c) {\r\n\r\n\t\t\t\tconst src = this.normals;\r\n\t\t\t\tconst dst = this.object.geometry.normals;\r\n\t\t\t\tdst.push(src[a + 0], src[a + 1], src[a + 2]);\r\n\t\t\t\tdst.push(src[b + 0], src[b + 1], src[b + 2]);\r\n\t\t\t\tdst.push(src[c + 0], src[c + 1], src[c + 2]);\r\n\r\n\t\t\t},\r\n\t\t\taddFaceNormal: function (a, b, c) {\r\n\r\n\t\t\t\tconst src = this.vertices;\r\n\t\t\t\tconst dst = this.object.geometry.normals;\r\n\r\n\t\t\t\t_vA.fromArray(src, a);\r\n\r\n\t\t\t\t_vB.fromArray(src, b);\r\n\r\n\t\t\t\t_vC.fromArray(src, c);\r\n\r\n\t\t\t\t_cb.subVectors(_vC, _vB);\r\n\r\n\t\t\t\t_ab.subVectors(_vA, _vB);\r\n\r\n\t\t\t\t_cb.cross(_ab);\r\n\r\n\t\t\t\t_cb.normalize();\r\n\r\n\t\t\t\tdst.push(_cb.x, _cb.y, _cb.z);\r\n\t\t\t\tdst.push(_cb.x, _cb.y, _cb.z);\r\n\t\t\t\tdst.push(_cb.x, _cb.y, _cb.z);\r\n\r\n\t\t\t},\r\n\t\t\taddColor: function (a, b, c) {\r\n\r\n\t\t\t\tconst src = this.colors;\r\n\t\t\t\tconst dst = this.object.geometry.colors;\r\n\t\t\t\tif (src[a] !== undefined) dst.push(src[a + 0], src[a + 1], src[a + 2]);\r\n\t\t\t\tif (src[b] !== undefined) dst.push(src[b + 0], src[b + 1], src[b + 2]);\r\n\t\t\t\tif (src[c] !== undefined) dst.push(src[c + 0], src[c + 1], src[c + 2]);\r\n\r\n\t\t\t},\r\n\t\t\taddUV: function (a, b, c) {\r\n\r\n\t\t\t\tconst src = this.uvs;\r\n\t\t\t\tconst dst = this.object.geometry.uvs;\r\n\t\t\t\tdst.push(src[a + 0], src[a + 1]);\r\n\t\t\t\tdst.push(src[b + 0], src[b + 1]);\r\n\t\t\t\tdst.push(src[c + 0], src[c + 1]);\r\n\r\n\t\t\t},\r\n\t\t\taddDefaultUV: function () {\r\n\r\n\t\t\t\tconst dst = this.object.geometry.uvs;\r\n\t\t\t\tdst.push(0, 0);\r\n\t\t\t\tdst.push(0, 0);\r\n\t\t\t\tdst.push(0, 0);\r\n\r\n\t\t\t},\r\n\t\t\taddUVLine: function (a) {\r\n\r\n\t\t\t\tconst src = this.uvs;\r\n\t\t\t\tconst dst = this.object.geometry.uvs;\r\n\t\t\t\tdst.push(src[a + 0], src[a + 1]);\r\n\r\n\t\t\t},\r\n\t\t\taddFace: function (a, b, c, ua, ub, uc, na, nb, nc) {\r\n\r\n\t\t\t\tconst vLen = this.vertices.length;\r\n\t\t\t\tlet ia = this.parseVertexIndex(a, vLen);\r\n\t\t\t\tlet ib = this.parseVertexIndex(b, vLen);\r\n\t\t\t\tlet ic = this.parseVertexIndex(c, vLen);\r\n\t\t\t\tthis.addVertex(ia, ib, ic);\r\n\t\t\t\tthis.addColor(ia, ib, ic); // normals\r\n\r\n\t\t\t\tif (na !== undefined && na !== '') {\r\n\r\n\t\t\t\t\tconst nLen = this.normals.length;\r\n\t\t\t\t\tia = this.parseNormalIndex(na, nLen);\r\n\t\t\t\t\tib = this.parseNormalIndex(nb, nLen);\r\n\t\t\t\t\tic = this.parseNormalIndex(nc, nLen);\r\n\t\t\t\t\tthis.addNormal(ia, ib, ic);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.addFaceNormal(ia, ib, ic);\r\n\r\n\t\t\t\t} // uvs\r\n\r\n\r\n\t\t\t\tif (ua !== undefined && ua !== '') {\r\n\r\n\t\t\t\t\tconst uvLen = this.uvs.length;\r\n\t\t\t\t\tia = this.parseUVIndex(ua, uvLen);\r\n\t\t\t\t\tib = this.parseUVIndex(ub, uvLen);\r\n\t\t\t\t\tic = this.parseUVIndex(uc, uvLen);\r\n\t\t\t\t\tthis.addUV(ia, ib, ic);\r\n\t\t\t\t\tthis.object.geometry.hasUVIndices = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// add placeholder values (for inconsistent face definitions)\r\n\t\t\t\t\tthis.addDefaultUV();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\taddPointGeometry: function (vertices) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Points';\r\n\t\t\t\tconst vLen = this.vertices.length;\r\n\r\n\t\t\t\tfor (let vi = 0, l = vertices.length; vi < l; vi++) {\r\n\r\n\t\t\t\t\tconst index = this.parseVertexIndex(vertices[vi], vLen);\r\n\t\t\t\t\tthis.addVertexPoint(index);\r\n\t\t\t\t\tthis.addColor(index);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\taddLineGeometry: function (vertices, uvs) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Line';\r\n\t\t\t\tconst vLen = this.vertices.length;\r\n\t\t\t\tconst uvLen = this.uvs.length;\r\n\r\n\t\t\t\tfor (let vi = 0, l = vertices.length; vi < l; vi++) {\r\n\r\n\t\t\t\t\tthis.addVertexLine(this.parseVertexIndex(vertices[vi], vLen));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (let uvi = 0, l = uvs.length; uvi < l; uvi++) {\r\n\r\n\t\t\t\t\tthis.addUVLine(this.parseUVIndex(uvs[uvi], uvLen));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t};\r\n\t\tstate.startObject('', false);\r\n\t\treturn state;\r\n\r\n\t} //\r\n\r\n\r\n\tclass OBJLoader extends THREE.Loader {\r\n\r\n\t\tconstructor(manager) {\r\n\r\n\t\t\tsuper(manager);\r\n\t\t\tthis.materials = null;\r\n\r\n\t\t}\r\n\r\n\t\tload(url, onLoad, onProgress, onError) {\r\n\r\n\t\t\tconst scope = this;\r\n\t\t\tconst loader = new THREE.FileLoader(this.manager);\r\n\t\t\tloader.setPath(this.path);\r\n\t\t\tloader.setRequestHeader(this.requestHeader);\r\n\t\t\tloader.setWithCredentials(this.withCredentials);\r\n\t\t\tloader.load(url, function (text) {\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tonLoad(scope.parse(text));\r\n\r\n\t\t\t\t} catch (e) {\r\n\r\n\t\t\t\t\tif (onError) {\r\n\r\n\t\t\t\t\t\tonError(e);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.error(e);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemError(url);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError);\r\n\r\n\t\t}\r\n\r\n\t\tsetMaterials(materials) {\r\n\r\n\t\t\tthis.materials = materials;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tparse(text) {\r\n\r\n\t\t\tconst state = new ParserState();\r\n\r\n\t\t\tif (text.indexOf('\\r\\n') !== - 1) {\r\n\r\n\t\t\t\t// This is faster than String.split with regex that splits on both\r\n\t\t\t\ttext = text.replace(/\\r\\n/g, '\\n');\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (text.indexOf('\\\\\\n') !== - 1) {\r\n\r\n\t\t\t\t// join lines separated by a line continuation character (\\)\r\n\t\t\t\ttext = text.replace(/\\\\\\n/g, '');\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst lines = text.split('\\n');\r\n\t\t\tlet line = '',\r\n\t\t\t\tlineFirstChar = '';\r\n\t\t\tlet lineLength = 0;\r\n\t\t\tlet result = []; // Faster to just trim left side of the line. Use if available.\r\n\r\n\t\t\tconst trimLeft = typeof ''.trimLeft === 'function';\r\n\r\n\t\t\tfor (let i = 0, l = lines.length; i < l; i++) {\r\n\r\n\t\t\t\tline = lines[i];\r\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\r\n\t\t\t\tlineLength = line.length;\r\n\t\t\t\tif (lineLength === 0) continue;\r\n\t\t\t\tlineFirstChar = line.charAt(0); // @todo invoke passed in handler if any\r\n\r\n\t\t\t\tif (lineFirstChar === '#') continue;\r\n\r\n\t\t\t\tif (lineFirstChar === 'v') {\r\n\r\n\t\t\t\t\tconst data = line.split(/\\s+/);\r\n\r\n\t\t\t\t\tswitch (data[0]) {\r\n\r\n\t\t\t\t\t\tcase 'v':\r\n\t\t\t\t\t\t\tstate.vertices.push(parseFloat(data[1]), parseFloat(data[2]), parseFloat(data[3]));\r\n\r\n\t\t\t\t\t\t\tif (data.length >= 7) {\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push(parseFloat(data[4]), parseFloat(data[5]), parseFloat(data[6]));\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\r\n\t\t\t\t\t\t\t\tstate.colors.push(undefined, undefined, undefined);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'vn':\r\n\t\t\t\t\t\t\tstate.normals.push(parseFloat(data[1]), parseFloat(data[2]), parseFloat(data[3]));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'vt':\r\n\t\t\t\t\t\t\tstate.uvs.push(parseFloat(data[1]), parseFloat(data[2]));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (lineFirstChar === 'f') {\r\n\r\n\t\t\t\t\tconst lineData = line.substr(1).trim();\r\n\t\t\t\t\tconst vertexData = lineData.split(/\\s+/);\r\n\t\t\t\t\tconst faceVertices = []; // Parse the face vertex data into an easy to work with format\r\n\r\n\t\t\t\t\tfor (let j = 0, jl = vertexData.length; j < jl; j++) {\r\n\r\n\t\t\t\t\t\tconst vertex = vertexData[j];\r\n\r\n\t\t\t\t\t\tif (vertex.length > 0) {\r\n\r\n\t\t\t\t\t\t\tconst vertexParts = vertex.split('/');\r\n\t\t\t\t\t\t\tfaceVertices.push(vertexParts);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} // Draw an edge between the first vertex and all subsequent vertices to form an n-gon\r\n\r\n\r\n\t\t\t\t\tconst v1 = faceVertices[0];\r\n\r\n\t\t\t\t\tfor (let j = 1, jl = faceVertices.length - 1; j < jl; j++) {\r\n\r\n\t\t\t\t\t\tconst v2 = faceVertices[j];\r\n\t\t\t\t\t\tconst v3 = faceVertices[j + 1];\r\n\t\t\t\t\t\tstate.addFace(v1[0], v2[0], v3[0], v1[1], v2[1], v3[1], v1[2], v2[2], v3[2]);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (lineFirstChar === 'l') {\r\n\r\n\t\t\t\t\tconst lineParts = line.substring(1).trim().split(' ');\r\n\t\t\t\t\tlet lineVertices = [];\r\n\t\t\t\t\tconst lineUVs = [];\r\n\r\n\t\t\t\t\tif (line.indexOf('/') === - 1) {\r\n\r\n\t\t\t\t\t\tlineVertices = lineParts;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tfor (let li = 0, llen = lineParts.length; li < llen; li++) {\r\n\r\n\t\t\t\t\t\t\tconst parts = lineParts[li].split('/');\r\n\t\t\t\t\t\t\tif (parts[0] !== '') lineVertices.push(parts[0]);\r\n\t\t\t\t\t\t\tif (parts[1] !== '') lineUVs.push(parts[1]);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstate.addLineGeometry(lineVertices, lineUVs);\r\n\r\n\t\t\t\t} else if (lineFirstChar === 'p') {\r\n\r\n\t\t\t\t\tconst lineData = line.substr(1).trim();\r\n\t\t\t\t\tconst pointData = lineData.split(' ');\r\n\t\t\t\t\tstate.addPointGeometry(pointData);\r\n\r\n\t\t\t\t} else if ((result = _object_pattern.exec(line)) !== null) {\r\n\r\n\t\t\t\t\t// o object_name\r\n\t\t\t\t\t// or\r\n\t\t\t\t\t// g group_name\r\n\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\r\n\t\t\t\t\t// let name = result[ 0 ].substr( 1 ).trim();\r\n\t\t\t\t\tconst name = (' ' + result[0].substr(1).trim()).substr(1);\r\n\t\t\t\t\tstate.startObject(name);\r\n\r\n\t\t\t\t} else if (_material_use_pattern.test(line)) {\r\n\r\n\t\t\t\t\t// material\r\n\t\t\t\t\tstate.object.startMaterial(line.substring(7).trim(), state.materialLibraries);\r\n\r\n\t\t\t\t} else if (_material_library_pattern.test(line)) {\r\n\r\n\t\t\t\t\t// mtl file\r\n\t\t\t\t\tstate.materialLibraries.push(line.substring(7).trim());\r\n\r\n\t\t\t\t} else if (_map_use_pattern.test(line)) {\r\n\r\n\t\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\r\n\t\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\r\n\t\t\t\t\tconsole.warn('THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.');\r\n\r\n\t\t\t\t} else if (lineFirstChar === 's') {\r\n\r\n\t\t\t\t\tresult = line.split(' '); // smooth shading\r\n\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\r\n\t\t\t\t\t// but does not define a usemtl for each face set.\r\n\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\r\n\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\r\n\t\t\t\t\t// where explicit usemtl defines geometry groups.\r\n\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t * http://paulbourke.net/dataformats/obj/\r\n\t\t\t * or\r\n\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\r\n\t\t\t *\r\n\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\r\n\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\r\n\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\r\n\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\r\n\t\t\t * than 0.\"\r\n\t\t\t */\r\n\r\n\t\t\t\t\tif (result.length > 1) {\r\n\r\n\t\t\t\t\t\tconst value = result[1].trim().toLowerCase();\r\n\t\t\t\t\t\tstate.object.smooth = value !== '0' && value !== 'off';\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\r\n\t\t\t\t\t\tstate.object.smooth = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst material = state.object.currentMaterial();\r\n\t\t\t\t\tif (material) material.smooth = state.object.smooth;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Handle null terminated files without exception\r\n\t\t\t\t\tif (line === '\\0') continue;\r\n\t\t\t\t\tconsole.warn('THREE.OBJLoader: Unexpected line: \"' + line + '\"');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.finalize();\r\n\t\t\tconst container = new THREE.Group();\r\n\t\t\tcontainer.materialLibraries = [].concat(state.materialLibraries);\r\n\t\t\tconst hasPrimitives = !(state.objects.length === 1 && state.objects[0].geometry.vertices.length === 0);\r\n\r\n\t\t\tif (hasPrimitives === true) {\r\n\r\n\t\t\t\tfor (let i = 0, l = state.objects.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst object = state.objects[i];\r\n\t\t\t\t\tconst geometry = object.geometry;\r\n\t\t\t\t\tconst materials = object.materials;\r\n\t\t\t\t\tconst isLine = geometry.type === 'Line';\r\n\t\t\t\t\tconst isPoints = geometry.type === 'Points';\r\n\t\t\t\t\tlet hasVertexColors = false; // Skip o/g line declarations that did not follow with any faces\r\n\r\n\t\t\t\t\tif (geometry.vertices.length === 0) continue;\r\n\t\t\t\t\tconst buffergeometry = new THREE.BufferGeometry();\r\n\t\t\t\t\tbuffergeometry.setAttribute('position', new THREE.Float32BufferAttribute(geometry.vertices, 3));\r\n\r\n\t\t\t\t\tif (geometry.normals.length > 0) {\r\n\r\n\t\t\t\t\t\tbuffergeometry.setAttribute('normal', new THREE.Float32BufferAttribute(geometry.normals, 3));\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (geometry.colors.length > 0) {\r\n\r\n\t\t\t\t\t\thasVertexColors = true;\r\n\t\t\t\t\t\tbuffergeometry.setAttribute('color', new THREE.Float32BufferAttribute(geometry.colors, 3));\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (geometry.hasUVIndices === true) {\r\n\r\n\t\t\t\t\t\tbuffergeometry.setAttribute('uv', new THREE.Float32BufferAttribute(geometry.uvs, 2));\r\n\r\n\t\t\t\t\t} // Create materials\r\n\r\n\r\n\t\t\t\t\tconst createdMaterials = [];\r\n\r\n\t\t\t\t\tfor (let mi = 0, miLen = materials.length; mi < miLen; mi++) {\r\n\r\n\t\t\t\t\t\tconst sourceMaterial = materials[mi];\r\n\t\t\t\t\t\tconst materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\r\n\t\t\t\t\t\tlet material = state.materials[materialHash];\r\n\r\n\t\t\t\t\t\tif (this.materials !== null) {\r\n\r\n\t\t\t\t\t\t\tmaterial = this.materials.create(sourceMaterial.name); // mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\r\n\r\n\t\t\t\t\t\t\tif (isLine && material && !(material instanceof THREE.LineBasicMaterial)) {\r\n\r\n\t\t\t\t\t\t\t\tconst materialLine = new THREE.LineBasicMaterial();\r\n\t\t\t\t\t\t\t\tTHREE.Material.prototype.copy.call(materialLine, material);\r\n\t\t\t\t\t\t\t\tmaterialLine.color.copy(material.color);\r\n\t\t\t\t\t\t\t\tmaterial = materialLine;\r\n\r\n\t\t\t\t\t\t\t} else if (isPoints && material && !(material instanceof THREE.PointsMaterial)) {\r\n\r\n\t\t\t\t\t\t\t\tconst materialPoints = new THREE.PointsMaterial({\r\n\t\t\t\t\t\t\t\t\tsize: 10,\r\n\t\t\t\t\t\t\t\t\tsizeAttenuation: false\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tTHREE.Material.prototype.copy.call(materialPoints, material);\r\n\t\t\t\t\t\t\t\tmaterialPoints.color.copy(material.color);\r\n\t\t\t\t\t\t\t\tmaterialPoints.map = material.map;\r\n\t\t\t\t\t\t\t\tmaterial = materialPoints;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (material === undefined) {\r\n\r\n\t\t\t\t\t\t\tif (isLine) {\r\n\r\n\t\t\t\t\t\t\t\tmaterial = new THREE.LineBasicMaterial();\r\n\r\n\t\t\t\t\t\t\t} else if (isPoints) {\r\n\r\n\t\t\t\t\t\t\t\tmaterial = new THREE.PointsMaterial({\r\n\t\t\t\t\t\t\t\t\tsize: 1,\r\n\t\t\t\t\t\t\t\t\tsizeAttenuation: false\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\r\n\t\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\r\n\t\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\r\n\t\t\t\t\t\t\tstate.materials[materialHash] = material;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcreatedMaterials.push(material);\r\n\r\n\t\t\t\t\t} // Create mesh\r\n\r\n\r\n\t\t\t\t\tlet mesh;\r\n\r\n\t\t\t\t\tif (createdMaterials.length > 1) {\r\n\r\n\t\t\t\t\t\tfor (let mi = 0, miLen = materials.length; mi < miLen; mi++) {\r\n\r\n\t\t\t\t\t\t\tconst sourceMaterial = materials[mi];\r\n\t\t\t\t\t\t\tbuffergeometry.addGroup(sourceMaterial.groupStart, sourceMaterial.groupCount, mi);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (isLine) {\r\n\r\n\t\t\t\t\t\t\tmesh = new THREE.LineSegments(buffergeometry, createdMaterials);\r\n\r\n\t\t\t\t\t\t} else if (isPoints) {\r\n\r\n\t\t\t\t\t\t\tmesh = new THREE.Points(buffergeometry, createdMaterials);\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tmesh = new THREE.Mesh(buffergeometry, createdMaterials);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif (isLine) {\r\n\r\n\t\t\t\t\t\t\tmesh = new THREE.LineSegments(buffergeometry, createdMaterials[0]);\r\n\r\n\t\t\t\t\t\t} else if (isPoints) {\r\n\r\n\t\t\t\t\t\t\tmesh = new THREE.Points(buffergeometry, createdMaterials[0]);\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tmesh = new THREE.Mesh(buffergeometry, createdMaterials[0]);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmesh.name = object.name;\r\n\t\t\t\t\tcontainer.add(mesh);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// if there is only the default parser state object with no geometry data, interpret data as point cloud\r\n\t\t\t\tif (state.vertices.length > 0) {\r\n\r\n\t\t\t\t\tconst material = new THREE.PointsMaterial({\r\n\t\t\t\t\t\tsize: 1,\r\n\t\t\t\t\t\tsizeAttenuation: false\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst buffergeometry = new THREE.BufferGeometry();\r\n\t\t\t\t\tbuffergeometry.setAttribute('position', new THREE.Float32BufferAttribute(state.vertices, 3));\r\n\r\n\t\t\t\t\tif (state.colors.length > 0 && state.colors[0] !== undefined) {\r\n\r\n\t\t\t\t\t\tbuffergeometry.setAttribute('color', new THREE.Float32BufferAttribute(state.colors, 3));\r\n\t\t\t\t\t\tmaterial.vertexColors = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst points = new THREE.Points(buffergeometry, material);\r\n\t\t\t\t\tcontainer.add(points);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn container;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tTHREE.OBJLoader = OBJLoader;\r\n\r\n})();\r\n\r\nmodule.exports = exports = THREE.OBJLoader;", "const THREE = require('../../three.js');\r\n\r\n(function () {\r\n\r\n\t/**\r\n * Loads a Wavefront .mtl file specifying materials\r\n */\r\n\r\n\tclass MTLLoader extends THREE.Loader {\r\n\r\n\t\tconstructor(manager) {\r\n\r\n\t\t\tsuper(manager);\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Loads and parses a MTL asset from a URL.\r\n   *\r\n   * @param {String} url - URL to the MTL file.\r\n   * @param {Function} [onLoad] - Callback invoked with the loaded object.\r\n   * @param {Function} [onProgress] - Callback for download progress.\r\n   * @param {Function} [onError] - Callback for download errors.\r\n   *\r\n   * @see setPath setResourcePath\r\n   *\r\n   * @note In order for relative texture references to resolve correctly\r\n   * you must call setResourcePath() explicitly prior to load.\r\n   */\r\n\r\n\r\n\t\tload(url, onLoad, onProgress, onError) {\r\n\r\n\t\t\tconst scope = this;\r\n\t\t\tconst path = this.path === '' ? THREE.LoaderUtils.extractUrlBase(url || '') : this.path;\r\n\t\t\tconst loader = new THREE.FileLoader(this.manager);\r\n\t\t\tloader.setPath(this.path);\r\n\t\t\tloader.setRequestHeader(this.requestHeader);\r\n\t\t\tloader.setWithCredentials(this.withCredentials);\r\n\t\t\tloader.load(url, function (text) {\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tonLoad(scope.parse(text, path));\r\n\r\n\t\t\t\t} catch (e) {\r\n\r\n\t\t\t\t\tif (onError) {\r\n\r\n\t\t\t\t\t\tonError(e);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.error(e);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemError(url);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError);\r\n\r\n\t\t}\r\n\r\n\t\tsetMaterialOptions(value) {\r\n\r\n\t\t\tthis.materialOptions = value;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Parses a MTL file.\r\n   *\r\n   * @param {String} text - Content of MTL file\r\n   * @return {MaterialCreator}\r\n   *\r\n   * @see setPath setResourcePath\r\n   *\r\n   * @note In order for relative texture references to resolve correctly\r\n   * you must call setResourcePath() explicitly prior to parse.\r\n   */\r\n\r\n\r\n\t\tparse(text, path) {\r\n\r\n\t\t\tconst lines = text.split('\\n');\r\n\t\t\tlet info = {};\r\n\t\t\tconst delimiter_pattern = /\\s+/;\r\n\t\t\tconst materialsInfo = {};\r\n\r\n\t\t\tfor (let i = 0; i < lines.length; i++) {\r\n\r\n\t\t\t\tlet line = lines[i];\r\n\t\t\t\tline = line.trim();\r\n\r\n\t\t\t\tif (line.length === 0 || line.charAt(0) === '#') {\r\n\r\n\t\t\t\t\t// Blank line or comment ignore\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst pos = line.indexOf(' ');\r\n\t\t\t\tlet key = pos >= 0 ? line.substring(0, pos) : line;\r\n\t\t\t\tkey = key.toLowerCase();\r\n\t\t\t\tlet value = pos >= 0 ? line.substring(pos + 1) : '';\r\n\t\t\t\tvalue = value.trim();\r\n\r\n\t\t\t\tif (key === 'newmtl') {\r\n\r\n\t\t\t\t\t// New material\r\n\t\t\t\t\tinfo = {\r\n\t\t\t\t\t\tname: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tmaterialsInfo[value] = info;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif (key === 'ka' || key === 'kd' || key === 'ks' || key === 'ke') {\r\n\r\n\t\t\t\t\t\tconst ss = value.split(delimiter_pattern, 3);\r\n\t\t\t\t\t\tinfo[key] = [parseFloat(ss[0]), parseFloat(ss[1]), parseFloat(ss[2])];\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tinfo[key] = value;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst materialCreator = new MaterialCreator(this.resourcePath || path, this.materialOptions);\r\n\t\t\tmaterialCreator.setCrossOrigin(this.crossOrigin);\r\n\t\t\tmaterialCreator.setManager(this.manager);\r\n\t\t\tmaterialCreator.setMaterials(materialsInfo);\r\n\t\t\treturn materialCreator;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * Create a new MTLLoader.MaterialCreator\r\n * @param baseUrl - Url relative to which textures are loaded\r\n * @param options - Set of options on how to construct the materials\r\n *                  side: Which side to apply the material\r\n *                        THREE.FrontSide (default), THREE.BackSide, THREE.DoubleSide\r\n *                  wrap: What type of wrapping to apply for textures\r\n *                        THREE.RepeatWrapping (default), THREE.ClampToEdgeWrapping, THREE.MirroredRepeatWrapping\r\n *                  normalizeRGB: RGBs need to be normalized to 0-1 from 0-255\r\n *                                Default: false, assumed to be already normalized\r\n *                  ignoreZeroRGBs: Ignore values of RGBs (Ka,Kd,Ks) that are all 0's\r\n *                                  Default: false\r\n * @constructor\r\n */\r\n\r\n\r\n\tclass MaterialCreator {\r\n\r\n\t\tconstructor(baseUrl = '', options = {}) {\r\n\r\n\t\t\tthis.baseUrl = baseUrl;\r\n\t\t\tthis.options = options;\r\n\t\t\tthis.materialsInfo = {};\r\n\t\t\tthis.materials = {};\r\n\t\t\tthis.materialsArray = [];\r\n\t\t\tthis.nameLookup = {};\r\n\t\t\tthis.crossOrigin = 'anonymous';\r\n\t\t\tthis.side = this.options.side !== undefined ? this.options.side : THREE.FrontSide;\r\n\t\t\tthis.wrap = this.options.wrap !== undefined ? this.options.wrap : THREE.RepeatWrapping;\r\n\r\n\t\t}\r\n\r\n\t\tsetCrossOrigin(value) {\r\n\r\n\t\t\tthis.crossOrigin = value;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tsetManager(value) {\r\n\r\n\t\t\tthis.manager = value;\r\n\r\n\t\t}\r\n\r\n\t\tsetMaterials(materialsInfo) {\r\n\r\n\t\t\tthis.materialsInfo = this.convert(materialsInfo);\r\n\t\t\tthis.materials = {};\r\n\t\t\tthis.materialsArray = [];\r\n\t\t\tthis.nameLookup = {};\r\n\r\n\t\t}\r\n\r\n\t\tconvert(materialsInfo) {\r\n\r\n\t\t\tif (!this.options) return materialsInfo;\r\n\t\t\tconst converted = {};\r\n\r\n\t\t\tfor (const mn in materialsInfo) {\r\n\r\n\t\t\t\t// Convert materials info into normalized form based on options\r\n\t\t\t\tconst mat = materialsInfo[mn];\r\n\t\t\t\tconst covmat = {};\r\n\t\t\t\tconverted[mn] = covmat;\r\n\r\n\t\t\t\tfor (const prop in mat) {\r\n\r\n\t\t\t\t\tlet save = true;\r\n\t\t\t\t\tlet value = mat[prop];\r\n\t\t\t\t\tconst lprop = prop.toLowerCase();\r\n\r\n\t\t\t\t\tswitch (lprop) {\r\n\r\n\t\t\t\t\t\tcase 'kd':\r\n\t\t\t\t\t\tcase 'ka':\r\n\t\t\t\t\t\tcase 'ks':\r\n\t\t\t\t\t\t\t// Diffuse color (color under white light) using RGB values\r\n\t\t\t\t\t\t\tif (this.options && this.options.normalizeRGB) {\r\n\r\n\t\t\t\t\t\t\t\tvalue = [value[0] / 255, value[1] / 255, value[2] / 255];\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (this.options && this.options.ignoreZeroRGBs) {\r\n\r\n\t\t\t\t\t\t\t\tif (value[0] === 0 && value[1] === 0 && value[2] === 0) {\r\n\r\n\t\t\t\t\t\t\t\t\t// ignore\r\n\t\t\t\t\t\t\t\t\tsave = false;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (save) {\r\n\r\n\t\t\t\t\t\tcovmat[lprop] = value;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn converted;\r\n\r\n\t\t}\r\n\r\n\t\tpreload() {\r\n\r\n\t\t\tfor (const mn in this.materialsInfo) {\r\n\r\n\t\t\t\tthis.create(mn);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tgetIndex(materialName) {\r\n\r\n\t\t\treturn this.nameLookup[materialName];\r\n\r\n\t\t}\r\n\r\n\t\tgetAsArray() {\r\n\r\n\t\t\tlet index = 0;\r\n\r\n\t\t\tfor (const mn in this.materialsInfo) {\r\n\r\n\t\t\t\tthis.materialsArray[index] = this.create(mn);\r\n\t\t\t\tthis.nameLookup[mn] = index;\r\n\t\t\t\tindex++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.materialsArray;\r\n\r\n\t\t}\r\n\r\n\t\tcreate(materialName) {\r\n\r\n\t\t\tif (this.materials[materialName] === undefined) {\r\n\r\n\t\t\t\tthis.createMaterial_(materialName);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.materials[materialName];\r\n\r\n\t\t}\r\n\r\n\t\tcreateMaterial_(materialName) {\r\n\r\n\t\t\t// Create material\r\n\t\t\tconst scope = this;\r\n\t\t\tconst mat = this.materialsInfo[materialName];\r\n\t\t\tconst params = {\r\n\t\t\t\tname: materialName,\r\n\t\t\t\tside: this.side\r\n\t\t\t};\r\n\r\n\t\t\tfunction resolveURL(baseUrl, url) {\r\n\r\n\t\t\t\tif (typeof url !== 'string' || url === '') return ''; // Absolute URL\r\n\r\n\t\t\t\tif (/^https?:\\/\\//i.test(url)) return url;\r\n\t\t\t\treturn baseUrl + url;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction setMapForType(mapType, value) {\r\n\r\n\t\t\t\tif (params[mapType]) return; // Keep the first encountered texture\r\n\r\n\t\t\t\tconst texParams = scope.getTextureParams(value, params);\r\n\t\t\t\tconst map = scope.loadTexture(resolveURL(scope.baseUrl, texParams.url));\r\n\t\t\t\tmap.repeat.copy(texParams.scale);\r\n\t\t\t\tmap.offset.copy(texParams.offset);\r\n\t\t\t\tmap.wrapS = scope.wrap;\r\n\t\t\t\tmap.wrapT = scope.wrap;\r\n\t\t\t\tparams[mapType] = map;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor (const prop in mat) {\r\n\r\n\t\t\t\tconst value = mat[prop];\r\n\t\t\t\tlet n;\r\n\t\t\t\tif (value === '') continue;\r\n\r\n\t\t\t\tswitch (prop.toLowerCase()) {\r\n\r\n\t\t\t\t\t// Ns is material specular exponent\r\n\t\t\t\t\tcase 'kd':\r\n\t\t\t\t\t\t// Diffuse color (color under white light) using RGB values\r\n\t\t\t\t\t\tparams.color = new THREE.Color().fromArray(value);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ks':\r\n\t\t\t\t\t\t// Specular color (color when light is reflected from shiny surface) using RGB values\r\n\t\t\t\t\t\tparams.specular = new THREE.Color().fromArray(value);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ke':\r\n\t\t\t\t\t\t// Emissive using RGB values\r\n\t\t\t\t\t\tparams.emissive = new THREE.Color().fromArray(value);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'map_kd':\r\n\t\t\t\t\t\t// Diffuse texture map\r\n\t\t\t\t\t\tsetMapForType('map', value);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'map_ks':\r\n\t\t\t\t\t\t// Specular map\r\n\t\t\t\t\t\tsetMapForType('specularMap', value);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'map_ke':\r\n\t\t\t\t\t\t// Emissive map\r\n\t\t\t\t\t\tsetMapForType('emissiveMap', value);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'norm':\r\n\t\t\t\t\t\tsetMapForType('normalMap', value);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'map_bump':\r\n\t\t\t\t\tcase 'bump':\r\n\t\t\t\t\t\t// Bump texture map\r\n\t\t\t\t\t\tsetMapForType('bumpMap', value);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'map_d':\r\n\t\t\t\t\t\t// Alpha map\r\n\t\t\t\t\t\tsetMapForType('alphaMap', value);\r\n\t\t\t\t\t\tparams.transparent = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ns':\r\n\t\t\t\t\t\t// The specular exponent (defines the focus of the specular highlight)\r\n\t\t\t\t\t\t// A high exponent results in a tight, concentrated highlight. Ns values normally range from 0 to 1000.\r\n\t\t\t\t\t\tparams.shininess = parseFloat(value);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'd':\r\n\t\t\t\t\t\tn = parseFloat(value);\r\n\r\n\t\t\t\t\t\tif (n < 1) {\r\n\r\n\t\t\t\t\t\t\tparams.opacity = n;\r\n\t\t\t\t\t\t\tparams.transparent = true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'tr':\r\n\t\t\t\t\t\tn = parseFloat(value);\r\n\t\t\t\t\t\tif (this.options && this.options.invertTrProperty) n = 1 - n;\r\n\r\n\t\t\t\t\t\tif (n > 0) {\r\n\r\n\t\t\t\t\t\t\tparams.opacity = 1 - n;\r\n\t\t\t\t\t\t\tparams.transparent = true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.materials[materialName] = new THREE.MeshPhongMaterial(params);\r\n\t\t\treturn this.materials[materialName];\r\n\r\n\t\t}\r\n\r\n\t\tgetTextureParams(value, matParams) {\r\n\r\n\t\t\tconst texParams = {\r\n\t\t\t\tscale: new THREE.Vector2(1, 1),\r\n\t\t\t\toffset: new THREE.Vector2(0, 0)\r\n\t\t\t};\r\n\t\t\tconst items = value.split(/\\s+/);\r\n\t\t\tlet pos;\r\n\t\t\tpos = items.indexOf('-bm');\r\n\r\n\t\t\tif (pos >= 0) {\r\n\r\n\t\t\t\tmatParams.bumpScale = parseFloat(items[pos + 1]);\r\n\t\t\t\titems.splice(pos, 2);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tpos = items.indexOf('-s');\r\n\r\n\t\t\tif (pos >= 0) {\r\n\r\n\t\t\t\ttexParams.scale.set(parseFloat(items[pos + 1]), parseFloat(items[pos + 2]));\r\n\t\t\t\titems.splice(pos, 4); // we expect 3 parameters here!\r\n\r\n\t\t\t}\r\n\r\n\t\t\tpos = items.indexOf('-o');\r\n\r\n\t\t\tif (pos >= 0) {\r\n\r\n\t\t\t\ttexParams.offset.set(parseFloat(items[pos + 1]), parseFloat(items[pos + 2]));\r\n\t\t\t\titems.splice(pos, 4); // we expect 3 parameters here!\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexParams.url = items.join(' ').trim();\r\n\t\t\treturn texParams;\r\n\r\n\t\t}\r\n\r\n\t\tloadTexture(url, mapping, onLoad, onProgress, onError) {\r\n\r\n\t\t\tconst manager = this.manager !== undefined ? this.manager : THREE.DefaultLoadingManager;\r\n\t\t\tlet loader = manager.getHandler(url);\r\n\r\n\t\t\tif (loader === null) {\r\n\r\n\t\t\t\tloader = new THREE.TextureLoader(manager);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (loader.setCrossOrigin) loader.setCrossOrigin(this.crossOrigin);\r\n\t\t\tconst texture = loader.load(url, onLoad, onProgress, onError);\r\n\t\t\tif (mapping !== undefined) texture.mapping = mapping;\r\n\t\t\treturn texture;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tTHREE.MTLLoader = MTLLoader;\r\n\r\n})();\r\n\r\nmodule.exports = exports = THREE.MTLLoader;", "/*!\r\nfflate - fast JavaScript compression/decompression\r\n<https://101arrowz.github.io/fflate>\r\nLicensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE\r\n*/\r\n!function(f){typeof module!='undefined'&&typeof exports=='object'?module.exports=f():typeof define!='undefined'&&define.amd?define(['fflate',f]):(typeof self!='undefined'?self:this).fflate=f()}(function(){var _e={};\"use strict\";_e.__esModule=!0;var t=(typeof module!='undefined'&&typeof exports=='object'?function(_f){\"use strict\";var e;var r=\";var __w=require('worker_threads');__w.parentPort.on('message',function(m){onmessage({data:m})}),postMessage=function(m,t){__w.parentPort.postMessage(m,t)},close=process.exit;self=global\";try{e(\"require('worker_threads')\").Worker}catch(e){}exports.default=e?function(t,n,o,s,a){var u=!1,i=new e(t+r,{eval:!0}).on(\"error\",(function(e){return a(e,null)})).on(\"message\",(function(e){return a(null,e)})).on(\"exit\",(function(e){e&&!u&&a(Error(\"exited with code \"+e),null)}));return i.postMessage(o,s),i.terminate=function(){return u=!0,e.prototype.terminate.call(i)},i}:function(e,r,t,n,o){setImmediate((function(){return o(Error(\"async operations unsupported - update to Node 12+ (or Node 10-11 with the --experimental-worker CLI flag)\"),null)}));var s=function(){};return{terminate:s,postMessage:s}};return _f}:function(_f){\"use strict\";var e=eval;_f.default=function(r,t,n,o,s){var u=e[t]||(e[t]=URL.createObjectURL(new Blob([r],{type:\"text/javascript\"}))),a=new Worker(u);return a.onerror=function(e){return s(e.error,null)},a.onmessage=function(e){return s(null,e.data)},a.postMessage(n,o),a};return _f})({}),n=Uint8Array,r=Uint16Array,e=Uint32Array,i=new n([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new n([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new n([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,n){for(var i=new r(31),o=0;o<31;++o)i[o]=n+=1<<t[o-1];var a=new e(i[30]);for(o=1;o<30;++o)for(var s=i[o];s<i[o+1];++s)a[s]=s-i[o]<<5|o;return[i,a]},f=s(i,2),u=f[0],h=f[1];u[28]=258,h[258]=28;for(var c=s(o,0),l=c[0],p=c[1],v=new r(32768),d=0;d<32768;++d){var g=(43690&d)>>>1|(21845&d)<<1;v[d]=((65280&(g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4))>>>8|(255&g)<<8)>>>1}var w=function(t,n,e){for(var i=t.length,o=0,a=new r(n);o<i;++o)++a[t[o]-1];var s,f=new r(n);for(o=0;o<n;++o)f[o]=f[o-1]+a[o-1]<<1;if(e){s=new r(1<<n);var u=15-n;for(o=0;o<i;++o)if(t[o])for(var h=o<<4|t[o],c=n-t[o],l=f[t[o]-1]++<<c,p=l|(1<<c)-1;l<=p;++l)s[v[l]>>>u]=h}else for(s=new r(i),o=0;o<i;++o)t[o]&&(s[o]=v[f[t[o]-1]++]>>>15-t[o]);return s},y=new n(288);for(d=0;d<144;++d)y[d]=8;for(d=144;d<256;++d)y[d]=9;for(d=256;d<280;++d)y[d]=7;for(d=280;d<288;++d)y[d]=8;var m=new n(32);for(d=0;d<32;++d)m[d]=5;var b=w(y,9,0),x=w(y,9,1),z=w(m,5,0),k=w(m,5,1),M=function(t){for(var n=t[0],r=1;r<t.length;++r)t[r]>n&&(n=t[r]);return n},A=function(t,n,r){var e=n/8|0;return(t[e]|t[e+1]<<8)>>(7&n)&r},S=function(t,n){var r=n/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(7&n)},D=function(t){return(t/8|0)+(7&t&&1)},C=function(t,i,o){(null==i||i<0)&&(i=0),(null==o||o>t.length)&&(o=t.length);var a=new(t instanceof r?r:t instanceof e?e:n)(o-i);return a.set(t.subarray(i,o)),a},U=function(t,r,e){var s=t.length;if(!s||e&&!e.l&&s<5)return r||new n(0);var f=!r||e,h=!e||e.i;e||(e={}),r||(r=new n(3*s));var c=function(t){var e=r.length;if(t>e){var i=new n(Math.max(2*e,t));i.set(r),r=i}},p=e.f||0,v=e.p||0,d=e.b||0,g=e.l,y=e.d,m=e.m,b=e.n,z=8*s;do{if(!g){e.f=p=A(t,v,1);var U=A(t,v+1,3);if(v+=3,!U){var O=t[(H=D(v)+4)-4]|t[H-3]<<8,T=H+O;if(T>s){if(h)throw\"unexpected EOF\";break}f&&c(d+O),r.set(t.subarray(H,T),d),e.b=d+=O,e.p=v=8*T;continue}if(1==U)g=x,y=k,m=9,b=5;else{if(2!=U)throw\"invalid block type\";var Z=A(t,v,31)+257,I=A(t,v+10,15)+4,F=Z+A(t,v+5,31)+1;v+=14;for(var E=new n(F),G=new n(19),P=0;P<I;++P)G[a[P]]=A(t,v+3*P,7);v+=3*I;var j=M(G),_=(1<<j)-1;if(!h&&v+F*(j+7)>z)break;var q=w(G,j,1);for(P=0;P<F;){var H,Y=q[A(t,v,_)];if(v+=15&Y,(H=Y>>>4)<16)E[P++]=H;else{var B=0,J=0;for(16==H?(J=3+A(t,v,3),v+=2,B=E[P-1]):17==H?(J=3+A(t,v,7),v+=3):18==H&&(J=11+A(t,v,127),v+=7);J--;)E[P++]=B}}var K=E.subarray(0,Z),L=E.subarray(Z);m=M(K),b=M(L),g=w(K,m,1),y=w(L,b,1)}if(v>z)throw\"unexpected EOF\"}f&&c(d+131072);for(var N=(1<<m)-1,Q=(1<<b)-1,R=m+b+18;h||v+R<z;){var V=(B=g[S(t,v)&N])>>>4;if((v+=15&B)>z)throw\"unexpected EOF\";if(!B)throw\"invalid length/literal\";if(V<256)r[d++]=V;else{if(256==V){g=null;break}var W=V-254;V>264&&(W=A(t,v,(1<<(tt=i[P=V-257]))-1)+u[P],v+=tt);var X=y[S(t,v)&Q],$=X>>>4;if(!X)throw\"invalid distance\";if(v+=15&X,L=l[$],$>3){var tt=o[$];L+=S(t,v)&(1<<tt)-1,v+=tt}if(v>z)throw\"unexpected EOF\";f&&c(d+131072);for(var nt=d+W;d<nt;d+=4)r[d]=r[d-L],r[d+1]=r[d+1-L],r[d+2]=r[d+2-L],r[d+3]=r[d+3-L];d=nt}}e.l=g,e.p=v,e.b=d,g&&(p=1,e.m=m,e.d=y,e.n=b)}while(!p);return d==r.length?r:C(r,0,d)},O=function(t,n,r){var e=n/8|0;t[e]|=r<<=7&n,t[e+1]|=r>>>8},T=function(t,n,r){var e=n/8|0;t[e]|=r<<=7&n,t[e+1]|=r>>>8,t[e+2]|=r>>>16},Z=function(t,e){for(var i=[],o=0;o<t.length;++o)t[o]&&i.push({s:o,f:t[o]});var a=i.length,s=i.slice();if(!a)return[_,0];if(1==a){var f=new n(i[0].s+1);return f[i[0].s]=1,[f,1]}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var u=i[0],h=i[1],c=0,l=1,p=2;for(i[0]={s:-1,f:u.f+h.f,l:u,r:h};l!=a-1;)u=i[i[c].f<i[p].f?c++:p++],h=i[c!=l&&i[c].f<i[p].f?c++:p++],i[l++]={s:-1,f:u.f+h.f,l:u,r:h};var v=s[0].s;for(o=1;o<a;++o)s[o].s>v&&(v=s[o].s);var d=new r(v+1),g=I(i[l-1],d,0);if(g>e){o=0;var w=0,y=g-e,m=1<<y;for(s.sort((function(t,n){return d[n.s]-d[t.s]||t.f-n.f}));o<a;++o){var b=s[o].s;if(!(d[b]>e))break;w+=m-(1<<g-d[b]),d[b]=e}for(w>>>=y;w>0;){var x=s[o].s;d[x]<e?w-=1<<e-d[x]++-1:++o}for(;o>=0&&w;--o){var z=s[o].s;d[z]==e&&(--d[z],++w)}g=e}return[new n(d),g]},I=function(t,n,r){return-1==t.s?Math.max(I(t.l,n,r+1),I(t.r,n,r+1)):n[t.s]=r},F=function(t){for(var n=t.length;n&&!t[--n];);for(var e=new r(++n),i=0,o=t[0],a=1,s=function(t){e[i++]=t},f=1;f<=n;++f)if(t[f]==o&&f!=n)++a;else{if(!o&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(o),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(o);a=1,o=t[f]}return[e.subarray(0,i),n]},E=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},G=function(t,n,r){var e=r.length,i=D(n+2);t[i]=255&e,t[i+1]=e>>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var o=0;o<e;++o)t[i+o+4]=r[o];return 8*(i+4+e)},P=function(t,n,e,s,f,u,h,c,l,p,v){O(n,v++,e),++f[256];for(var d=Z(f,15),g=d[0],x=d[1],k=Z(u,15),M=k[0],A=k[1],S=F(g),D=S[0],C=S[1],U=F(M),I=U[0],P=U[1],j=new r(19),_=0;_<D.length;++_)j[31&D[_]]++;for(_=0;_<I.length;++_)j[31&I[_]]++;for(var q=Z(j,7),H=q[0],Y=q[1],B=19;B>4&&!H[a[B-1]];--B);var J,K,L,N,Q=p+5<<3,R=E(f,y)+E(u,m)+h,V=E(f,g)+E(u,M)+h+14+3*B+E(j,H)+(2*j[16]+3*j[17]+7*j[18]);if(Q<=R&&Q<=V)return G(n,v,t.subarray(l,l+p));if(O(n,v,1+(V<R)),v+=2,V<R){J=w(g,x,0),K=g,L=w(M,A,0),N=M;var W=w(H,Y,0);for(O(n,v,C-257),O(n,v+5,P-1),O(n,v+10,B-4),v+=14,_=0;_<B;++_)O(n,v+3*_,H[a[_]]);v+=3*B;for(var X=[D,I],$=0;$<2;++$){var tt=X[$];for(_=0;_<tt.length;++_)O(n,v,W[nt=31&tt[_]]),v+=H[nt],nt>15&&(O(n,v,tt[_]>>>5&127),v+=tt[_]>>>12)}}else J=b,K=y,L=z,N=m;for(_=0;_<c;++_)if(s[_]>255){var nt;T(n,v,J[257+(nt=s[_]>>>18&31)]),v+=K[nt+257],nt>7&&(O(n,v,s[_]>>>23&31),v+=i[nt]);var rt=31&s[_];T(n,v,L[rt]),v+=N[rt],rt>3&&(T(n,v,s[_]>>>5&8191),v+=o[rt])}else T(n,v,J[s[_]]),v+=K[s[_]];return T(n,v,J[256]),v+K[256]},j=new e([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_=new n(0),q=function(t,a,s,f,u,c){var l=t.length,v=new n(f+l+5*(1+Math.ceil(l/7e3))+u),d=v.subarray(f,v.length-u),g=0;if(!a||l<8)for(var w=0;w<=l;w+=65535){var y=w+65535;y<l?g=G(d,g,t.subarray(w,y)):(d[w]=c,g=G(d,g,t.subarray(w,l)))}else{for(var m=j[a-1],b=m>>>13,x=8191&m,z=(1<<s)-1,k=new r(32768),M=new r(z+1),A=Math.ceil(s/3),S=2*A,U=function(n){return(t[n]^t[n+1]<<A^t[n+2]<<S)&z},O=new e(25e3),T=new r(288),Z=new r(32),I=0,F=0,E=(w=0,0),q=0,H=0;w<l;++w){var Y=U(w),B=32767&w,J=M[Y];if(k[B]=J,M[Y]=B,q<=w){var K=l-w;if((I>7e3||E>24576)&&K>423){g=P(t,d,0,O,T,Z,F,E,H,w-H,g),E=I=F=0,H=w;for(var L=0;L<286;++L)T[L]=0;for(L=0;L<30;++L)Z[L]=0}var N=2,Q=0,R=x,V=B-J&32767;if(K>2&&Y==U(w-V))for(var W=Math.min(b,K)-1,X=Math.min(32767,w),$=Math.min(258,K);V<=X&&--R&&B!=J;){if(t[w+N]==t[w+N-V]){for(var tt=0;tt<$&&t[w+tt]==t[w+tt-V];++tt);if(tt>N){if(N=tt,Q=V,tt>W)break;var nt=Math.min(V,tt-2),rt=0;for(L=0;L<nt;++L){var et=w-V+L+32768&32767,it=et-k[et]+32768&32767;it>rt&&(rt=it,J=et)}}}V+=(B=J)-(J=k[B])+32768&32767}if(Q){O[E++]=268435456|h[N]<<18|p[Q];var ot=31&h[N],at=31&p[Q];F+=i[ot]+o[at],++T[257+ot],++Z[at],q=w+N,++I}else O[E++]=t[w],++T[t[w]]}}g=P(t,d,c,O,T,Z,F,E,H,w-H,g),!c&&7&g&&(g=G(d,g+1,_))}return C(v,0,f+D(g)+u)},H=function(){for(var t=new e(256),n=0;n<256;++n){for(var r=n,i=9;--i;)r=(1&r&&3988292384)^r>>>1;t[n]=r}return t}(),Y=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=H[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},B=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,o=r.length,a=0;a!=o;){for(var s=Math.min(a+2655,o);a<s;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return((t%=65521)>>>8<<16|(255&(n%=65521))<<8|n>>>8)+2*((255&t)<<23)}}},J=function(t,n,r,e,i){return q(t,null==n.level?6:n.level,null==n.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+n.mem,r,e,!i)},K=function(t,n){var r={};for(var e in t)r[e]=t[e];for(var e in n)r[e]=n[e];return r},L=function(t,n,r){for(var e=t(),i=\"\"+t,o=i.slice(i.indexOf(\"[\")+1,i.lastIndexOf(\"]\")).replace(/ /g,\"\").split(\",\"),a=0;a<e.length;++a){var s=e[a],f=o[a];if(\"function\"==typeof s){n+=\";\"+f+\"=\";var u=\"\"+s;if(s.prototype)if(-1!=u.indexOf(\"[native code]\")){var h=u.indexOf(\" \",8)+1;n+=u.slice(h,u.indexOf(\"(\",h))}else for(var c in n+=u,s.prototype)n+=\";\"+f+\".prototype.\"+c+\"=\"+s.prototype[c];else n+=u}else r[f]=s}return[n,r]},N=[],Q=function(t){var i=[];for(var o in t)(t[o]instanceof n||t[o]instanceof r||t[o]instanceof e)&&i.push((t[o]=new t[o].constructor(t[o])).buffer);return i},R=function(n,r,e,i){var o;if(!N[e]){for(var a=\"\",s={},f=n.length-1,u=0;u<f;++u)a=(o=L(n[u],a,s))[0],s=o[1];N[e]=L(n[f],a,s)}var h=K({},N[e][1]);return t.default(N[e][0]+\";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=\"+r+\"}\",e,h,Q(h),i)},V=function(){return[n,r,e,i,o,a,u,l,x,k,v,w,M,A,S,D,C,U,At,rt,et]},W=function(){return[n,r,e,i,o,a,h,p,b,y,z,m,v,j,_,w,O,T,Z,I,F,E,G,P,D,C,q,J,xt,rt]},X=function(){return[ct,vt,ht,Y,H]},$=function(){return[lt,pt]},tt=function(){return[dt,ht,B]},nt=function(){return[gt]},rt=function(t){return postMessage(t,[t.buffer])},et=function(t){return t&&t.size&&new n(t.size)},it=function(t,n,r,e,i,o){var a=R(r,e,i,(function(t,n){a.terminate(),o(t,n)}));return a.postMessage([t,n],n.consume?[t.buffer]:[]),function(){a.terminate()}},ot=function(t){return t.ondata=function(t,n){return postMessage([t,n],[t.buffer])},function(n){return t.push(n.data[0],n.data[1])}},at=function(t,n,r,e,i){var o,a=R(t,e,i,(function(t,r){t?(a.terminate(),n.ondata.call(n,t)):(r[1]&&a.terminate(),n.ondata.call(n,t,r[0],r[1]))}));a.postMessage(r),n.push=function(t,r){if(o)throw\"stream finished\";if(!n.ondata)throw\"no stream handler\";a.postMessage([t,o=r],[t.buffer])},n.terminate=function(){a.terminate()}},st=function(t,n){return t[n]|t[n+1]<<8},ft=function(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16)+2*(t[n+3]<<23)},ut=function(t,n){return ft(t,n)|4294967296*ft(t,n)},ht=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},ct=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&ht(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},lt=function(t){if(31!=t[0]||139!=t[1]||8!=t[2])throw\"invalid gzip data\";var n=t[3],r=10;4&n&&(r+=t[10]|2+(t[11]<<8));for(var e=(n>>3&1)+(n>>4&1);e>0;e-=!t[r++]);return r+(2&n)},pt=function(t){var n=t.length;return(t[n-4]|t[n-3]<<8|t[n-2]<<16)+2*(t[n-1]<<23)},vt=function(t){return 10+(t.filename&&t.filename.length+1||0)},dt=function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;t[0]=120,t[1]=e<<6|(e?32-2*e:1)},gt=function(t){if(8!=(15&t[0])||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw\"invalid zlib data\";if(32&t[1])throw\"invalid zlib data: preset dictionaries not supported\"};function wt(t,n){return n||\"function\"!=typeof t||(n=t,t={}),this.ondata=n,t}var yt=function(){function t(t,n){n||\"function\"!=typeof t||(n=t,t={}),this.ondata=n,this.o=t||{}}return t.prototype.p=function(t,n){this.ondata(J(t,this.o,0,0,!n),n)},t.prototype.push=function(t,n){if(this.d)throw\"stream finished\";if(!this.ondata)throw\"no stream handler\";this.d=n,this.p(t,n||!1)},t}();_e.Deflate=yt;var mt=function(){return function(t,n){at([W,function(){return[ot,yt]}],this,wt.call(this,t,n),(function(t){var n=new yt(t.data);onmessage=ot(n)}),6)}}();function bt(t,n,r){if(r||(r=n,n={}),\"function\"!=typeof r)throw\"no callback\";return it(t,n,[W],(function(t){return rt(xt(t.data[0],t.data[1]))}),0,r)}function xt(t,n){return J(t,n||{},0,0)}_e.AsyncDeflate=mt,_e.deflate=bt,_e.deflateSync=xt;var zt=function(){function t(t){this.s={},this.p=new n(0),this.ondata=t}return t.prototype.e=function(t){if(this.d)throw\"stream finished\";if(!this.ondata)throw\"no stream handler\";var r=this.p.length,e=new n(r+t.length);e.set(this.p),e.set(t,r),this.p=e},t.prototype.c=function(t){this.d=this.s.i=t||!1;var n=this.s.b,r=U(this.p,this.o,this.s);this.ondata(C(r,n,this.s.b),this.d),this.o=C(r,this.s.b-32768),this.s.b=this.o.length,this.p=C(this.p,this.s.p/8|0),this.s.p&=7},t.prototype.push=function(t,n){this.e(t),this.c(n)},t}();_e.Inflate=zt;var kt=function(){return function(t){this.ondata=t,at([V,function(){return[ot,zt]}],this,0,(function(){var t=new zt;onmessage=ot(t)}),7)}}();function Mt(t,n,r){if(r||(r=n,n={}),\"function\"!=typeof r)throw\"no callback\";return it(t,n,[V],(function(t){return rt(At(t.data[0],et(t.data[1])))}),1,r)}function At(t,n){return U(t,n)}_e.AsyncInflate=kt,_e.inflate=Mt,_e.inflateSync=At;var St=function(){function t(t,n){this.c=Y(),this.l=0,this.v=1,yt.call(this,t,n)}return t.prototype.push=function(t,n){yt.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){this.c.p(t),this.l+=t.length;var r=J(t,this.o,this.v&&vt(this.o),n&&8,!n);this.v&&(ct(r,this.o),this.v=0),n&&(ht(r,r.length-8,this.c.d()),ht(r,r.length-4,this.l)),this.ondata(r,n)},t}();_e.Gzip=St,_e.Compress=St;var Dt=function(){return function(t,n){at([W,X,function(){return[ot,yt,St]}],this,wt.call(this,t,n),(function(t){var n=new St(t.data);onmessage=ot(n)}),8)}}();function Ct(t,n,r){if(r||(r=n,n={}),\"function\"!=typeof r)throw\"no callback\";return it(t,n,[W,X,function(){return[Ut]}],(function(t){return rt(Ut(t.data[0],t.data[1]))}),2,r)}function Ut(t,n){n||(n={});var r=Y(),e=t.length;r.p(t);var i=J(t,n,vt(n),8),o=i.length;return ct(i,n),ht(i,o-8,r.d()),ht(i,o-4,e),i}_e.AsyncGzip=Dt,_e.AsyncCompress=Dt,_e.gzip=Ct,_e.compress=Ct,_e.gzipSync=Ut,_e.compressSync=Ut;var Ot=function(){function t(t){this.v=1,zt.call(this,t)}return t.prototype.push=function(t,n){if(zt.prototype.e.call(this,t),this.v){var r=this.p.length>3?lt(this.p):4;if(r>=this.p.length&&!n)return;this.p=this.p.subarray(r),this.v=0}if(n){if(this.p.length<8)throw\"invalid gzip stream\";this.p=this.p.subarray(0,-8)}zt.prototype.c.call(this,n)},t}();_e.Gunzip=Ot;var Tt=function(){return function(t){this.ondata=t,at([V,$,function(){return[ot,zt,Ot]}],this,0,(function(){var t=new Ot;onmessage=ot(t)}),9)}}();function Zt(t,n,r){if(r||(r=n,n={}),\"function\"!=typeof r)throw\"no callback\";return it(t,n,[V,$,function(){return[It]}],(function(t){return rt(It(t.data[0]))}),3,r)}function It(t,r){return U(t.subarray(lt(t),-8),r||new n(pt(t)))}_e.AsyncGunzip=Tt,_e.gunzip=Zt,_e.gunzipSync=It;var Ft=function(){function t(t,n){this.c=B(),this.v=1,yt.call(this,t,n)}return t.prototype.push=function(t,n){yt.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){this.c.p(t);var r=J(t,this.o,this.v&&2,n&&4,!n);this.v&&(dt(r,this.o),this.v=0),n&&ht(r,r.length-4,this.c.d()),this.ondata(r,n)},t}();_e.Zlib=Ft;var Et=function(){return function(t,n){at([W,tt,function(){return[ot,yt,Ft]}],this,wt.call(this,t,n),(function(t){var n=new Ft(t.data);onmessage=ot(n)}),10)}}();function Gt(t,n,r){if(r||(r=n,n={}),\"function\"!=typeof r)throw\"no callback\";return it(t,n,[W,tt,function(){return[Pt]}],(function(t){return rt(Pt(t.data[0],t.data[1]))}),4,r)}function Pt(t,n){n||(n={});var r=B();r.p(t);var e=J(t,n,2,4);return dt(e,n),ht(e,e.length-4,r.d()),e}_e.AsyncZlib=Et,_e.zlib=Gt,_e.zlibSync=Pt;var jt=function(){function t(t){this.v=1,zt.call(this,t)}return t.prototype.push=function(t,n){if(zt.prototype.e.call(this,t),this.v){if(this.p.length<2&&!n)return;this.p=this.p.subarray(2),this.v=0}if(n){if(this.p.length<4)throw\"invalid zlib stream\";this.p=this.p.subarray(0,-4)}zt.prototype.c.call(this,n)},t}();_e.Unzlib=jt;var _t=function(){return function(t){this.ondata=t,at([V,nt,function(){return[ot,zt,jt]}],this,0,(function(){var t=new jt;onmessage=ot(t)}),11)}}();function qt(t,n,r){if(r||(r=n,n={}),\"function\"!=typeof r)throw\"no callback\";return it(t,n,[V,nt,function(){return[Ht]}],(function(t){return rt(Ht(t.data[0],et(t.data[1])))}),5,r)}function Ht(t,n){return U((gt(t),t.subarray(2,-4)),n)}_e.AsyncUnzlib=_t,_e.unzlib=qt,_e.unzlibSync=Ht;var Yt=function(){function t(t){this.G=Ot,this.I=zt,this.Z=jt,this.ondata=t}return t.prototype.push=function(t,r){if(!this.ondata)throw\"no stream handler\";if(this.s)this.s.push(t,r);else{if(this.p&&this.p.length){var e=new n(this.p.length+t.length);e.set(this.p),e.set(t,this.p.length)}else this.p=t;if(this.p.length>2){var i=this,o=function(){i.ondata.apply(i,arguments)};this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(o):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(o):new this.Z(o),this.s.push(this.p,r),this.p=null}}},t}();_e.Decompress=Yt;var Bt=function(){function t(t){this.G=Tt,this.I=kt,this.Z=_t,this.ondata=t}return t.prototype.push=function(t,n){Yt.prototype.push.call(this,t,n)},t}();function Jt(t,n,r){if(r||(r=n,n={}),\"function\"!=typeof r)throw\"no callback\";return 31==t[0]&&139==t[1]&&8==t[2]?Zt(t,n,r):8!=(15&t[0])||t[0]>>4>7||(t[0]<<8|t[1])%31?Mt(t,n,r):qt(t,n,r)}function Kt(t,n){return 31==t[0]&&139==t[1]&&8==t[2]?It(t,n):8!=(15&t[0])||t[0]>>4>7||(t[0]<<8|t[1])%31?At(t,n):Ht(t,n)}_e.AsyncDecompress=Bt,_e.decompress=Jt,_e.decompressSync=Kt;var Lt=function(t,r,e,i){for(var o in t){var a=t[o],s=r+o;a instanceof n?e[s]=[a,i]:Array.isArray(a)?e[s]=[a[0],K(i,a[1])]:Lt(a,s+\"/\",e,i)}},Nt=\"undefined\"!=typeof TextEncoder&&new TextEncoder,Qt=\"undefined\"!=typeof TextDecoder&&new TextDecoder,Rt=0;try{Qt.decode(_,{stream:!0}),Rt=1}catch(t){}var Vt=function(t){for(var n=\"\",r=0;;){var e=t[r++],i=(e>127)+(e>223)+(e>239);if(r+i>t.length)return[n,C(t,r-1)];i?3==i?(e=((15&e)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536,n+=String.fromCharCode(55296|e>>10,56320|1023&e)):n+=String.fromCharCode(1&i?(31&e)<<6|63&t[r++]:(15&e)<<12|(63&t[r++])<<6|63&t[r++]):n+=String.fromCharCode(e)}},Wt=function(){function t(t){this.ondata=t,Rt?this.t=new TextDecoder:this.p=_}return t.prototype.push=function(t,r){if(!this.ondata)throw\"no callback\";if(r||(r=!1),this.t)return this.ondata(this.t.decode(t,{stream:!r}),r);var e=new n(this.p.length+t.length);e.set(this.p),e.set(t,this.p.length);var i=Vt(e),o=i[0],a=i[1];if(r&&a.length)throw\"invalid utf-8 data\";this.p=a,this.ondata(o,r)},t}();_e.DecodeUTF8=Wt;var Xt=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){if(!this.ondata)throw\"no callback\";this.ondata($t(t),n||!1)},t}();function $t(t,r){if(r){for(var e=new n(t.length),i=0;i<t.length;++i)e[i]=t.charCodeAt(i);return e}if(Nt)return Nt.encode(t);var o=t.length,a=new n(t.length+(t.length>>1)),s=0,f=function(t){a[s++]=t};for(i=0;i<o;++i){if(s+5>a.length){var u=new n(s+8+(o-i<<1));u.set(a),a=u}var h=t.charCodeAt(i);h<128||r?f(h):h<2048?(f(192|h>>>6),f(128|63&h)):h>55295&&h<57344?(f(240|(h=65536+(1047552&h)|1023&t.charCodeAt(++i))>>>18),f(128|h>>>12&63),f(128|h>>>6&63),f(128|63&h)):(f(224|h>>>12),f(128|h>>>6&63),f(128|63&h))}return C(a,0,s)}function tn(t,n){if(n){for(var r=\"\",e=0;e<t.length;e+=16384)r+=String.fromCharCode.apply(null,t.subarray(e,e+16384));return r}if(Qt)return Qt.decode(t);var i=Vt(t);if(i[1].length)throw\"invalid utf-8 data\";return i[0]}_e.EncodeUTF8=Xt,_e.strToU8=$t,_e.strFromU8=tn;var nn=function(t){return 1==t?3:t<6?2:9==t?1:0},rn=function(t,n){return n+30+st(t,n+26)+st(t,n+28)},en=function(t,n,r){var e=st(t,n+28),i=tn(t.subarray(n+46,n+46+e),!(2048&st(t,n+8))),o=n+46+e,a=ft(t,n+20),s=r&&4294967295==a?on(t,o):[a,ft(t,n+24),ft(t,n+42)],f=s[0],u=s[1],h=s[2];return[st(t,n+10),f,u,i,o+st(t,n+30)+st(t,n+32),h]},on=function(t,n){for(;1!=st(t,n);n+=4+st(t,n+2));return[ut(t,n+12),ut(t,n+4),ut(t,n+20)]},an=function(t){var n=0;if(t)for(var r in t){var e=t[r].length;if(e>65535)throw\"extra field too long\";n+=e+4}return n},sn=function(t,n,r,e,i,o,a,s){var f=e.length,u=r.extra,h=s&&s.length,c=an(u);ht(t,n,null!=a?33639248:67324752),n+=4,null!=a&&(t[n++]=20,t[n++]=r.os),t[n]=20,n+=2,t[n++]=r.flag<<1|(null==o&&8),t[n++]=i&&8,t[n++]=255&r.compression,t[n++]=r.compression>>8;var l=new Date(null==r.mtime?Date.now():r.mtime),p=l.getFullYear()-1980;if(p<0||p>119)throw\"date not in range 1980-2099\";if(ht(t,n,2*(p<<24)|l.getMonth()+1<<21|l.getDate()<<16|l.getHours()<<11|l.getMinutes()<<5|l.getSeconds()>>>1),n+=4,null!=o&&(ht(t,n,r.crc),ht(t,n+4,o),ht(t,n+8,r.size)),ht(t,n+12,f),ht(t,n+14,c),n+=16,null!=a&&(ht(t,n,h),ht(t,n+6,r.attrs),ht(t,n+10,a),n+=14),t.set(e,n),n+=f,c)for(var v in u){var d=u[v],g=d.length;ht(t,n,+v),ht(t,n+2,g),t.set(d,n+4),n+=4+g}return h&&(t.set(s,n),n+=h),n},fn=function(t,n,r,e,i){ht(t,n,101010256),ht(t,n+8,r),ht(t,n+10,r),ht(t,n+12,e),ht(t,n+16,i)},un=function(){function t(t){this.filename=t,this.c=Y(),this.size=0,this.compression=0}return t.prototype.process=function(t,n){this.ondata(null,t,n)},t.prototype.push=function(t,n){if(!this.ondata)throw\"no callback - add to ZIP archive before pushing\";this.c.p(t),this.size+=t.length,n&&(this.crc=this.c.d()),this.process(t,n||!1)},t}();_e.ZipPassThrough=un;var hn=function(){function t(t,n){var r=this;n||(n={}),un.call(this,t),this.d=new yt(n,(function(t,n){r.ondata(null,t,n)})),this.compression=8,this.flag=nn(n.level)}return t.prototype.process=function(t,n){try{this.d.push(t,n)}catch(t){this.ondata(t,null,n)}},t.prototype.push=function(t,n){un.prototype.push.call(this,t,n)},t}();_e.ZipDeflate=hn;var cn=function(){function t(t,n){var r=this;n||(n={}),un.call(this,t),this.d=new mt(n,(function(t,n,e){r.ondata(t,n,e)})),this.compression=8,this.flag=nn(n.level),this.terminate=this.d.terminate}return t.prototype.process=function(t,n){this.d.push(t,n)},t.prototype.push=function(t,n){un.prototype.push.call(this,t,n)},t}();_e.AsyncZipDeflate=cn;var ln=function(){function t(t){this.ondata=t,this.u=[],this.d=1}return t.prototype.add=function(t){var r=this;if(2&this.d)throw\"stream finished\";var e=$t(t.filename),i=e.length,o=t.comment,a=o&&$t(o),s=i!=t.filename.length||a&&o.length!=a.length,f=i+an(t.extra)+30;if(i>65535)throw\"filename too long\";var u=new n(f);sn(u,0,t,e,s);var h=[u],c=function(){for(var t=0,n=h;t<n.length;t++)r.ondata(null,n[t],!1);h=[]},l=this.d;this.d=0;var p=this.u.length,v=K(t,{f:e,u:s,o:a,t:function(){t.terminate&&t.terminate()},r:function(){if(c(),l){var t=r.u[p+1];t?t.r():r.d=1}l=1}}),d=0;t.ondata=function(e,i,o){if(e)r.ondata(e,i,o),r.terminate();else if(d+=i.length,h.push(i),o){var a=new n(16);ht(a,0,134695760),ht(a,4,t.crc),ht(a,8,d),ht(a,12,t.size),h.push(a),v.c=d,v.b=f+d+16,v.crc=t.crc,v.size=t.size,l&&v.r(),l=1}else l&&c()},this.u.push(v)},t.prototype.end=function(){var t=this;if(2&this.d){if(1&this.d)throw\"stream finishing\";throw\"stream finished\"}this.d?this.e():this.u.push({r:function(){1&t.d&&(t.u.splice(-1,1),t.e())},t:function(){}}),this.d=3},t.prototype.e=function(){for(var t=0,r=0,e=0,i=0,o=this.u;i<o.length;i++)e+=46+(u=o[i]).f.length+an(u.extra)+(u.o?u.o.length:0);for(var a=new n(e+22),s=0,f=this.u;s<f.length;s++){var u;sn(a,t,u=f[s],u.f,u.u,u.c,r,u.o),t+=46+u.f.length+an(u.extra)+(u.o?u.o.length:0),r+=u.b}fn(a,t,this.u.length,e,r),this.ondata(null,a,!0),this.d=2},t.prototype.terminate=function(){for(var t=0,n=this.u;t<n.length;t++)n[t].t();this.d=2},t}();function pn(t,r,e){if(e||(e=r,r={}),\"function\"!=typeof e)throw\"no callback\";var i={};Lt(t,\"\",i,r);var o=Object.keys(i),a=o.length,s=0,f=0,u=a,h=Array(a),c=[],l=function(){for(var t=0;t<c.length;++t)c[t]()},p=function(){var t=new n(f+22),r=s,i=f-s;f=0;for(var o=0;o<u;++o){var a=h[o];try{var c=a.c.length;sn(t,f,a,a.f,a.u,c);var l=30+a.f.length+an(a.extra),p=f+l;t.set(a.c,p),sn(t,s,a,a.f,a.u,c,f,a.m),s+=16+l+(a.m?a.m.length:0),f=p+c}catch(t){return e(t,null)}}fn(t,s,h.length,i,r),e(null,t)};a||p();for(var v=function(t){var n=o[t],r=i[n],u=r[0],v=r[1],d=Y(),g=u.length;d.p(u);var w=$t(n),y=w.length,m=v.comment,b=m&&$t(m),x=b&&b.length,z=an(v.extra),k=0==v.level?0:8,M=function(r,i){if(r)l(),e(r,null);else{var o=i.length;h[t]=K(v,{size:g,crc:d.d(),c:i,f:w,m:b,u:y!=n.length||b&&m.length!=x,compression:k}),s+=30+y+z+o,f+=76+2*(y+z)+(x||0)+o,--a||p()}};if(y>65535&&M(\"filename too long\",null),k)if(g<16e4)try{M(null,xt(u,v))}catch(t){M(t,null)}else c.push(bt(u,v,M));else M(null,u)},d=0;d<u;++d)v(d);return l}function vn(t,r){r||(r={});var e={},i=[];Lt(t,\"\",e,r);var o=0,a=0;for(var s in e){var f=e[s],u=f[0],h=f[1],c=0==h.level?0:8,l=(M=$t(s)).length,p=h.comment,v=p&&$t(p),d=v&&v.length,g=an(h.extra);if(l>65535)throw\"filename too long\";var w=c?xt(u,h):u,y=w.length,m=Y();m.p(u),i.push(K(h,{size:u.length,crc:m.d(),c:w,f:M,m:v,u:l!=s.length||v&&p.length!=d,o:o,compression:c})),o+=30+l+g+y,a+=76+2*(l+g)+(d||0)+y}for(var b=new n(a+22),x=o,z=a-o,k=0;k<i.length;++k){var M;sn(b,(M=i[k]).o,M,M.f,M.u,M.c.length);var A=30+M.f.length+an(M.extra);b.set(M.c,M.o+A),sn(b,o,M,M.f,M.u,M.c.length,M.o,M.m),o+=16+A+(M.m?M.m.length:0)}return fn(b,o,i.length,z,x),b}_e.Zip=ln,_e.zip=pn,_e.zipSync=vn;var dn=function(){function t(){}return t.prototype.push=function(t,n){this.ondata(null,t,n)},t.compression=0,t}();_e.UnzipPassThrough=dn;var gn=function(){function t(){var t=this;this.i=new zt((function(n,r){t.ondata(null,n,r)}))}return t.prototype.push=function(t,n){try{this.i.push(t,n)}catch(r){this.ondata(r,t,n)}},t.compression=8,t}();_e.UnzipInflate=gn;var wn=function(){function t(t,n){var r=this;n<32e4?this.i=new zt((function(t,n){r.ondata(null,t,n)})):(this.i=new kt((function(t,n,e){r.ondata(t,n,e)})),this.terminate=this.i.terminate)}return t.prototype.push=function(t,n){this.i.terminate&&(t=C(t,0)),this.i.push(t,n)},t.compression=8,t}();_e.AsyncUnzipInflate=wn;var yn=function(){function t(t){this.onfile=t,this.k=[],this.o={0:dn},this.p=_}return t.prototype.push=function(t,r){var e=this;if(!this.onfile)throw\"no callback\";if(this.c>0){var i=Math.min(this.c,t.length),o=t.subarray(0,i);if(this.c-=i,this.d?this.d.push(o,!this.c):this.k[0].push(o),(t=t.subarray(i)).length)return this.push(t,r)}else{var a=0,s=0,f=void 0,u=void 0;this.p.length?t.length?((u=new n(this.p.length+t.length)).set(this.p),u.set(t,this.p.length)):u=this.p:u=t;for(var h=u.length,c=this.c,l=c&&this.d,p=function(){var t,n=ft(u,s);if(67324752==n){a=1,f=s,v.d=null,v.c=0;var r=st(u,s+6),i=st(u,s+8),o=2048&r,l=8&r,p=st(u,s+26),d=st(u,s+28);if(h>s+30+p+d){var g=[];v.k.unshift(g),a=2;var w=ft(u,s+18),y=ft(u,s+22),m=tn(u.subarray(s+30,s+=30+p),!o);4294967295==w?(t=l?[-2]:on(u,s),w=t[0],y=t[1]):l&&(w=-1),s+=d,v.c=w;var b={name:m,compression:i,start:function(){if(!b.ondata)throw\"no callback\";if(w){var t=e.o[i];if(!t)throw\"unknown compression type \"+i;var n=w<0?new t(m):new t(m,w,y);n.ondata=function(t,n,r){b.ondata(t,n,r)};for(var r=0,o=g;r<o.length;r++)n.push(o[r],!1);e.k[0]==g?e.d=n:n.push(_,!0)}else b.ondata(null,_,!0)},terminate:function(){e.k[0]==g&&e.d.terminate&&e.d.terminate()}};w>=0&&(b.size=w,b.originalSize=y),v.onfile(b)}return\"break\"}if(c){if(134695760==n)return f=s+=12+(-2==c&&8),a=2,v.c=0,\"break\";if(33639248==n)return f=s-=4,a=2,v.c=0,\"break\"}},v=this;s<h-4&&\"break\"!==p();++s);if(this.p=_,c<0){var d=u.subarray(0,a?f-12-(-2==c&&8)-(134695760==ft(u,f-16)&&4):s);l?l.push(d,!!a):this.k[+(2==a)].push(d)}if(2&a)return this.push(u.subarray(s),r);this.p=u.subarray(s)}if(r&&this.c)throw\"invalid zip file\"},t.prototype.register=function(t){this.o[t.compression]=t},t}();function mn(t,r){if(\"function\"!=typeof r)throw\"no callback\";for(var e=[],i=function(){for(var t=0;t<e.length;++t)e[t]()},o={},a=t.length-22;101010256!=ft(t,a);--a)if(!a||t.length-a>65558)return void r(\"invalid zip file\",null);var s=st(t,a+8);s||r(null,{});var f=s,u=ft(t,a+16),h=4294967295==u;if(h){if(a=ft(t,a-12),101075792!=ft(t,a))return void r(\"invalid zip file\",null);f=s=ft(t,a+32),u=ft(t,a+48)}for(var c=function(a){var f=en(t,u,h),c=f[0],l=f[1],p=f[2],v=f[3],d=f[4],g=rn(t,f[5]);u=d;var w=function(t,n){t?(i(),r(t,null)):(o[v]=n,--s||r(null,o))};if(c)if(8==c){var y=t.subarray(g,g+l);if(l<32e4)try{w(null,At(y,new n(p)))}catch(t){w(t,null)}else e.push(Mt(y,{size:p},w))}else w(\"unknown compression type \"+c,null);else w(null,C(t,g,g+l))},l=0;l<f;++l)c();return i}function bn(t){for(var r={},e=t.length-22;101010256!=ft(t,e);--e)if(!e||t.length-e>65558)throw\"invalid zip file\";var i=st(t,e+8);if(!i)return{};var o=ft(t,e+16),a=4294967295==o;if(a){if(e=ft(t,e-12),101075792!=ft(t,e))throw\"invalid zip file\";i=ft(t,e+32),o=ft(t,e+48)}for(var s=0;s<i;++s){var f=en(t,o,a),u=f[0],h=f[1],c=f[2],l=f[3],p=f[4],v=rn(t,f[5]);if(o=p,u){if(8!=u)throw\"unknown compression type \"+u;r[l]=At(t.subarray(v,v+h),new n(c))}else r[l]=C(t,v,v+h)}return r}_e.Unzip=yn,_e.unzip=mn,_e.unzipSync=bn;return _e})\r\n", "const THREE = require('../../three.js');\r\nconst fflate = require('../fflate.min.js');\r\n\r\n/**co\r\n * @author Kyle-Larson https://github.com/Kyle-Larson\r\n * @author Takahiro https://github.com/takahirox\r\n * @author Lewy Blue https://github.com/looeee\r\n *\r\n * Loader loads FBX file and generates Group representing FBX scene.\r\n * Requires FBX file to be >= 7.0 and in ASCII or >= 6400 in Binary format\r\n * Versions lower than this may load but will probably have errors\r\n *\r\n * Needs Support:\r\n *  Morph normals / blend shape normals\r\n *\r\n * FBX format references:\r\n * \thttps://wiki.blender.org/index.php/User:Mont29/Foundation/FBX_File_Structure\r\n * \thttp://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_index_html (C++ SDK reference)\r\n *\r\n * \tBinary format specification:\r\n *\t\thttps://code.blender.org/2013/08/fbx-binary-file-format-specification/\r\n */\r\n\r\n\r\n/**\r\n * Loader loads FBX file and generates Group representing FBX scene.\r\n * Requires FBX file to be >= 7.0 and in ASCII or >= 6400 in Binary format\r\n * Versions lower than this may load but will probably have errors\r\n *\r\n * Needs Support:\r\n *  Morph normals / blend shape normals\r\n *\r\n * FBX format references:\r\n * \thttps://wiki.blender.org/index.php/User:Mont29/Foundation/FBX_File_Structure\r\n * \thttp://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_index_html (C++ SDK reference)\r\n *\r\n * \tBinary format specification:\r\n *\t\thttps://code.blender.org/2013/08/fbx-binary-file-format-specification/\r\n */\r\n\r\n\r\n(function () {\r\n\r\n\t/**\r\n * THREE.Loader loads FBX file and generates THREE.Group representing FBX scene.\r\n * Requires FBX file to be >= 7.0 and in ASCII or >= 6400 in Binary format\r\n * Versions lower than this may load but will probably have errors\r\n *\r\n * Needs Support:\r\n *  Morph normals / blend shape normals\r\n *\r\n * FBX format references:\r\n * \thttps://wiki.blender.org/index.php/User:Mont29/Foundation/FBX_File_Structure\r\n * \thttp://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_index_html (C++ SDK reference)\r\n *\r\n * \tBinary format specification:\r\n *\t\thttps://code.blender.org/2013/08/fbx-binary-file-format-specification/\r\n */\r\n\r\n\tlet fbxTree;\r\n\tlet connections;\r\n\tlet sceneGraph;\r\n\r\n\tclass FBXLoader extends THREE.Loader {\r\n\r\n\t\tconstructor(manager) {\r\n\r\n\t\t\tsuper(manager);\r\n\r\n\t\t}\r\n\r\n\t\tload(url, onLoad, onProgress, onError) {\r\n\r\n\t\t\tconst scope = this;\r\n\t\t\tconst path = scope.path === '' ? THREE.LoaderUtils.extractUrlBase(url) : scope.path;\r\n\t\t\tconst loader = new THREE.FileLoader(this.manager);\r\n\t\t\tloader.setPath(scope.path);\r\n\t\t\tloader.setResponseType('arraybuffer');\r\n\t\t\tloader.setRequestHeader(scope.requestHeader);\r\n\t\t\tloader.setWithCredentials(scope.withCredentials);\r\n\t\t\tloader.load(url, function (buffer) {\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tonLoad(scope.parse(buffer, path));\r\n\r\n\t\t\t\t} catch (e) {\r\n\r\n\t\t\t\t\tif (onError) {\r\n\r\n\t\t\t\t\t\tonError(e);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.error(e);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemError(url);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError);\r\n\r\n\t\t}\r\n\r\n\t\tparse(FBXBuffer, path) {\r\n\r\n\t\t\tif (isFbxFormatBinary(FBXBuffer)) {\r\n\r\n\t\t\t\tfbxTree = new BinaryParser().parse(FBXBuffer);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconst FBXText = convertArrayBufferToString(FBXBuffer);\r\n\r\n\t\t\t\tif (!isFbxFormatASCII(FBXText)) {\r\n\r\n\t\t\t\t\tthrow new Error('THREE.FBXLoader: Unknown format.');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (getFbxVersion(FBXText) < 7000) {\r\n\r\n\t\t\t\t\tthrow new Error('THREE.FBXLoader: FBX version not supported, FileVersion: ' + getFbxVersion(FBXText));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfbxTree = new TextParser().parse(FBXText);\r\n\r\n\t\t\t} // console.log( fbxTree );\r\n\r\n\r\n\t\t\tconst textureLoader = new THREE.TextureLoader(this.manager).setPath(this.resourcePath || path).setCrossOrigin(this.crossOrigin);\r\n\t\t\treturn new FBXTreeParser(textureLoader, this.manager).parse(fbxTree);\r\n\r\n\t\t}\r\n\r\n\t} // Parse the FBXTree object returned by the BinaryParser or TextParser and return a THREE.Group\r\n\r\n\r\n\tclass FBXTreeParser {\r\n\r\n\t\tconstructor(textureLoader, manager) {\r\n\r\n\t\t\tthis.textureLoader = textureLoader;\r\n\t\t\tthis.manager = manager;\r\n\r\n\t\t}\r\n\r\n\t\tparse() {\r\n\r\n\t\t\tconnections = this.parseConnections();\r\n\t\t\tconst images = this.parseImages();\r\n\t\t\tconst textures = this.parseTextures(images);\r\n\t\t\tconst materials = this.parseMaterials(textures);\r\n\t\t\tconst deformers = this.parseDeformers();\r\n\t\t\tconst geometryMap = new GeometryParser().parse(deformers);\r\n\t\t\tthis.parseScene(deformers, geometryMap, materials);\r\n\t\t\treturn sceneGraph;\r\n\r\n\t\t} // Parses FBXTree.Connections which holds parent-child connections between objects (e.g. material -> texture, model->geometry )\r\n\t\t// and details the connection type\r\n\r\n\r\n\t\tparseConnections() {\r\n\r\n\t\t\tconst connectionMap = new Map();\r\n\r\n\t\t\tif ('Connections' in fbxTree) {\r\n\r\n\t\t\t\tconst rawConnections = fbxTree.Connections.connections;\r\n\t\t\t\trawConnections.forEach(function (rawConnection) {\r\n\r\n\t\t\t\t\tconst fromID = rawConnection[0];\r\n\t\t\t\t\tconst toID = rawConnection[1];\r\n\t\t\t\t\tconst relationship = rawConnection[2];\r\n\r\n\t\t\t\t\tif (!connectionMap.has(fromID)) {\r\n\r\n\t\t\t\t\t\tconnectionMap.set(fromID, {\r\n\t\t\t\t\t\t\tparents: [],\r\n\t\t\t\t\t\t\tchildren: []\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst parentRelationship = {\r\n\t\t\t\t\t\tID: toID,\r\n\t\t\t\t\t\trelationship: relationship\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconnectionMap.get(fromID).parents.push(parentRelationship);\r\n\r\n\t\t\t\t\tif (!connectionMap.has(toID)) {\r\n\r\n\t\t\t\t\t\tconnectionMap.set(toID, {\r\n\t\t\t\t\t\t\tparents: [],\r\n\t\t\t\t\t\t\tchildren: []\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst childRelationship = {\r\n\t\t\t\t\t\tID: fromID,\r\n\t\t\t\t\t\trelationship: relationship\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconnectionMap.get(toID).children.push(childRelationship);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn connectionMap;\r\n\r\n\t\t} // Parse FBXTree.Objects.Video for embedded image data\r\n\t\t// These images are connected to textures in FBXTree.Objects.Textures\r\n\t\t// via FBXTree.Connections.\r\n\r\n\r\n\t\tparseImages() {\r\n\r\n\t\t\tconst images = {};\r\n\t\t\tconst blobs = {};\r\n\r\n\t\t\tif ('Video' in fbxTree.Objects) {\r\n\r\n\t\t\t\tconst videoNodes = fbxTree.Objects.Video;\r\n\r\n\t\t\t\tfor (const nodeID in videoNodes) {\r\n\r\n\t\t\t\t\tconst videoNode = videoNodes[nodeID];\r\n\t\t\t\t\tconst id = parseInt(nodeID);\r\n\t\t\t\t\timages[id] = videoNode.RelativeFilename || videoNode.Filename; // raw image data is in videoNode.Content\r\n\r\n\t\t\t\t\tif ('Content' in videoNode) {\r\n\r\n\t\t\t\t\t\tconst arrayBufferContent = videoNode.Content instanceof ArrayBuffer && videoNode.Content.byteLength > 0;\r\n\t\t\t\t\t\tconst base64Content = typeof videoNode.Content === 'string' && videoNode.Content !== '';\r\n\r\n\t\t\t\t\t\tif (arrayBufferContent || base64Content) {\r\n\r\n\t\t\t\t\t\t\tconst image = this.parseImage(videoNodes[nodeID]);\r\n\t\t\t\t\t\t\tblobs[videoNode.RelativeFilename || videoNode.Filename] = image;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor (const id in images) {\r\n\r\n\t\t\t\tconst filename = images[id];\r\n\t\t\t\tif (blobs[filename] !== undefined) images[id] = blobs[filename]; else images[id] = images[id].split('\\\\').pop();\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn images;\r\n\r\n\t\t} // Parse embedded image data in FBXTree.Video.Content\r\n\r\n\r\n\t\tparseImage(videoNode) {\r\n\r\n\t\t\tconst content = videoNode.Content;\r\n\t\t\tconst fileName = videoNode.RelativeFilename || videoNode.Filename;\r\n\t\t\tconst extension = fileName.slice(fileName.lastIndexOf('.') + 1).toLowerCase();\r\n\t\t\tlet type;\r\n\r\n\t\t\tswitch (extension) {\r\n\r\n\t\t\t\tcase 'bmp':\r\n\t\t\t\t\ttype = 'image/bmp';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'jpg':\r\n\t\t\t\tcase 'jpeg':\r\n\t\t\t\t\ttype = 'image/jpeg';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'png':\r\n\t\t\t\t\ttype = 'image/png';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'tif':\r\n\t\t\t\t\ttype = 'image/tiff';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'tga':\r\n\t\t\t\t\tif (this.manager.getHandler('.tga') === null) {\r\n\r\n\t\t\t\t\t\tconsole.warn('FBXLoader: TGA loader not found, skipping ', fileName);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttype = 'image/tga';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.warn('FBXLoader: Image type \"' + extension + '\" is not supported.');\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof content === 'string') {\r\n\r\n\t\t\t\t// ASCII format\r\n\t\t\t\treturn 'data:' + type + ';base64,' + content;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Binary Format\r\n\t\t\t\tconst array = new Uint8Array(content);\r\n\t\t\t\treturn window.URL.createObjectURL(new Blob([array], {\r\n\t\t\t\t\ttype: type\r\n\t\t\t\t}));\r\n\r\n\t\t\t}\r\n\r\n\t\t} // Parse nodes in FBXTree.Objects.Texture\r\n\t\t// These contain details such as UV scaling, cropping, rotation etc and are connected\r\n\t\t// to images in FBXTree.Objects.Video\r\n\r\n\r\n\t\tparseTextures(images) {\r\n\r\n\t\t\tconst textureMap = new Map();\r\n\r\n\t\t\tif ('Texture' in fbxTree.Objects) {\r\n\r\n\t\t\t\tconst textureNodes = fbxTree.Objects.Texture;\r\n\r\n\t\t\t\tfor (const nodeID in textureNodes) {\r\n\r\n\t\t\t\t\tconst texture = this.parseTexture(textureNodes[nodeID], images);\r\n\t\t\t\t\ttextureMap.set(parseInt(nodeID), texture);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn textureMap;\r\n\r\n\t\t} // Parse individual node in FBXTree.Objects.Texture\r\n\r\n\r\n\t\tparseTexture(textureNode, images) {\r\n\r\n\t\t\tconst texture = this.loadTexture(textureNode, images);\r\n\t\t\ttexture.ID = textureNode.id;\r\n\t\t\ttexture.name = textureNode.attrName;\r\n\t\t\tconst wrapModeU = textureNode.WrapModeU;\r\n\t\t\tconst wrapModeV = textureNode.WrapModeV;\r\n\t\t\tconst valueU = wrapModeU !== undefined ? wrapModeU.value : 0;\r\n\t\t\tconst valueV = wrapModeV !== undefined ? wrapModeV.value : 0; // http://download.autodesk.com/us/fbx/SDKdocs/FBX_SDK_Help/files/fbxsdkref/class_k_fbx_texture.html#889640e63e2e681259ea81061b85143a\r\n\t\t\t// 0: repeat(default), 1: clamp\r\n\r\n\t\t\ttexture.wrapS = valueU === 0 ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\r\n\t\t\ttexture.wrapT = valueV === 0 ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\r\n\r\n\t\t\tif ('Scaling' in textureNode) {\r\n\r\n\t\t\t\tconst values = textureNode.Scaling.value;\r\n\t\t\t\ttexture.repeat.x = values[0];\r\n\t\t\t\ttexture.repeat.y = values[1];\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn texture;\r\n\r\n\t\t} // load a texture specified as a blob or data URI, or via an external URL using THREE.TextureLoader\r\n\r\n\r\n\t\tloadTexture(textureNode, images) {\r\n\r\n\t\t\tlet fileName;\r\n\t\t\tconst currentPath = this.textureLoader.path;\r\n\t\t\tconst children = connections.get(textureNode.id).children;\r\n\r\n\t\t\tif (children !== undefined && children.length > 0 && images[children[0].ID] !== undefined) {\r\n\r\n\t\t\t\tfileName = images[children[0].ID];\r\n\r\n\t\t\t\tif (fileName.indexOf('blob:') === 0 || fileName.indexOf('data:') === 0) {\r\n\r\n\t\t\t\t\tthis.textureLoader.setPath(undefined);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlet texture;\r\n\t\t\tconst extension = textureNode.FileName.slice(- 3).toLowerCase();\r\n\r\n\t\t\tif (extension === 'tga') {\r\n\r\n\t\t\t\tconst loader = this.manager.getHandler('.tga');\r\n\r\n\t\t\t\tif (loader === null) {\r\n\r\n\t\t\t\t\tconsole.warn('FBXLoader: TGA loader not found, creating placeholder texture for', textureNode.RelativeFilename);\r\n\t\t\t\t\ttexture = new THREE.Texture();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tloader.setPath(this.textureLoader.path);\r\n\t\t\t\t\ttexture = loader.load(fileName);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (extension === 'psd') {\r\n\r\n\t\t\t\tconsole.warn('FBXLoader: PSD textures are not supported, creating placeholder texture for', textureNode.RelativeFilename);\r\n\t\t\t\ttexture = new THREE.Texture();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\ttexture = this.textureLoader.load(fileName);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.textureLoader.setPath(currentPath);\r\n\t\t\treturn texture;\r\n\r\n\t\t} // Parse nodes in FBXTree.Objects.Material\r\n\r\n\r\n\t\tparseMaterials(textureMap) {\r\n\r\n\t\t\tconst materialMap = new Map();\r\n\r\n\t\t\tif ('Material' in fbxTree.Objects) {\r\n\r\n\t\t\t\tconst materialNodes = fbxTree.Objects.Material;\r\n\r\n\t\t\t\tfor (const nodeID in materialNodes) {\r\n\r\n\t\t\t\t\tconst material = this.parseMaterial(materialNodes[nodeID], textureMap);\r\n\t\t\t\t\tif (material !== null) materialMap.set(parseInt(nodeID), material);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn materialMap;\r\n\r\n\t\t} // Parse single node in FBXTree.Objects.Material\r\n\t\t// Materials are connected to texture maps in FBXTree.Objects.Textures\r\n\t\t// FBX format currently only supports Lambert and Phong shading models\r\n\r\n\r\n\t\tparseMaterial(materialNode, textureMap) {\r\n\r\n\t\t\tconst ID = materialNode.id;\r\n\t\t\tconst name = materialNode.attrName;\r\n\t\t\tlet type = materialNode.ShadingModel; // Case where FBX wraps shading model in property object.\r\n\r\n\t\t\tif (typeof type === 'object') {\r\n\r\n\t\t\t\ttype = type.value;\r\n\r\n\t\t\t} // Ignore unused materials which don't have any connections.\r\n\r\n\r\n\t\t\tif (!connections.has(ID)) return null;\r\n\t\t\tconst parameters = this.parseParameters(materialNode, textureMap, ID);\r\n\t\t\tlet material;\r\n\r\n\t\t\tswitch (type.toLowerCase()) {\r\n\r\n\t\t\t\tcase 'phong':\r\n\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'lambert':\r\n\t\t\t\t\tmaterial = new THREE.MeshLambertMaterial();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.warn('THREE.FBXLoader: unknown material type \"%s\". Defaulting to THREE.MeshPhongMaterial.', type);\r\n\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial.setValues(parameters);\r\n\t\t\tmaterial.name = name;\r\n\t\t\treturn material;\r\n\r\n\t\t} // Parse FBX material and return parameters suitable for a three.js material\r\n\t\t// Also parse the texture map and return any textures associated with the material\r\n\r\n\r\n\t\tparseParameters(materialNode, textureMap, ID) {\r\n\r\n\t\t\tconst parameters = {};\r\n\r\n\t\t\tif (materialNode.BumpFactor) {\r\n\r\n\t\t\t\tparameters.bumpScale = materialNode.BumpFactor.value;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialNode.Diffuse) {\r\n\r\n\t\t\t\tparameters.color = new THREE.Color().fromArray(materialNode.Diffuse.value);\r\n\r\n\t\t\t} else if (materialNode.DiffuseColor && (materialNode.DiffuseColor.type === 'Color' || materialNode.DiffuseColor.type === 'ColorRGB')) {\r\n\r\n\t\t\t\t// The blender exporter exports diffuse here instead of in materialNode.Diffuse\r\n\t\t\t\tparameters.color = new THREE.Color().fromArray(materialNode.DiffuseColor.value);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialNode.DisplacementFactor) {\r\n\r\n\t\t\t\tparameters.displacementScale = materialNode.DisplacementFactor.value;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialNode.Emissive) {\r\n\r\n\t\t\t\tparameters.emissive = new THREE.Color().fromArray(materialNode.Emissive.value);\r\n\r\n\t\t\t} else if (materialNode.EmissiveColor && (materialNode.EmissiveColor.type === 'Color' || materialNode.EmissiveColor.type === 'ColorRGB')) {\r\n\r\n\t\t\t\t// The blender exporter exports emissive color here instead of in materialNode.Emissive\r\n\t\t\t\tparameters.emissive = new THREE.Color().fromArray(materialNode.EmissiveColor.value);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialNode.EmissiveFactor) {\r\n\r\n\t\t\t\tparameters.emissiveIntensity = parseFloat(materialNode.EmissiveFactor.value);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialNode.Opacity) {\r\n\r\n\t\t\t\tparameters.opacity = parseFloat(materialNode.Opacity.value);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (parameters.opacity < 1.0) {\r\n\r\n\t\t\t\tparameters.transparent = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialNode.ReflectionFactor) {\r\n\r\n\t\t\t\tparameters.reflectivity = materialNode.ReflectionFactor.value;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialNode.Shininess) {\r\n\r\n\t\t\t\tparameters.shininess = materialNode.Shininess.value;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialNode.Specular) {\r\n\r\n\t\t\t\tparameters.specular = new THREE.Color().fromArray(materialNode.Specular.value);\r\n\r\n\t\t\t} else if (materialNode.SpecularColor && materialNode.SpecularColor.type === 'Color') {\r\n\r\n\t\t\t\t// The blender exporter exports specular color here instead of in materialNode.Specular\r\n\t\t\t\tparameters.specular = new THREE.Color().fromArray(materialNode.SpecularColor.value);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst scope = this;\r\n\t\t\tconnections.get(ID).children.forEach(function (child) {\r\n\r\n\t\t\t\tconst type = child.relationship;\r\n\r\n\t\t\t\tswitch (type) {\r\n\r\n\t\t\t\t\tcase 'Bump':\r\n\t\t\t\t\t\tparameters.bumpMap = scope.getTexture(textureMap, child.ID);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'Maya|TEX_ao_map':\r\n\t\t\t\t\t\tparameters.aoMap = scope.getTexture(textureMap, child.ID);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'DiffuseColor':\r\n\t\t\t\t\tcase 'Maya|TEX_color_map':\r\n\t\t\t\t\t\tparameters.map = scope.getTexture(textureMap, child.ID);\r\n\r\n\t\t\t\t\t\tif (parameters.map !== undefined) {\r\n\r\n\t\t\t\t\t\t\tparameters.map.encoding = THREE.sRGBEncoding;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'DisplacementColor':\r\n\t\t\t\t\t\tparameters.displacementMap = scope.getTexture(textureMap, child.ID);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'EmissiveColor':\r\n\t\t\t\t\t\tparameters.emissiveMap = scope.getTexture(textureMap, child.ID);\r\n\r\n\t\t\t\t\t\tif (parameters.emissiveMap !== undefined) {\r\n\r\n\t\t\t\t\t\t\tparameters.emissiveMap.encoding = THREE.sRGBEncoding;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'NormalMap':\r\n\t\t\t\t\tcase 'Maya|TEX_normal_map':\r\n\t\t\t\t\t\tparameters.normalMap = scope.getTexture(textureMap, child.ID);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ReflectionColor':\r\n\t\t\t\t\t\tparameters.envMap = scope.getTexture(textureMap, child.ID);\r\n\r\n\t\t\t\t\t\tif (parameters.envMap !== undefined) {\r\n\r\n\t\t\t\t\t\t\tparameters.envMap.mapping = THREE.EquirectangularReflectionMapping;\r\n\t\t\t\t\t\t\tparameters.envMap.encoding = THREE.sRGBEncoding;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'SpecularColor':\r\n\t\t\t\t\t\tparameters.specularMap = scope.getTexture(textureMap, child.ID);\r\n\r\n\t\t\t\t\t\tif (parameters.specularMap !== undefined) {\r\n\r\n\t\t\t\t\t\t\tparameters.specularMap.encoding = THREE.sRGBEncoding;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'TransparentColor':\r\n\t\t\t\t\tcase 'TransparencyFactor':\r\n\t\t\t\t\t\tparameters.alphaMap = scope.getTexture(textureMap, child.ID);\r\n\t\t\t\t\t\tparameters.transparent = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'AmbientColor':\r\n\t\t\t\t\tcase 'ShininessExponent': // AKA glossiness map\r\n\r\n\t\t\t\t\tcase 'SpecularFactor': // AKA specularLevel\r\n\r\n\t\t\t\t\tcase 'VectorDisplacementColor': // NOTE: Seems to be a copy of DisplacementColor\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.warn('THREE.FBXLoader: %s map is not supported in three.js, skipping texture.', type);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t\treturn parameters;\r\n\r\n\t\t} // get a texture from the textureMap for use by a material.\r\n\r\n\r\n\t\tgetTexture(textureMap, id) {\r\n\r\n\t\t\t// if the texture is a layered texture, just use the first layer and issue a warning\r\n\t\t\tif ('LayeredTexture' in fbxTree.Objects && id in fbxTree.Objects.LayeredTexture) {\r\n\r\n\t\t\t\tconsole.warn('THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.');\r\n\t\t\t\tid = connections.get(id).children[0].ID;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn textureMap.get(id);\r\n\r\n\t\t} // Parse nodes in FBXTree.Objects.Deformer\r\n\t\t// Deformer node can contain skinning or Vertex Cache animation data, however only skinning is supported here\r\n\t\t// Generates map of THREE.Skeleton-like objects for use later when generating and binding skeletons.\r\n\r\n\r\n\t\tparseDeformers() {\r\n\r\n\t\t\tconst skeletons = {};\r\n\t\t\tconst morphTargets = {};\r\n\r\n\t\t\tif ('Deformer' in fbxTree.Objects) {\r\n\r\n\t\t\t\tconst DeformerNodes = fbxTree.Objects.Deformer;\r\n\r\n\t\t\t\tfor (const nodeID in DeformerNodes) {\r\n\r\n\t\t\t\t\tconst deformerNode = DeformerNodes[nodeID];\r\n\t\t\t\t\tconst relationships = connections.get(parseInt(nodeID));\r\n\r\n\t\t\t\t\tif (deformerNode.attrType === 'Skin') {\r\n\r\n\t\t\t\t\t\tconst skeleton = this.parseSkeleton(relationships, DeformerNodes);\r\n\t\t\t\t\t\tskeleton.ID = nodeID;\r\n\t\t\t\t\t\tif (relationships.parents.length > 1) console.warn('THREE.FBXLoader: skeleton attached to more than one geometry is not supported.');\r\n\t\t\t\t\t\tskeleton.geometryID = relationships.parents[0].ID;\r\n\t\t\t\t\t\tskeletons[nodeID] = skeleton;\r\n\r\n\t\t\t\t\t} else if (deformerNode.attrType === 'BlendShape') {\r\n\r\n\t\t\t\t\t\tconst morphTarget = {\r\n\t\t\t\t\t\t\tid: nodeID\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tmorphTarget.rawTargets = this.parseMorphTargets(relationships, DeformerNodes);\r\n\t\t\t\t\t\tmorphTarget.id = nodeID;\r\n\t\t\t\t\t\tif (relationships.parents.length > 1) console.warn('THREE.FBXLoader: morph target attached to more than one geometry is not supported.');\r\n\t\t\t\t\t\tmorphTargets[nodeID] = morphTarget;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tskeletons: skeletons,\r\n\t\t\t\tmorphTargets: morphTargets\r\n\t\t\t};\r\n\r\n\t\t} // Parse single nodes in FBXTree.Objects.Deformer\r\n\t\t// The top level skeleton node has type 'Skin' and sub nodes have type 'Cluster'\r\n\t\t// Each skin node represents a skeleton and each cluster node represents a bone\r\n\r\n\r\n\t\tparseSkeleton(relationships, deformerNodes) {\r\n\r\n\t\t\tconst rawBones = [];\r\n\t\t\trelationships.children.forEach(function (child) {\r\n\r\n\t\t\t\tconst boneNode = deformerNodes[child.ID];\r\n\t\t\t\tif (boneNode.attrType !== 'Cluster') return;\r\n\t\t\t\tconst rawBone = {\r\n\t\t\t\t\tID: child.ID,\r\n\t\t\t\t\tindices: [],\r\n\t\t\t\t\tweights: [],\r\n\t\t\t\t\ttransformLink: new THREE.Matrix4().fromArray(boneNode.TransformLink.a) // transform: new THREE.Matrix4().fromArray( boneNode.Transform.a ),\r\n\t\t\t\t\t// linkMode: boneNode.Mode,\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif ('Indexes' in boneNode) {\r\n\r\n\t\t\t\t\trawBone.indices = boneNode.Indexes.a;\r\n\t\t\t\t\trawBone.weights = boneNode.Weights.a;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\trawBones.push(rawBone);\r\n\r\n\t\t\t});\r\n\t\t\treturn {\r\n\t\t\t\trawBones: rawBones,\r\n\t\t\t\tbones: []\r\n\t\t\t};\r\n\r\n\t\t} // The top level morph deformer node has type \"BlendShape\" and sub nodes have type \"BlendShapeChannel\"\r\n\r\n\r\n\t\tparseMorphTargets(relationships, deformerNodes) {\r\n\r\n\t\t\tconst rawMorphTargets = [];\r\n\r\n\t\t\tfor (let i = 0; i < relationships.children.length; i++) {\r\n\r\n\t\t\t\tconst child = relationships.children[i];\r\n\t\t\t\tconst morphTargetNode = deformerNodes[child.ID];\r\n\t\t\t\tconst rawMorphTarget = {\r\n\t\t\t\t\tname: morphTargetNode.attrName,\r\n\t\t\t\t\tinitialWeight: morphTargetNode.DeformPercent,\r\n\t\t\t\t\tid: morphTargetNode.id,\r\n\t\t\t\t\tfullWeights: morphTargetNode.FullWeights.a\r\n\t\t\t\t};\r\n\t\t\t\tif (morphTargetNode.attrType !== 'BlendShapeChannel') return;\r\n\t\t\t\trawMorphTarget.geoID = connections.get(parseInt(child.ID)).children.filter(function (child) {\r\n\r\n\t\t\t\t\treturn child.relationship === undefined;\r\n\r\n\t\t\t\t})[0].ID;\r\n\t\t\t\trawMorphTargets.push(rawMorphTarget);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn rawMorphTargets;\r\n\r\n\t\t} // create the main THREE.Group() to be returned by the loader\r\n\r\n\r\n\t\tparseScene(deformers, geometryMap, materialMap) {\r\n\r\n\t\t\tsceneGraph = new THREE.Group();\r\n\t\t\tconst modelMap = this.parseModels(deformers.skeletons, geometryMap, materialMap);\r\n\t\t\tconst modelNodes = fbxTree.Objects.Model;\r\n\t\t\tconst scope = this;\r\n\t\t\tmodelMap.forEach(function (model) {\r\n\r\n\t\t\t\tconst modelNode = modelNodes[model.ID];\r\n\t\t\t\tscope.setLookAtProperties(model, modelNode);\r\n\t\t\t\tconst parentConnections = connections.get(model.ID).parents;\r\n\t\t\t\tparentConnections.forEach(function (connection) {\r\n\r\n\t\t\t\t\tconst parent = modelMap.get(connection.ID);\r\n\t\t\t\t\tif (parent !== undefined) parent.add(model);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (model.parent === null) {\r\n\r\n\t\t\t\t\tsceneGraph.add(model);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t\tthis.bindSkeleton(deformers.skeletons, geometryMap, modelMap);\r\n\t\t\tthis.createAmbientLight();\r\n\t\t\tsceneGraph.traverse(function (node) {\r\n\r\n\t\t\t\tif (node.userData.transformData) {\r\n\r\n\t\t\t\t\tif (node.parent) {\r\n\r\n\t\t\t\t\t\tnode.userData.transformData.parentMatrix = node.parent.matrix;\r\n\t\t\t\t\t\tnode.userData.transformData.parentMatrixWorld = node.parent.matrixWorld;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst transform = generateTransform(node.userData.transformData);\r\n\t\t\t\t\tnode.applyMatrix4(transform);\r\n\t\t\t\t\tnode.updateWorldMatrix();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t\tconst animations = new AnimationParser().parse(); // if all the models where already combined in a single group, just return that\r\n\r\n\t\t\tif (sceneGraph.children.length === 1 && sceneGraph.children[0].isGroup) {\r\n\r\n\t\t\t\tsceneGraph.children[0].animations = animations;\r\n\t\t\t\tsceneGraph = sceneGraph.children[0];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tsceneGraph.animations = animations;\r\n\r\n\t\t} // parse nodes in FBXTree.Objects.Model\r\n\r\n\r\n\t\tparseModels(skeletons, geometryMap, materialMap) {\r\n\r\n\t\t\tconst modelMap = new Map();\r\n\t\t\tconst modelNodes = fbxTree.Objects.Model;\r\n\r\n\t\t\tfor (const nodeID in modelNodes) {\r\n\r\n\t\t\t\tconst id = parseInt(nodeID);\r\n\t\t\t\tconst node = modelNodes[nodeID];\r\n\t\t\t\tconst relationships = connections.get(id);\r\n\t\t\t\tlet model = this.buildSkeleton(relationships, skeletons, id, node.attrName);\r\n\r\n\t\t\t\tif (!model) {\r\n\r\n\t\t\t\t\tswitch (node.attrType) {\r\n\r\n\t\t\t\t\t\tcase 'Camera':\r\n\t\t\t\t\t\t\tmodel = this.createCamera(relationships);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'Light':\r\n\t\t\t\t\t\t\tmodel = this.createLight(relationships);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'Mesh':\r\n\t\t\t\t\t\t\tmodel = this.createMesh(relationships, geometryMap, materialMap);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'NurbsCurve':\r\n\t\t\t\t\t\t\tmodel = this.createCurve(relationships, geometryMap);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'LimbNode':\r\n\t\t\t\t\t\tcase 'Root':\r\n\t\t\t\t\t\t\tmodel = new THREE.Bone();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'Null':\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tmodel = new THREE.Group();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmodel.name = node.attrName ? THREE.PropertyBinding.sanitizeNodeName(node.attrName) : '';\r\n\t\t\t\t\tmodel.ID = id;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.getTransformData(model, node);\r\n\t\t\t\tmodelMap.set(id, model);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn modelMap;\r\n\r\n\t\t}\r\n\r\n\t\tbuildSkeleton(relationships, skeletons, id, name) {\r\n\r\n\t\t\tlet bone = null;\r\n\t\t\trelationships.parents.forEach(function (parent) {\r\n\r\n\t\t\t\tfor (const ID in skeletons) {\r\n\r\n\t\t\t\t\tconst skeleton = skeletons[ID];\r\n\t\t\t\t\tskeleton.rawBones.forEach(function (rawBone, i) {\r\n\r\n\t\t\t\t\t\tif (rawBone.ID === parent.ID) {\r\n\r\n\t\t\t\t\t\t\tconst subBone = bone;\r\n\t\t\t\t\t\t\tbone = new THREE.Bone();\r\n\t\t\t\t\t\t\tbone.matrixWorld.copy(rawBone.transformLink); // set name and id here - otherwise in cases where \"subBone\" is created it will not have a name / id\r\n\r\n\t\t\t\t\t\t\tbone.name = name ? THREE.PropertyBinding.sanitizeNodeName(name) : '';\r\n\t\t\t\t\t\t\tbone.ID = id;\r\n\t\t\t\t\t\t\tskeleton.bones[i] = bone; // In cases where a bone is shared between multiple meshes\r\n\t\t\t\t\t\t\t// duplicate the bone here and and it as a child of the first bone\r\n\r\n\t\t\t\t\t\t\tif (subBone !== null) {\r\n\r\n\t\t\t\t\t\t\t\tbone.add(subBone);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t\treturn bone;\r\n\r\n\t\t} // create a THREE.PerspectiveCamera or THREE.OrthographicCamera\r\n\r\n\r\n\t\tcreateCamera(relationships) {\r\n\r\n\t\t\tlet model;\r\n\t\t\tlet cameraAttribute;\r\n\t\t\trelationships.children.forEach(function (child) {\r\n\r\n\t\t\t\tconst attr = fbxTree.Objects.NodeAttribute[child.ID];\r\n\r\n\t\t\t\tif (attr !== undefined) {\r\n\r\n\t\t\t\t\tcameraAttribute = attr;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\tif (cameraAttribute === undefined) {\r\n\r\n\t\t\t\tmodel = new THREE.Object3D();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tlet type = 0;\r\n\r\n\t\t\t\tif (cameraAttribute.CameraProjectionType !== undefined && cameraAttribute.CameraProjectionType.value === 1) {\r\n\r\n\t\t\t\t\ttype = 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet nearClippingPlane = 1;\r\n\r\n\t\t\t\tif (cameraAttribute.NearPlane !== undefined) {\r\n\r\n\t\t\t\t\tnearClippingPlane = cameraAttribute.NearPlane.value / 1000;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet farClippingPlane = 1000;\r\n\r\n\t\t\t\tif (cameraAttribute.FarPlane !== undefined) {\r\n\r\n\t\t\t\t\tfarClippingPlane = cameraAttribute.FarPlane.value / 1000;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet width = window.innerWidth;\r\n\t\t\t\tlet height = window.innerHeight;\r\n\r\n\t\t\t\tif (cameraAttribute.AspectWidth !== undefined && cameraAttribute.AspectHeight !== undefined) {\r\n\r\n\t\t\t\t\twidth = cameraAttribute.AspectWidth.value;\r\n\t\t\t\t\theight = cameraAttribute.AspectHeight.value;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst aspect = width / height;\r\n\t\t\t\tlet fov = 45;\r\n\r\n\t\t\t\tif (cameraAttribute.FieldOfView !== undefined) {\r\n\r\n\t\t\t\t\tfov = cameraAttribute.FieldOfView.value;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst focalLength = cameraAttribute.FocalLength ? cameraAttribute.FocalLength.value : null;\r\n\r\n\t\t\t\tswitch (type) {\r\n\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t// Perspective\r\n\t\t\t\t\t\tmodel = new THREE.PerspectiveCamera(fov, aspect, nearClippingPlane, farClippingPlane);\r\n\t\t\t\t\t\tif (focalLength !== null) model.setFocalLength(focalLength);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t// Orthographic\r\n\t\t\t\t\t\tmodel = new THREE.OrthographicCamera(- width / 2, width / 2, height / 2, - height / 2, nearClippingPlane, farClippingPlane);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.warn('THREE.FBXLoader: Unknown camera type ' + type + '.');\r\n\t\t\t\t\t\tmodel = new THREE.Object3D();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn model;\r\n\r\n\t\t} // Create a THREE.DirectionalLight, THREE.PointLight or THREE.SpotLight\r\n\r\n\r\n\t\tcreateLight(relationships) {\r\n\r\n\t\t\tlet model;\r\n\t\t\tlet lightAttribute;\r\n\t\t\trelationships.children.forEach(function (child) {\r\n\r\n\t\t\t\tconst attr = fbxTree.Objects.NodeAttribute[child.ID];\r\n\r\n\t\t\t\tif (attr !== undefined) {\r\n\r\n\t\t\t\t\tlightAttribute = attr;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\tif (lightAttribute === undefined) {\r\n\r\n\t\t\t\tmodel = new THREE.Object3D();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tlet type; // LightType can be undefined for Point lights\r\n\r\n\t\t\t\tif (lightAttribute.LightType === undefined) {\r\n\r\n\t\t\t\t\ttype = 0;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttype = lightAttribute.LightType.value;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet color = 0xffffff;\r\n\r\n\t\t\t\tif (lightAttribute.Color !== undefined) {\r\n\r\n\t\t\t\t\tcolor = new THREE.Color().fromArray(lightAttribute.Color.value);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet intensity = lightAttribute.Intensity === undefined ? 1 : lightAttribute.Intensity.value / 100; // light disabled\r\n\r\n\t\t\t\tif (lightAttribute.CastLightOnObject !== undefined && lightAttribute.CastLightOnObject.value === 0) {\r\n\r\n\t\t\t\t\tintensity = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet distance = 0;\r\n\r\n\t\t\t\tif (lightAttribute.FarAttenuationEnd !== undefined) {\r\n\r\n\t\t\t\t\tif (lightAttribute.EnableFarAttenuation !== undefined && lightAttribute.EnableFarAttenuation.value === 0) {\r\n\r\n\t\t\t\t\t\tdistance = 0;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdistance = lightAttribute.FarAttenuationEnd.value;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // TODO: could this be calculated linearly from FarAttenuationStart to FarAttenuationEnd?\r\n\r\n\r\n\t\t\t\tconst decay = 1;\r\n\r\n\t\t\t\tswitch (type) {\r\n\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t// Point\r\n\t\t\t\t\t\tmodel = new THREE.PointLight(color, intensity, distance, decay);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t// Directional\r\n\t\t\t\t\t\tmodel = new THREE.DirectionalLight(color, intensity);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t// Spot\r\n\t\t\t\t\t\tlet angle = Math.PI / 3;\r\n\r\n\t\t\t\t\t\tif (lightAttribute.InnerAngle !== undefined) {\r\n\r\n\t\t\t\t\t\t\tangle = THREE.MathUtils.degToRad(lightAttribute.InnerAngle.value);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlet penumbra = 0;\r\n\r\n\t\t\t\t\t\tif (lightAttribute.OuterAngle !== undefined) {\r\n\r\n\t\t\t\t\t\t\t// TODO: this is not correct - FBX calculates outer and inner angle in degrees\r\n\t\t\t\t\t\t\t// with OuterAngle > InnerAngle && OuterAngle <= Math.PI\r\n\t\t\t\t\t\t\t// while three.js uses a penumbra between (0, 1) to attenuate the inner angle\r\n\t\t\t\t\t\t\tpenumbra = THREE.MathUtils.degToRad(lightAttribute.OuterAngle.value);\r\n\t\t\t\t\t\t\tpenumbra = Math.max(penumbra, 1);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmodel = new THREE.SpotLight(color, intensity, distance, angle, penumbra, decay);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.warn('THREE.FBXLoader: Unknown light type ' + lightAttribute.LightType.value + ', defaulting to a THREE.PointLight.');\r\n\t\t\t\t\t\tmodel = new THREE.PointLight(color, intensity);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (lightAttribute.CastShadows !== undefined && lightAttribute.CastShadows.value === 1) {\r\n\r\n\t\t\t\t\tmodel.castShadow = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn model;\r\n\r\n\t\t}\r\n\r\n\t\tcreateMesh(relationships, geometryMap, materialMap) {\r\n\r\n\t\t\tlet model;\r\n\t\t\tlet geometry = null;\r\n\t\t\tlet material = null;\r\n\t\t\tconst materials = []; // get geometry and materials(s) from connections\r\n\r\n\t\t\trelationships.children.forEach(function (child) {\r\n\r\n\t\t\t\tif (geometryMap.has(child.ID)) {\r\n\r\n\t\t\t\t\tgeometry = geometryMap.get(child.ID);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (materialMap.has(child.ID)) {\r\n\r\n\t\t\t\t\tmaterials.push(materialMap.get(child.ID));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\tif (materials.length > 1) {\r\n\r\n\t\t\t\tmaterial = materials;\r\n\r\n\t\t\t} else if (materials.length > 0) {\r\n\r\n\t\t\t\tmaterial = materials[0];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmaterial = new THREE.MeshPhongMaterial({\r\n\t\t\t\t\tcolor: 0xcccccc\r\n\t\t\t\t});\r\n\t\t\t\tmaterials.push(material);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ('color' in geometry.attributes) {\r\n\r\n\t\t\t\tmaterials.forEach(function (material) {\r\n\r\n\t\t\t\t\tmaterial.vertexColors = true;\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (geometry.FBX_Deformer) {\r\n\r\n\t\t\t\tmodel = new THREE.SkinnedMesh(geometry, material);\r\n\t\t\t\tmodel.normalizeSkinWeights();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmodel = new THREE.Mesh(geometry, material);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn model;\r\n\r\n\t\t}\r\n\r\n\t\tcreateCurve(relationships, geometryMap) {\r\n\r\n\t\t\tconst geometry = relationships.children.reduce(function (geo, child) {\r\n\r\n\t\t\t\tif (geometryMap.has(child.ID)) geo = geometryMap.get(child.ID);\r\n\t\t\t\treturn geo;\r\n\r\n\t\t\t}, null); // FBX does not list materials for Nurbs lines, so we'll just put our own in here.\r\n\r\n\t\t\tconst material = new THREE.LineBasicMaterial({\r\n\t\t\t\tcolor: 0x3300ff,\r\n\t\t\t\tlinewidth: 1\r\n\t\t\t});\r\n\t\t\treturn new THREE.Line(geometry, material);\r\n\r\n\t\t} // parse the model node for transform data\r\n\r\n\r\n\t\tgetTransformData(model, modelNode) {\r\n\r\n\t\t\tconst transformData = {};\r\n\t\t\tif ('InheritType' in modelNode) transformData.inheritType = parseInt(modelNode.InheritType.value);\r\n\t\t\tif ('RotationOrder' in modelNode) transformData.eulerOrder = getEulerOrder(modelNode.RotationOrder.value); else transformData.eulerOrder = 'ZYX';\r\n\t\t\tif ('Lcl_Translation' in modelNode) transformData.translation = modelNode.Lcl_Translation.value;\r\n\t\t\tif ('PreRotation' in modelNode) transformData.preRotation = modelNode.PreRotation.value;\r\n\t\t\tif ('Lcl_Rotation' in modelNode) transformData.rotation = modelNode.Lcl_Rotation.value;\r\n\t\t\tif ('PostRotation' in modelNode) transformData.postRotation = modelNode.PostRotation.value;\r\n\t\t\tif ('Lcl_Scaling' in modelNode) transformData.scale = modelNode.Lcl_Scaling.value;\r\n\t\t\tif ('ScalingOffset' in modelNode) transformData.scalingOffset = modelNode.ScalingOffset.value;\r\n\t\t\tif ('ScalingPivot' in modelNode) transformData.scalingPivot = modelNode.ScalingPivot.value;\r\n\t\t\tif ('RotationOffset' in modelNode) transformData.rotationOffset = modelNode.RotationOffset.value;\r\n\t\t\tif ('RotationPivot' in modelNode) transformData.rotationPivot = modelNode.RotationPivot.value;\r\n\t\t\tmodel.userData.transformData = transformData;\r\n\r\n\t\t}\r\n\r\n\t\tsetLookAtProperties(model, modelNode) {\r\n\r\n\t\t\tif ('LookAtProperty' in modelNode) {\r\n\r\n\t\t\t\tconst children = connections.get(model.ID).children;\r\n\t\t\t\tchildren.forEach(function (child) {\r\n\r\n\t\t\t\t\tif (child.relationship === 'LookAtProperty') {\r\n\r\n\t\t\t\t\t\tconst lookAtTarget = fbxTree.Objects.Model[child.ID];\r\n\r\n\t\t\t\t\t\tif ('Lcl_Translation' in lookAtTarget) {\r\n\r\n\t\t\t\t\t\t\tconst pos = lookAtTarget.Lcl_Translation.value; // THREE.DirectionalLight, THREE.SpotLight\r\n\r\n\t\t\t\t\t\t\tif (model.target !== undefined) {\r\n\r\n\t\t\t\t\t\t\t\tmodel.target.position.fromArray(pos);\r\n\t\t\t\t\t\t\t\tsceneGraph.add(model.target);\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t// Cameras and other Object3Ds\r\n\t\t\t\t\t\t\t\tmodel.lookAt(new THREE.Vector3().fromArray(pos));\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tbindSkeleton(skeletons, geometryMap, modelMap) {\r\n\r\n\t\t\tconst bindMatrices = this.parsePoseNodes();\r\n\r\n\t\t\tfor (const ID in skeletons) {\r\n\r\n\t\t\t\tconst skeleton = skeletons[ID];\r\n\t\t\t\tconst parents = connections.get(parseInt(skeleton.ID)).parents;\r\n\t\t\t\tparents.forEach(function (parent) {\r\n\r\n\t\t\t\t\tif (geometryMap.has(parent.ID)) {\r\n\r\n\t\t\t\t\t\tconst geoID = parent.ID;\r\n\t\t\t\t\t\tconst geoRelationships = connections.get(geoID);\r\n\t\t\t\t\t\tgeoRelationships.parents.forEach(function (geoConnParent) {\r\n\r\n\t\t\t\t\t\t\tif (modelMap.has(geoConnParent.ID)) {\r\n\r\n\t\t\t\t\t\t\t\tconst model = modelMap.get(geoConnParent.ID);\r\n\t\t\t\t\t\t\t\tmodel.bind(new THREE.Skeleton(skeleton.bones), bindMatrices[geoConnParent.ID]);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tparsePoseNodes() {\r\n\r\n\t\t\tconst bindMatrices = {};\r\n\r\n\t\t\tif ('Pose' in fbxTree.Objects) {\r\n\r\n\t\t\t\tconst BindPoseNode = fbxTree.Objects.Pose;\r\n\r\n\t\t\t\tfor (const nodeID in BindPoseNode) {\r\n\r\n\t\t\t\t\tif (BindPoseNode[nodeID].attrType === 'BindPose') {\r\n\r\n\t\t\t\t\t\tconst poseNodes = BindPoseNode[nodeID].PoseNode;\r\n\r\n\t\t\t\t\t\tif (Array.isArray(poseNodes)) {\r\n\r\n\t\t\t\t\t\t\tposeNodes.forEach(function (poseNode) {\r\n\r\n\t\t\t\t\t\t\t\tbindMatrices[poseNode.Node] = new THREE.Matrix4().fromArray(poseNode.Matrix.a);\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tbindMatrices[poseNodes.Node] = new THREE.Matrix4().fromArray(poseNodes.Matrix.a);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn bindMatrices;\r\n\r\n\t\t} // Parse ambient color in FBXTree.GlobalSettings - if it's not set to black (default), create an ambient light\r\n\r\n\r\n\t\tcreateAmbientLight() {\r\n\r\n\t\t\tif ('GlobalSettings' in fbxTree && 'AmbientColor' in fbxTree.GlobalSettings) {\r\n\r\n\t\t\t\tconst ambientColor = fbxTree.GlobalSettings.AmbientColor.value;\r\n\t\t\t\tconst r = ambientColor[0];\r\n\t\t\t\tconst g = ambientColor[1];\r\n\t\t\t\tconst b = ambientColor[2];\r\n\r\n\t\t\t\tif (r !== 0 || g !== 0 || b !== 0) {\r\n\r\n\t\t\t\t\tconst color = new THREE.Color(r, g, b);\r\n\t\t\t\t\tsceneGraph.add(new THREE.AmbientLight(color, 1));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t} // parse Geometry data from FBXTree and return map of BufferGeometries\r\n\r\n\r\n\tclass GeometryParser {\r\n\r\n\t\t// Parse nodes in FBXTree.Objects.Geometry\r\n\t\tparse(deformers) {\r\n\r\n\t\t\tconst geometryMap = new Map();\r\n\r\n\t\t\tif ('Geometry' in fbxTree.Objects) {\r\n\r\n\t\t\t\tconst geoNodes = fbxTree.Objects.Geometry;\r\n\r\n\t\t\t\tfor (const nodeID in geoNodes) {\r\n\r\n\t\t\t\t\tconst relationships = connections.get(parseInt(nodeID));\r\n\t\t\t\t\tconst geo = this.parseGeometry(relationships, geoNodes[nodeID], deformers);\r\n\t\t\t\t\tgeometryMap.set(parseInt(nodeID), geo);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn geometryMap;\r\n\r\n\t\t} // Parse single node in FBXTree.Objects.Geometry\r\n\r\n\r\n\t\tparseGeometry(relationships, geoNode, deformers) {\r\n\r\n\t\t\tswitch (geoNode.attrType) {\r\n\r\n\t\t\t\tcase 'Mesh':\r\n\t\t\t\t\treturn this.parseMeshGeometry(relationships, geoNode, deformers);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'NurbsCurve':\r\n\t\t\t\t\treturn this.parseNurbsGeometry(geoNode);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t} // Parse single node mesh geometry in FBXTree.Objects.Geometry\r\n\r\n\r\n\t\tparseMeshGeometry(relationships, geoNode, deformers) {\r\n\r\n\t\t\tconst skeletons = deformers.skeletons;\r\n\t\t\tconst morphTargets = [];\r\n\t\t\tconst modelNodes = relationships.parents.map(function (parent) {\r\n\r\n\t\t\t\treturn fbxTree.Objects.Model[parent.ID];\r\n\r\n\t\t\t}); // don't create geometry if it is not associated with any models\r\n\r\n\t\t\tif (modelNodes.length === 0) return;\r\n\t\t\tconst skeleton = relationships.children.reduce(function (skeleton, child) {\r\n\r\n\t\t\t\tif (skeletons[child.ID] !== undefined) skeleton = skeletons[child.ID];\r\n\t\t\t\treturn skeleton;\r\n\r\n\t\t\t}, null);\r\n\t\t\trelationships.children.forEach(function (child) {\r\n\r\n\t\t\t\tif (deformers.morphTargets[child.ID] !== undefined) {\r\n\r\n\t\t\t\t\tmorphTargets.push(deformers.morphTargets[child.ID]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}); // Assume one model and get the preRotation from that\r\n\t\t\t// if there is more than one model associated with the geometry this may cause problems\r\n\r\n\t\t\tconst modelNode = modelNodes[0];\r\n\t\t\tconst transformData = {};\r\n\t\t\tif ('RotationOrder' in modelNode) transformData.eulerOrder = getEulerOrder(modelNode.RotationOrder.value);\r\n\t\t\tif ('InheritType' in modelNode) transformData.inheritType = parseInt(modelNode.InheritType.value);\r\n\t\t\tif ('GeometricTranslation' in modelNode) transformData.translation = modelNode.GeometricTranslation.value;\r\n\t\t\tif ('GeometricRotation' in modelNode) transformData.rotation = modelNode.GeometricRotation.value;\r\n\t\t\tif ('GeometricScaling' in modelNode) transformData.scale = modelNode.GeometricScaling.value;\r\n\t\t\tconst transform = generateTransform(transformData);\r\n\t\t\treturn this.genGeometry(geoNode, skeleton, morphTargets, transform);\r\n\r\n\t\t} // Generate a THREE.BufferGeometry from a node in FBXTree.Objects.Geometry\r\n\r\n\r\n\t\tgenGeometry(geoNode, skeleton, morphTargets, preTransform) {\r\n\r\n\t\t\tconst geo = new THREE.BufferGeometry();\r\n\t\t\tif (geoNode.attrName) geo.name = geoNode.attrName;\r\n\t\t\tconst geoInfo = this.parseGeoNode(geoNode, skeleton);\r\n\t\t\tconst buffers = this.genBuffers(geoInfo);\r\n\t\t\tconst positionAttribute = new THREE.Float32BufferAttribute(buffers.vertex, 3);\r\n\t\t\tpositionAttribute.applyMatrix4(preTransform);\r\n\t\t\tgeo.setAttribute('position', positionAttribute);\r\n\r\n\t\t\tif (buffers.colors.length > 0) {\r\n\r\n\t\t\t\tgeo.setAttribute('color', new THREE.Float32BufferAttribute(buffers.colors, 3));\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (skeleton) {\r\n\r\n\t\t\t\tgeo.setAttribute('skinIndex', new THREE.Uint16BufferAttribute(buffers.weightsIndices, 4));\r\n\t\t\t\tgeo.setAttribute('skinWeight', new THREE.Float32BufferAttribute(buffers.vertexWeights, 4)); // used later to bind the skeleton to the model\r\n\r\n\t\t\t\tgeo.FBX_Deformer = skeleton;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (buffers.normal.length > 0) {\r\n\r\n\t\t\t\tconst normalMatrix = new THREE.Matrix3().getNormalMatrix(preTransform);\r\n\t\t\t\tconst normalAttribute = new THREE.Float32BufferAttribute(buffers.normal, 3);\r\n\t\t\t\tnormalAttribute.applyNormalMatrix(normalMatrix);\r\n\t\t\t\tgeo.setAttribute('normal', normalAttribute);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbuffers.uvs.forEach(function (uvBuffer, i) {\r\n\r\n\t\t\t\t// subsequent uv buffers are called 'uv1', 'uv2', ...\r\n\t\t\t\tlet name = 'uv' + (i + 1).toString(); // the first uv buffer is just called 'uv'\r\n\r\n\t\t\t\tif (i === 0) {\r\n\r\n\t\t\t\t\tname = 'uv';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeo.setAttribute(name, new THREE.Float32BufferAttribute(buffers.uvs[i], 2));\r\n\r\n\t\t\t});\r\n\r\n\t\t\tif (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\r\n\r\n\t\t\t\t// Convert the material indices of each vertex into rendering groups on the geometry.\r\n\t\t\t\tlet prevMaterialIndex = buffers.materialIndex[0];\r\n\t\t\t\tlet startIndex = 0;\r\n\t\t\t\tbuffers.materialIndex.forEach(function (currentIndex, i) {\r\n\r\n\t\t\t\t\tif (currentIndex !== prevMaterialIndex) {\r\n\r\n\t\t\t\t\t\tgeo.addGroup(startIndex, i - startIndex, prevMaterialIndex);\r\n\t\t\t\t\t\tprevMaterialIndex = currentIndex;\r\n\t\t\t\t\t\tstartIndex = i;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}); // the loop above doesn't add the last group, do that here.\r\n\r\n\t\t\t\tif (geo.groups.length > 0) {\r\n\r\n\t\t\t\t\tconst lastGroup = geo.groups[geo.groups.length - 1];\r\n\t\t\t\t\tconst lastIndex = lastGroup.start + lastGroup.count;\r\n\r\n\t\t\t\t\tif (lastIndex !== buffers.materialIndex.length) {\r\n\r\n\t\t\t\t\t\tgeo.addGroup(lastIndex, buffers.materialIndex.length - lastIndex, prevMaterialIndex);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // case where there are multiple materials but the whole geometry is only\r\n\t\t\t\t// using one of them\r\n\r\n\r\n\t\t\t\tif (geo.groups.length === 0) {\r\n\r\n\t\t\t\t\tgeo.addGroup(0, buffers.materialIndex.length, buffers.materialIndex[0]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.addMorphTargets(geo, geoNode, morphTargets, preTransform);\r\n\t\t\treturn geo;\r\n\r\n\t\t}\r\n\r\n\t\tparseGeoNode(geoNode, skeleton) {\r\n\r\n\t\t\tconst geoInfo = {};\r\n\t\t\tgeoInfo.vertexPositions = geoNode.Vertices !== undefined ? geoNode.Vertices.a : [];\r\n\t\t\tgeoInfo.vertexIndices = geoNode.PolygonVertexIndex !== undefined ? geoNode.PolygonVertexIndex.a : [];\r\n\r\n\t\t\tif (geoNode.LayerElementColor) {\r\n\r\n\t\t\t\tgeoInfo.color = this.parseVertexColors(geoNode.LayerElementColor[0]);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (geoNode.LayerElementMaterial) {\r\n\r\n\t\t\t\tgeoInfo.material = this.parseMaterialIndices(geoNode.LayerElementMaterial[0]);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (geoNode.LayerElementNormal) {\r\n\r\n\t\t\t\tgeoInfo.normal = this.parseNormals(geoNode.LayerElementNormal[0]);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (geoNode.LayerElementUV) {\r\n\r\n\t\t\t\tgeoInfo.uv = [];\r\n\t\t\t\tlet i = 0;\r\n\r\n\t\t\t\twhile (geoNode.LayerElementUV[i]) {\r\n\r\n\t\t\t\t\tif (geoNode.LayerElementUV[i].UV) {\r\n\r\n\t\t\t\t\t\tgeoInfo.uv.push(this.parseUVs(geoNode.LayerElementUV[i]));\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ti++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeoInfo.weightTable = {};\r\n\r\n\t\t\tif (skeleton !== null) {\r\n\r\n\t\t\t\tgeoInfo.skeleton = skeleton;\r\n\t\t\t\tskeleton.rawBones.forEach(function (rawBone, i) {\r\n\r\n\t\t\t\t\t// loop over the bone's vertex indices and weights\r\n\t\t\t\t\trawBone.indices.forEach(function (index, j) {\r\n\r\n\t\t\t\t\t\tif (geoInfo.weightTable[index] === undefined) geoInfo.weightTable[index] = [];\r\n\t\t\t\t\t\tgeoInfo.weightTable[index].push({\r\n\t\t\t\t\t\t\tid: i,\r\n\t\t\t\t\t\t\tweight: rawBone.weights[j]\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn geoInfo;\r\n\r\n\t\t}\r\n\r\n\t\tgenBuffers(geoInfo) {\r\n\r\n\t\t\tconst buffers = {\r\n\t\t\t\tvertex: [],\r\n\t\t\t\tnormal: [],\r\n\t\t\t\tcolors: [],\r\n\t\t\t\tuvs: [],\r\n\t\t\t\tmaterialIndex: [],\r\n\t\t\t\tvertexWeights: [],\r\n\t\t\t\tweightsIndices: []\r\n\t\t\t};\r\n\t\t\tlet polygonIndex = 0;\r\n\t\t\tlet faceLength = 0;\r\n\t\t\tlet displayedWeightsWarning = false; // these will hold data for a single face\r\n\r\n\t\t\tlet facePositionIndexes = [];\r\n\t\t\tlet faceNormals = [];\r\n\t\t\tlet faceColors = [];\r\n\t\t\tlet faceUVs = [];\r\n\t\t\tlet faceWeights = [];\r\n\t\t\tlet faceWeightIndices = [];\r\n\t\t\tconst scope = this;\r\n\t\t\tgeoInfo.vertexIndices.forEach(function (vertexIndex, polygonVertexIndex) {\r\n\r\n\t\t\t\tlet materialIndex;\r\n\t\t\t\tlet endOfFace = false; // Face index and vertex index arrays are combined in a single array\r\n\t\t\t\t// A cube with quad faces looks like this:\r\n\t\t\t\t// PolygonVertexIndex: *24 {\r\n\t\t\t\t//  a: 0, 1, 3, -3, 2, 3, 5, -5, 4, 5, 7, -7, 6, 7, 1, -1, 1, 7, 5, -4, 6, 0, 2, -5\r\n\t\t\t\t//  }\r\n\t\t\t\t// Negative numbers mark the end of a face - first face here is 0, 1, 3, -3\r\n\t\t\t\t// to find index of last vertex bit shift the index: ^ - 1\r\n\r\n\t\t\t\tif (vertexIndex < 0) {\r\n\r\n\t\t\t\t\tvertexIndex = vertexIndex ^ - 1; // equivalent to ( x * -1 ) - 1\r\n\r\n\t\t\t\t\tendOfFace = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet weightIndices = [];\r\n\t\t\t\tlet weights = [];\r\n\t\t\t\tfacePositionIndexes.push(vertexIndex * 3, vertexIndex * 3 + 1, vertexIndex * 3 + 2);\r\n\r\n\t\t\t\tif (geoInfo.color) {\r\n\r\n\t\t\t\t\tconst data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.color);\r\n\t\t\t\t\tfaceColors.push(data[0], data[1], data[2]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (geoInfo.skeleton) {\r\n\r\n\t\t\t\t\tif (geoInfo.weightTable[vertexIndex] !== undefined) {\r\n\r\n\t\t\t\t\t\tgeoInfo.weightTable[vertexIndex].forEach(function (wt) {\r\n\r\n\t\t\t\t\t\t\tweights.push(wt.weight);\r\n\t\t\t\t\t\t\tweightIndices.push(wt.id);\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (weights.length > 4) {\r\n\r\n\t\t\t\t\t\tif (!displayedWeightsWarning) {\r\n\r\n\t\t\t\t\t\t\tconsole.warn('THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.');\r\n\t\t\t\t\t\t\tdisplayedWeightsWarning = true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst wIndex = [0, 0, 0, 0];\r\n\t\t\t\t\t\tconst Weight = [0, 0, 0, 0];\r\n\t\t\t\t\t\tweights.forEach(function (weight, weightIndex) {\r\n\r\n\t\t\t\t\t\t\tlet currentWeight = weight;\r\n\t\t\t\t\t\t\tlet currentIndex = weightIndices[weightIndex];\r\n\t\t\t\t\t\t\tWeight.forEach(function (comparedWeight, comparedWeightIndex, comparedWeightArray) {\r\n\r\n\t\t\t\t\t\t\t\tif (currentWeight > comparedWeight) {\r\n\r\n\t\t\t\t\t\t\t\t\tcomparedWeightArray[comparedWeightIndex] = currentWeight;\r\n\t\t\t\t\t\t\t\t\tcurrentWeight = comparedWeight;\r\n\t\t\t\t\t\t\t\t\tconst tmp = wIndex[comparedWeightIndex];\r\n\t\t\t\t\t\t\t\t\twIndex[comparedWeightIndex] = currentIndex;\r\n\t\t\t\t\t\t\t\t\tcurrentIndex = tmp;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tweightIndices = wIndex;\r\n\t\t\t\t\t\tweights = Weight;\r\n\r\n\t\t\t\t\t} // if the weight array is shorter than 4 pad with 0s\r\n\r\n\r\n\t\t\t\t\twhile (weights.length < 4) {\r\n\r\n\t\t\t\t\t\tweights.push(0);\r\n\t\t\t\t\t\tweightIndices.push(0);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (let i = 0; i < 4; ++i) {\r\n\r\n\t\t\t\t\t\tfaceWeights.push(weights[i]);\r\n\t\t\t\t\t\tfaceWeightIndices.push(weightIndices[i]);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (geoInfo.normal) {\r\n\r\n\t\t\t\t\tconst data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.normal);\r\n\t\t\t\t\tfaceNormals.push(data[0], data[1], data[2]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\r\n\r\n\t\t\t\t\tmaterialIndex = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.material)[0];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (geoInfo.uv) {\r\n\r\n\t\t\t\t\tgeoInfo.uv.forEach(function (uv, i) {\r\n\r\n\t\t\t\t\t\tconst data = getData(polygonVertexIndex, polygonIndex, vertexIndex, uv);\r\n\r\n\t\t\t\t\t\tif (faceUVs[i] === undefined) {\r\n\r\n\t\t\t\t\t\t\tfaceUVs[i] = [];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfaceUVs[i].push(data[0]);\r\n\t\t\t\t\t\tfaceUVs[i].push(data[1]);\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfaceLength++;\r\n\r\n\t\t\t\tif (endOfFace) {\r\n\r\n\t\t\t\t\tscope.genFace(buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength);\r\n\t\t\t\t\tpolygonIndex++;\r\n\t\t\t\t\tfaceLength = 0; // reset arrays for the next face\r\n\r\n\t\t\t\t\tfacePositionIndexes = [];\r\n\t\t\t\t\tfaceNormals = [];\r\n\t\t\t\t\tfaceColors = [];\r\n\t\t\t\t\tfaceUVs = [];\r\n\t\t\t\t\tfaceWeights = [];\r\n\t\t\t\t\tfaceWeightIndices = [];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t\treturn buffers;\r\n\r\n\t\t} // Generate data for a single face in a geometry. If the face is a quad then split it into 2 tris\r\n\r\n\r\n\t\tgenFace(buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength) {\r\n\r\n\t\t\tfor (let i = 2; i < faceLength; i++) {\r\n\r\n\t\t\t\tbuffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[0]]);\r\n\t\t\t\tbuffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[1]]);\r\n\t\t\t\tbuffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[2]]);\r\n\t\t\t\tbuffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3]]);\r\n\t\t\t\tbuffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 1]]);\r\n\t\t\t\tbuffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 2]]);\r\n\t\t\t\tbuffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3]]);\r\n\t\t\t\tbuffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 1]]);\r\n\t\t\t\tbuffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 2]]);\r\n\r\n\t\t\t\tif (geoInfo.skeleton) {\r\n\r\n\t\t\t\t\tbuffers.vertexWeights.push(faceWeights[0]);\r\n\t\t\t\t\tbuffers.vertexWeights.push(faceWeights[1]);\r\n\t\t\t\t\tbuffers.vertexWeights.push(faceWeights[2]);\r\n\t\t\t\t\tbuffers.vertexWeights.push(faceWeights[3]);\r\n\t\t\t\t\tbuffers.vertexWeights.push(faceWeights[(i - 1) * 4]);\r\n\t\t\t\t\tbuffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 1]);\r\n\t\t\t\t\tbuffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 2]);\r\n\t\t\t\t\tbuffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 3]);\r\n\t\t\t\t\tbuffers.vertexWeights.push(faceWeights[i * 4]);\r\n\t\t\t\t\tbuffers.vertexWeights.push(faceWeights[i * 4 + 1]);\r\n\t\t\t\t\tbuffers.vertexWeights.push(faceWeights[i * 4 + 2]);\r\n\t\t\t\t\tbuffers.vertexWeights.push(faceWeights[i * 4 + 3]);\r\n\t\t\t\t\tbuffers.weightsIndices.push(faceWeightIndices[0]);\r\n\t\t\t\t\tbuffers.weightsIndices.push(faceWeightIndices[1]);\r\n\t\t\t\t\tbuffers.weightsIndices.push(faceWeightIndices[2]);\r\n\t\t\t\t\tbuffers.weightsIndices.push(faceWeightIndices[3]);\r\n\t\t\t\t\tbuffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4]);\r\n\t\t\t\t\tbuffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 1]);\r\n\t\t\t\t\tbuffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 2]);\r\n\t\t\t\t\tbuffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 3]);\r\n\t\t\t\t\tbuffers.weightsIndices.push(faceWeightIndices[i * 4]);\r\n\t\t\t\t\tbuffers.weightsIndices.push(faceWeightIndices[i * 4 + 1]);\r\n\t\t\t\t\tbuffers.weightsIndices.push(faceWeightIndices[i * 4 + 2]);\r\n\t\t\t\t\tbuffers.weightsIndices.push(faceWeightIndices[i * 4 + 3]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (geoInfo.color) {\r\n\r\n\t\t\t\t\tbuffers.colors.push(faceColors[0]);\r\n\t\t\t\t\tbuffers.colors.push(faceColors[1]);\r\n\t\t\t\t\tbuffers.colors.push(faceColors[2]);\r\n\t\t\t\t\tbuffers.colors.push(faceColors[(i - 1) * 3]);\r\n\t\t\t\t\tbuffers.colors.push(faceColors[(i - 1) * 3 + 1]);\r\n\t\t\t\t\tbuffers.colors.push(faceColors[(i - 1) * 3 + 2]);\r\n\t\t\t\t\tbuffers.colors.push(faceColors[i * 3]);\r\n\t\t\t\t\tbuffers.colors.push(faceColors[i * 3 + 1]);\r\n\t\t\t\t\tbuffers.colors.push(faceColors[i * 3 + 2]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\r\n\r\n\t\t\t\t\tbuffers.materialIndex.push(materialIndex);\r\n\t\t\t\t\tbuffers.materialIndex.push(materialIndex);\r\n\t\t\t\t\tbuffers.materialIndex.push(materialIndex);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (geoInfo.normal) {\r\n\r\n\t\t\t\t\tbuffers.normal.push(faceNormals[0]);\r\n\t\t\t\t\tbuffers.normal.push(faceNormals[1]);\r\n\t\t\t\t\tbuffers.normal.push(faceNormals[2]);\r\n\t\t\t\t\tbuffers.normal.push(faceNormals[(i - 1) * 3]);\r\n\t\t\t\t\tbuffers.normal.push(faceNormals[(i - 1) * 3 + 1]);\r\n\t\t\t\t\tbuffers.normal.push(faceNormals[(i - 1) * 3 + 2]);\r\n\t\t\t\t\tbuffers.normal.push(faceNormals[i * 3]);\r\n\t\t\t\t\tbuffers.normal.push(faceNormals[i * 3 + 1]);\r\n\t\t\t\t\tbuffers.normal.push(faceNormals[i * 3 + 2]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (geoInfo.uv) {\r\n\r\n\t\t\t\t\tgeoInfo.uv.forEach(function (uv, j) {\r\n\r\n\t\t\t\t\t\tif (buffers.uvs[j] === undefined) buffers.uvs[j] = [];\r\n\t\t\t\t\t\tbuffers.uvs[j].push(faceUVs[j][0]);\r\n\t\t\t\t\t\tbuffers.uvs[j].push(faceUVs[j][1]);\r\n\t\t\t\t\t\tbuffers.uvs[j].push(faceUVs[j][(i - 1) * 2]);\r\n\t\t\t\t\t\tbuffers.uvs[j].push(faceUVs[j][(i - 1) * 2 + 1]);\r\n\t\t\t\t\t\tbuffers.uvs[j].push(faceUVs[j][i * 2]);\r\n\t\t\t\t\t\tbuffers.uvs[j].push(faceUVs[j][i * 2 + 1]);\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\taddMorphTargets(parentGeo, parentGeoNode, morphTargets, preTransform) {\r\n\r\n\t\t\tif (morphTargets.length === 0) return;\r\n\t\t\tparentGeo.morphTargetsRelative = true;\r\n\t\t\tparentGeo.morphAttributes.position = []; // parentGeo.morphAttributes.normal = []; // not implemented\r\n\r\n\t\t\tconst scope = this;\r\n\t\t\tmorphTargets.forEach(function (morphTarget) {\r\n\r\n\t\t\t\tmorphTarget.rawTargets.forEach(function (rawTarget) {\r\n\r\n\t\t\t\t\tconst morphGeoNode = fbxTree.Objects.Geometry[rawTarget.geoID];\r\n\r\n\t\t\t\t\tif (morphGeoNode !== undefined) {\r\n\r\n\t\t\t\t\t\tscope.genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform, rawTarget.name);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\r\n\t\t} // a morph geometry node is similar to a standard  node, and the node is also contained\r\n\t\t// in FBXTree.Objects.Geometry, however it can only have attributes for position, normal\r\n\t\t// and a special attribute Index defining which vertices of the original geometry are affected\r\n\t\t// Normal and position attributes only have data for the vertices that are affected by the morph\r\n\r\n\r\n\t\tgenMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform, name) {\r\n\r\n\t\t\tconst vertexIndices = parentGeoNode.PolygonVertexIndex !== undefined ? parentGeoNode.PolygonVertexIndex.a : [];\r\n\t\t\tconst morphPositionsSparse = morphGeoNode.Vertices !== undefined ? morphGeoNode.Vertices.a : [];\r\n\t\t\tconst indices = morphGeoNode.Indexes !== undefined ? morphGeoNode.Indexes.a : [];\r\n\t\t\tconst length = parentGeo.attributes.position.count * 3;\r\n\t\t\tconst morphPositions = new Float32Array(length);\r\n\r\n\t\t\tfor (let i = 0; i < indices.length; i++) {\r\n\r\n\t\t\t\tconst morphIndex = indices[i] * 3;\r\n\t\t\t\tmorphPositions[morphIndex] = morphPositionsSparse[i * 3];\r\n\t\t\t\tmorphPositions[morphIndex + 1] = morphPositionsSparse[i * 3 + 1];\r\n\t\t\t\tmorphPositions[morphIndex + 2] = morphPositionsSparse[i * 3 + 2];\r\n\r\n\t\t\t} // TODO: add morph normal support\r\n\r\n\r\n\t\t\tconst morphGeoInfo = {\r\n\t\t\t\tvertexIndices: vertexIndices,\r\n\t\t\t\tvertexPositions: morphPositions\r\n\t\t\t};\r\n\t\t\tconst morphBuffers = this.genBuffers(morphGeoInfo);\r\n\t\t\tconst positionAttribute = new THREE.Float32BufferAttribute(morphBuffers.vertex, 3);\r\n\t\t\tpositionAttribute.name = name || morphGeoNode.attrName;\r\n\t\t\tpositionAttribute.applyMatrix4(preTransform);\r\n\t\t\tparentGeo.morphAttributes.position.push(positionAttribute);\r\n\r\n\t\t} // Parse normal from FBXTree.Objects.Geometry.LayerElementNormal if it exists\r\n\r\n\r\n\t\tparseNormals(NormalNode) {\r\n\r\n\t\t\tconst mappingType = NormalNode.MappingInformationType;\r\n\t\t\tconst referenceType = NormalNode.ReferenceInformationType;\r\n\t\t\tconst buffer = NormalNode.Normals.a;\r\n\t\t\tlet indexBuffer = [];\r\n\r\n\t\t\tif (referenceType === 'IndexToDirect') {\r\n\r\n\t\t\t\tif ('NormalIndex' in NormalNode) {\r\n\r\n\t\t\t\t\tindexBuffer = NormalNode.NormalIndex.a;\r\n\r\n\t\t\t\t} else if ('NormalsIndex' in NormalNode) {\r\n\r\n\t\t\t\t\tindexBuffer = NormalNode.NormalsIndex.a;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tdataSize: 3,\r\n\t\t\t\tbuffer: buffer,\r\n\t\t\t\tindices: indexBuffer,\r\n\t\t\t\tmappingType: mappingType,\r\n\t\t\t\treferenceType: referenceType\r\n\t\t\t};\r\n\r\n\t\t} // Parse UVs from FBXTree.Objects.Geometry.LayerElementUV if it exists\r\n\r\n\r\n\t\tparseUVs(UVNode) {\r\n\r\n\t\t\tconst mappingType = UVNode.MappingInformationType;\r\n\t\t\tconst referenceType = UVNode.ReferenceInformationType;\r\n\t\t\tconst buffer = UVNode.UV.a;\r\n\t\t\tlet indexBuffer = [];\r\n\r\n\t\t\tif (referenceType === 'IndexToDirect') {\r\n\r\n\t\t\t\tindexBuffer = UVNode.UVIndex.a;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tdataSize: 2,\r\n\t\t\t\tbuffer: buffer,\r\n\t\t\t\tindices: indexBuffer,\r\n\t\t\t\tmappingType: mappingType,\r\n\t\t\t\treferenceType: referenceType\r\n\t\t\t};\r\n\r\n\t\t} // Parse Vertex Colors from FBXTree.Objects.Geometry.LayerElementColor if it exists\r\n\r\n\r\n\t\tparseVertexColors(ColorNode) {\r\n\r\n\t\t\tconst mappingType = ColorNode.MappingInformationType;\r\n\t\t\tconst referenceType = ColorNode.ReferenceInformationType;\r\n\t\t\tconst buffer = ColorNode.Colors.a;\r\n\t\t\tlet indexBuffer = [];\r\n\r\n\t\t\tif (referenceType === 'IndexToDirect') {\r\n\r\n\t\t\t\tindexBuffer = ColorNode.ColorIndex.a;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tdataSize: 4,\r\n\t\t\t\tbuffer: buffer,\r\n\t\t\t\tindices: indexBuffer,\r\n\t\t\t\tmappingType: mappingType,\r\n\t\t\t\treferenceType: referenceType\r\n\t\t\t};\r\n\r\n\t\t} // Parse mapping and material data in FBXTree.Objects.Geometry.LayerElementMaterial if it exists\r\n\r\n\r\n\t\tparseMaterialIndices(MaterialNode) {\r\n\r\n\t\t\tconst mappingType = MaterialNode.MappingInformationType;\r\n\t\t\tconst referenceType = MaterialNode.ReferenceInformationType;\r\n\r\n\t\t\tif (mappingType === 'NoMappingInformation') {\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdataSize: 1,\r\n\t\t\t\t\tbuffer: [0],\r\n\t\t\t\t\tindices: [0],\r\n\t\t\t\t\tmappingType: 'AllSame',\r\n\t\t\t\t\treferenceType: referenceType\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst materialIndexBuffer = MaterialNode.Materials.a; // Since materials are stored as indices, there's a bit of a mismatch between FBX and what\r\n\t\t\t// we expect.So we create an intermediate buffer that points to the index in the buffer,\r\n\t\t\t// for conforming with the other functions we've written for other data.\r\n\r\n\t\t\tconst materialIndices = [];\r\n\r\n\t\t\tfor (let i = 0; i < materialIndexBuffer.length; ++i) {\r\n\r\n\t\t\t\tmaterialIndices.push(i);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tdataSize: 1,\r\n\t\t\t\tbuffer: materialIndexBuffer,\r\n\t\t\t\tindices: materialIndices,\r\n\t\t\t\tmappingType: mappingType,\r\n\t\t\t\treferenceType: referenceType\r\n\t\t\t};\r\n\r\n\t\t} // Generate a NurbGeometry from a node in FBXTree.Objects.Geometry\r\n\r\n\r\n\t\tparseNurbsGeometry(geoNode) {\r\n\r\n\t\t\tif (THREE.NURBSCurve === undefined) {\r\n\r\n\t\t\t\tconsole.error('THREE.FBXLoader: The loader relies on THREE.NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.');\r\n\t\t\t\treturn new THREE.BufferGeometry();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst order = parseInt(geoNode.Order);\r\n\r\n\t\t\tif (isNaN(order)) {\r\n\r\n\t\t\t\tconsole.error('THREE.FBXLoader: Invalid Order %s given for geometry ID: %s', geoNode.Order, geoNode.id);\r\n\t\t\t\treturn new THREE.BufferGeometry();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst degree = order - 1;\r\n\t\t\tconst knots = geoNode.KnotVector.a;\r\n\t\t\tconst controlPoints = [];\r\n\t\t\tconst pointsValues = geoNode.Points.a;\r\n\r\n\t\t\tfor (let i = 0, l = pointsValues.length; i < l; i += 4) {\r\n\r\n\t\t\t\tcontrolPoints.push(new THREE.Vector4().fromArray(pointsValues, i));\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlet startKnot, endKnot;\r\n\r\n\t\t\tif (geoNode.Form === 'Closed') {\r\n\r\n\t\t\t\tcontrolPoints.push(controlPoints[0]);\r\n\r\n\t\t\t} else if (geoNode.Form === 'Periodic') {\r\n\r\n\t\t\t\tstartKnot = degree;\r\n\t\t\t\tendKnot = knots.length - 1 - startKnot;\r\n\r\n\t\t\t\tfor (let i = 0; i < degree; ++i) {\r\n\r\n\t\t\t\t\tcontrolPoints.push(controlPoints[i]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst curve = new THREE.NURBSCurve(degree, knots, controlPoints, startKnot, endKnot);\r\n\t\t\tconst points = curve.getPoints(controlPoints.length * 12);\r\n\t\t\treturn new THREE.BufferGeometry().setFromPoints(points);\r\n\r\n\t\t}\r\n\r\n\t} // parse animation data from FBXTree\r\n\r\n\r\n\tclass AnimationParser {\r\n\r\n\t\t// take raw animation clips and turn them into three.js animation clips\r\n\t\tparse() {\r\n\r\n\t\t\tconst animationClips = [];\r\n\t\t\tconst rawClips = this.parseClips();\r\n\r\n\t\t\tif (rawClips !== undefined) {\r\n\r\n\t\t\t\tfor (const key in rawClips) {\r\n\r\n\t\t\t\t\tconst rawClip = rawClips[key];\r\n\t\t\t\t\tconst clip = this.addClip(rawClip);\r\n\t\t\t\t\tanimationClips.push(clip);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn animationClips;\r\n\r\n\t\t}\r\n\r\n\t\tparseClips() {\r\n\r\n\t\t\t// since the actual transformation data is stored in FBXTree.Objects.AnimationCurve,\r\n\t\t\t// if this is undefined we can safely assume there are no animations\r\n\t\t\tif (fbxTree.Objects.AnimationCurve === undefined) return undefined;\r\n\t\t\tconst curveNodesMap = this.parseAnimationCurveNodes();\r\n\t\t\tthis.parseAnimationCurves(curveNodesMap);\r\n\t\t\tconst layersMap = this.parseAnimationLayers(curveNodesMap);\r\n\t\t\tconst rawClips = this.parseAnimStacks(layersMap);\r\n\t\t\treturn rawClips;\r\n\r\n\t\t} // parse nodes in FBXTree.Objects.AnimationCurveNode\r\n\t\t// each AnimationCurveNode holds data for an animation transform for a model (e.g. left arm rotation )\r\n\t\t// and is referenced by an AnimationLayer\r\n\r\n\r\n\t\tparseAnimationCurveNodes() {\r\n\r\n\t\t\tconst rawCurveNodes = fbxTree.Objects.AnimationCurveNode;\r\n\t\t\tconst curveNodesMap = new Map();\r\n\r\n\t\t\tfor (const nodeID in rawCurveNodes) {\r\n\r\n\t\t\t\tconst rawCurveNode = rawCurveNodes[nodeID];\r\n\r\n\t\t\t\tif (rawCurveNode.attrName.match(/S|R|T|DeformPercent/) !== null) {\r\n\r\n\t\t\t\t\tconst curveNode = {\r\n\t\t\t\t\t\tid: rawCurveNode.id,\r\n\t\t\t\t\t\tattr: rawCurveNode.attrName,\r\n\t\t\t\t\t\tcurves: {}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tcurveNodesMap.set(curveNode.id, curveNode);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn curveNodesMap;\r\n\r\n\t\t} // parse nodes in FBXTree.Objects.AnimationCurve and connect them up to\r\n\t\t// previously parsed AnimationCurveNodes. Each AnimationCurve holds data for a single animated\r\n\t\t// axis ( e.g. times and values of x rotation)\r\n\r\n\r\n\t\tparseAnimationCurves(curveNodesMap) {\r\n\r\n\t\t\tconst rawCurves = fbxTree.Objects.AnimationCurve; // TODO: Many values are identical up to roundoff error, but won't be optimised\r\n\t\t\t// e.g. position times: [0, 0.4, 0. 8]\r\n\t\t\t// position values: [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.235384487103147e-7, 93.67520904541016, -0.9982695579528809]\r\n\t\t\t// clearly, this should be optimised to\r\n\t\t\t// times: [0], positions [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809]\r\n\t\t\t// this shows up in nearly every FBX file, and generally time array is length > 100\r\n\r\n\t\t\tfor (const nodeID in rawCurves) {\r\n\r\n\t\t\t\tconst animationCurve = {\r\n\t\t\t\t\tid: rawCurves[nodeID].id,\r\n\t\t\t\t\ttimes: rawCurves[nodeID].KeyTime.a.map(convertFBXTimeToSeconds),\r\n\t\t\t\t\tvalues: rawCurves[nodeID].KeyValueFloat.a\r\n\t\t\t\t};\r\n\t\t\t\tconst relationships = connections.get(animationCurve.id);\r\n\r\n\t\t\t\tif (relationships !== undefined) {\r\n\r\n\t\t\t\t\tconst animationCurveID = relationships.parents[0].ID;\r\n\t\t\t\t\tconst animationCurveRelationship = relationships.parents[0].relationship;\r\n\r\n\t\t\t\t\tif (animationCurveRelationship.match(/X/)) {\r\n\r\n\t\t\t\t\t\tcurveNodesMap.get(animationCurveID).curves['x'] = animationCurve;\r\n\r\n\t\t\t\t\t} else if (animationCurveRelationship.match(/Y/)) {\r\n\r\n\t\t\t\t\t\tcurveNodesMap.get(animationCurveID).curves['y'] = animationCurve;\r\n\r\n\t\t\t\t\t} else if (animationCurveRelationship.match(/Z/)) {\r\n\r\n\t\t\t\t\t\tcurveNodesMap.get(animationCurveID).curves['z'] = animationCurve;\r\n\r\n\t\t\t\t\t} else if (animationCurveRelationship.match(/d|DeformPercent/) && curveNodesMap.has(animationCurveID)) {\r\n\r\n\t\t\t\t\t\tcurveNodesMap.get(animationCurveID).curves['morph'] = animationCurve;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} // parse nodes in FBXTree.Objects.AnimationLayer. Each layers holds references\r\n\t\t// to various AnimationCurveNodes and is referenced by an AnimationStack node\r\n\t\t// note: theoretically a stack can have multiple layers, however in practice there always seems to be one per stack\r\n\r\n\r\n\t\tparseAnimationLayers(curveNodesMap) {\r\n\r\n\t\t\tconst rawLayers = fbxTree.Objects.AnimationLayer;\r\n\t\t\tconst layersMap = new Map();\r\n\r\n\t\t\tfor (const nodeID in rawLayers) {\r\n\r\n\t\t\t\tconst layerCurveNodes = [];\r\n\t\t\t\tconst connection = connections.get(parseInt(nodeID));\r\n\r\n\t\t\t\tif (connection !== undefined) {\r\n\r\n\t\t\t\t\t// all the animationCurveNodes used in the layer\r\n\t\t\t\t\tconst children = connection.children;\r\n\t\t\t\t\tchildren.forEach(function (child, i) {\r\n\r\n\t\t\t\t\t\tif (curveNodesMap.has(child.ID)) {\r\n\r\n\t\t\t\t\t\t\tconst curveNode = curveNodesMap.get(child.ID); // check that the curves are defined for at least one axis, otherwise ignore the curveNode\r\n\r\n\t\t\t\t\t\t\tif (curveNode.curves.x !== undefined || curveNode.curves.y !== undefined || curveNode.curves.z !== undefined) {\r\n\r\n\t\t\t\t\t\t\t\tif (layerCurveNodes[i] === undefined) {\r\n\r\n\t\t\t\t\t\t\t\t\tconst modelID = connections.get(child.ID).parents.filter(function (parent) {\r\n\r\n\t\t\t\t\t\t\t\t\t\treturn parent.relationship !== undefined;\r\n\r\n\t\t\t\t\t\t\t\t\t})[0].ID;\r\n\r\n\t\t\t\t\t\t\t\t\tif (modelID !== undefined) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tconst rawModel = fbxTree.Objects.Model[modelID.toString()];\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (rawModel === undefined) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.warn('THREE.FBXLoader: Encountered a unused curve.', child);\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tconst node = {\r\n\t\t\t\t\t\t\t\t\t\t\tmodelName: rawModel.attrName ? THREE.PropertyBinding.sanitizeNodeName(rawModel.attrName) : '',\r\n\t\t\t\t\t\t\t\t\t\t\tID: rawModel.id,\r\n\t\t\t\t\t\t\t\t\t\t\tinitialPosition: [0, 0, 0],\r\n\t\t\t\t\t\t\t\t\t\t\tinitialRotation: [0, 0, 0],\r\n\t\t\t\t\t\t\t\t\t\t\tinitialScale: [1, 1, 1]\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tsceneGraph.traverse(function (child) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif (child.ID === rawModel.id) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tnode.transform = child.matrix;\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.userData.transformData) node.eulerOrder = child.userData.transformData.eulerOrder;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tif (!node.transform) node.transform = new THREE.Matrix4(); // if the animated model is pre rotated, we'll have to apply the pre rotations to every\r\n\t\t\t\t\t\t\t\t\t\t// animation value as well\r\n\r\n\t\t\t\t\t\t\t\t\t\tif ('PreRotation' in rawModel) node.preRotation = rawModel.PreRotation.value;\r\n\t\t\t\t\t\t\t\t\t\tif ('PostRotation' in rawModel) node.postRotation = rawModel.PostRotation.value;\r\n\t\t\t\t\t\t\t\t\t\tlayerCurveNodes[i] = node;\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (layerCurveNodes[i]) layerCurveNodes[i][curveNode.attr] = curveNode;\r\n\r\n\t\t\t\t\t\t\t} else if (curveNode.curves.morph !== undefined) {\r\n\r\n\t\t\t\t\t\t\t\tif (layerCurveNodes[i] === undefined) {\r\n\r\n\t\t\t\t\t\t\t\t\tconst deformerID = connections.get(child.ID).parents.filter(function (parent) {\r\n\r\n\t\t\t\t\t\t\t\t\t\treturn parent.relationship !== undefined;\r\n\r\n\t\t\t\t\t\t\t\t\t})[0].ID;\r\n\t\t\t\t\t\t\t\t\tconst morpherID = connections.get(deformerID).parents[0].ID;\r\n\t\t\t\t\t\t\t\t\tconst geoID = connections.get(morpherID).parents[0].ID; // assuming geometry is not used in more than one model\r\n\r\n\t\t\t\t\t\t\t\t\tconst modelID = connections.get(geoID).parents[0].ID;\r\n\t\t\t\t\t\t\t\t\tconst rawModel = fbxTree.Objects.Model[modelID];\r\n\t\t\t\t\t\t\t\t\tconst node = {\r\n\t\t\t\t\t\t\t\t\t\tmodelName: rawModel.attrName ? THREE.PropertyBinding.sanitizeNodeName(rawModel.attrName) : '',\r\n\t\t\t\t\t\t\t\t\t\tmorphName: fbxTree.Objects.Deformer[deformerID].attrName\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\tlayerCurveNodes[i] = node;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tlayerCurveNodes[i][curveNode.attr] = curveNode;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlayersMap.set(parseInt(nodeID), layerCurveNodes);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn layersMap;\r\n\r\n\t\t} // parse nodes in FBXTree.Objects.AnimationStack. These are the top level node in the animation\r\n\t\t// hierarchy. Each Stack node will be used to create a THREE.AnimationClip\r\n\r\n\r\n\t\tparseAnimStacks(layersMap) {\r\n\r\n\t\t\tconst rawStacks = fbxTree.Objects.AnimationStack; // connect the stacks (clips) up to the layers\r\n\r\n\t\t\tconst rawClips = {};\r\n\r\n\t\t\tfor (const nodeID in rawStacks) {\r\n\r\n\t\t\t\tconst children = connections.get(parseInt(nodeID)).children;\r\n\r\n\t\t\t\tif (children.length > 1) {\r\n\r\n\t\t\t\t\t// it seems like stacks will always be associated with a single layer. But just in case there are files\r\n\t\t\t\t\t// where there are multiple layers per stack, we'll display a warning\r\n\t\t\t\t\tconsole.warn('THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst layer = layersMap.get(children[0].ID);\r\n\t\t\t\trawClips[nodeID] = {\r\n\t\t\t\t\tname: rawStacks[nodeID].attrName,\r\n\t\t\t\t\tlayer: layer\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn rawClips;\r\n\r\n\t\t}\r\n\r\n\t\taddClip(rawClip) {\r\n\r\n\t\t\tlet tracks = [];\r\n\t\t\tconst scope = this;\r\n\t\t\trawClip.layer.forEach(function (rawTracks) {\r\n\r\n\t\t\t\ttracks = tracks.concat(scope.generateTracks(rawTracks));\r\n\r\n\t\t\t});\r\n\t\t\treturn new THREE.AnimationClip(rawClip.name, - 1, tracks);\r\n\r\n\t\t}\r\n\r\n\t\tgenerateTracks(rawTracks) {\r\n\r\n\t\t\tconst tracks = [];\r\n\t\t\tlet initialPosition = new THREE.Vector3();\r\n\t\t\tlet initialRotation = new THREE.Quaternion();\r\n\t\t\tlet initialScale = new THREE.Vector3();\r\n\t\t\tif (rawTracks.transform) rawTracks.transform.decompose(initialPosition, initialRotation, initialScale);\r\n\t\t\tinitialPosition = initialPosition.toArray();\r\n\t\t\tinitialRotation = new THREE.Euler().setFromQuaternion(initialRotation, rawTracks.eulerOrder).toArray();\r\n\t\t\tinitialScale = initialScale.toArray();\r\n\r\n\t\t\tif (rawTracks.T !== undefined && Object.keys(rawTracks.T.curves).length > 0) {\r\n\r\n\t\t\t\tconst positionTrack = this.generateVectorTrack(rawTracks.modelName, rawTracks.T.curves, initialPosition, 'position');\r\n\t\t\t\tif (positionTrack !== undefined) tracks.push(positionTrack);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (rawTracks.R !== undefined && Object.keys(rawTracks.R.curves).length > 0) {\r\n\r\n\t\t\t\tconst rotationTrack = this.generateRotationTrack(rawTracks.modelName, rawTracks.R.curves, initialRotation, rawTracks.preRotation, rawTracks.postRotation, rawTracks.eulerOrder);\r\n\t\t\t\tif (rotationTrack !== undefined) tracks.push(rotationTrack);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (rawTracks.S !== undefined && Object.keys(rawTracks.S.curves).length > 0) {\r\n\r\n\t\t\t\tconst scaleTrack = this.generateVectorTrack(rawTracks.modelName, rawTracks.S.curves, initialScale, 'scale');\r\n\t\t\t\tif (scaleTrack !== undefined) tracks.push(scaleTrack);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (rawTracks.DeformPercent !== undefined) {\r\n\r\n\t\t\t\tconst morphTrack = this.generateMorphTrack(rawTracks);\r\n\t\t\t\tif (morphTrack !== undefined) tracks.push(morphTrack);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn tracks;\r\n\r\n\t\t}\r\n\r\n\t\tgenerateVectorTrack(modelName, curves, initialValue, type) {\r\n\r\n\t\t\tconst times = this.getTimesForAllAxes(curves);\r\n\t\t\tconst values = this.getKeyframeTrackValues(times, curves, initialValue);\r\n\t\t\treturn new THREE.VectorKeyframeTrack(modelName + '.' + type, times, values);\r\n\r\n\t\t}\r\n\r\n\t\tgenerateRotationTrack(modelName, curves, initialValue, preRotation, postRotation, eulerOrder) {\r\n\r\n\t\t\tif (curves.x !== undefined) {\r\n\r\n\t\t\t\tthis.interpolateRotations(curves.x);\r\n\t\t\t\tcurves.x.values = curves.x.values.map(THREE.MathUtils.degToRad);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (curves.y !== undefined) {\r\n\r\n\t\t\t\tthis.interpolateRotations(curves.y);\r\n\t\t\t\tcurves.y.values = curves.y.values.map(THREE.MathUtils.degToRad);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (curves.z !== undefined) {\r\n\r\n\t\t\t\tthis.interpolateRotations(curves.z);\r\n\t\t\t\tcurves.z.values = curves.z.values.map(THREE.MathUtils.degToRad);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst times = this.getTimesForAllAxes(curves);\r\n\t\t\tconst values = this.getKeyframeTrackValues(times, curves, initialValue);\r\n\r\n\t\t\tif (preRotation !== undefined) {\r\n\r\n\t\t\t\tpreRotation = preRotation.map(THREE.MathUtils.degToRad);\r\n\t\t\t\tpreRotation.push(eulerOrder);\r\n\t\t\t\tpreRotation = new THREE.Euler().fromArray(preRotation);\r\n\t\t\t\tpreRotation = new THREE.Quaternion().setFromEuler(preRotation);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (postRotation !== undefined) {\r\n\r\n\t\t\t\tpostRotation = postRotation.map(THREE.MathUtils.degToRad);\r\n\t\t\t\tpostRotation.push(eulerOrder);\r\n\t\t\t\tpostRotation = new THREE.Euler().fromArray(postRotation);\r\n\t\t\t\tpostRotation = new THREE.Quaternion().setFromEuler(postRotation).invert();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst quaternion = new THREE.Quaternion();\r\n\t\t\tconst euler = new THREE.Euler();\r\n\t\t\tconst quaternionValues = [];\r\n\r\n\t\t\tfor (let i = 0; i < values.length; i += 3) {\r\n\r\n\t\t\t\teuler.set(values[i], values[i + 1], values[i + 2], eulerOrder);\r\n\t\t\t\tquaternion.setFromEuler(euler);\r\n\t\t\t\tif (preRotation !== undefined) quaternion.premultiply(preRotation);\r\n\t\t\t\tif (postRotation !== undefined) quaternion.multiply(postRotation);\r\n\t\t\t\tquaternion.toArray(quaternionValues, i / 3 * 4);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new THREE.QuaternionKeyframeTrack(modelName + '.quaternion', times, quaternionValues);\r\n\r\n\t\t}\r\n\r\n\t\tgenerateMorphTrack(rawTracks) {\r\n\r\n\t\t\tconst curves = rawTracks.DeformPercent.curves.morph;\r\n\t\t\tconst values = curves.values.map(function (val) {\r\n\r\n\t\t\t\treturn val / 100;\r\n\r\n\t\t\t});\r\n\t\t\tconst morphNum = sceneGraph.getObjectByName(rawTracks.modelName).morphTargetDictionary[rawTracks.morphName];\r\n\t\t\treturn new THREE.NumberKeyframeTrack(rawTracks.modelName + '.morphTargetInfluences[' + morphNum + ']', curves.times, values);\r\n\r\n\t\t} // For all animated objects, times are defined separately for each axis\r\n\t\t// Here we'll combine the times into one sorted array without duplicates\r\n\r\n\r\n\t\tgetTimesForAllAxes(curves) {\r\n\r\n\t\t\tlet times = []; // first join together the times for each axis, if defined\r\n\r\n\t\t\tif (curves.x !== undefined) times = times.concat(curves.x.times);\r\n\t\t\tif (curves.y !== undefined) times = times.concat(curves.y.times);\r\n\t\t\tif (curves.z !== undefined) times = times.concat(curves.z.times); // then sort them\r\n\r\n\t\t\ttimes = times.sort(function (a, b) {\r\n\r\n\t\t\t\treturn a - b;\r\n\r\n\t\t\t}); // and remove duplicates\r\n\r\n\t\t\tif (times.length > 1) {\r\n\r\n\t\t\t\tlet targetIndex = 1;\r\n\t\t\t\tlet lastValue = times[0];\r\n\r\n\t\t\t\tfor (let i = 1; i < times.length; i++) {\r\n\r\n\t\t\t\t\tconst currentValue = times[i];\r\n\r\n\t\t\t\t\tif (currentValue !== lastValue) {\r\n\r\n\t\t\t\t\t\ttimes[targetIndex] = currentValue;\r\n\t\t\t\t\t\tlastValue = currentValue;\r\n\t\t\t\t\t\ttargetIndex++;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttimes = times.slice(0, targetIndex);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn times;\r\n\r\n\t\t}\r\n\r\n\t\tgetKeyframeTrackValues(times, curves, initialValue) {\r\n\r\n\t\t\tconst prevValue = initialValue;\r\n\t\t\tconst values = [];\r\n\t\t\tlet xIndex = - 1;\r\n\t\t\tlet yIndex = - 1;\r\n\t\t\tlet zIndex = - 1;\r\n\t\t\ttimes.forEach(function (time) {\r\n\r\n\t\t\t\tif (curves.x) xIndex = curves.x.times.indexOf(time);\r\n\t\t\t\tif (curves.y) yIndex = curves.y.times.indexOf(time);\r\n\t\t\t\tif (curves.z) zIndex = curves.z.times.indexOf(time); // if there is an x value defined for this frame, use that\r\n\r\n\t\t\t\tif (xIndex !== - 1) {\r\n\r\n\t\t\t\t\tconst xValue = curves.x.values[xIndex];\r\n\t\t\t\t\tvalues.push(xValue);\r\n\t\t\t\t\tprevValue[0] = xValue;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// otherwise use the x value from the previous frame\r\n\t\t\t\t\tvalues.push(prevValue[0]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (yIndex !== - 1) {\r\n\r\n\t\t\t\t\tconst yValue = curves.y.values[yIndex];\r\n\t\t\t\t\tvalues.push(yValue);\r\n\t\t\t\t\tprevValue[1] = yValue;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvalues.push(prevValue[1]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (zIndex !== - 1) {\r\n\r\n\t\t\t\t\tconst zValue = curves.z.values[zIndex];\r\n\t\t\t\t\tvalues.push(zValue);\r\n\t\t\t\t\tprevValue[2] = zValue;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvalues.push(prevValue[2]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t\treturn values;\r\n\r\n\t\t} // Rotations are defined as THREE.Euler angles which can have values  of any size\r\n\t\t// These will be converted to quaternions which don't support values greater than\r\n\t\t// PI, so we'll interpolate large rotations\r\n\r\n\r\n\t\tinterpolateRotations(curve) {\r\n\r\n\t\t\tfor (let i = 1; i < curve.values.length; i++) {\r\n\r\n\t\t\t\tconst initialValue = curve.values[i - 1];\r\n\t\t\t\tconst valuesSpan = curve.values[i] - initialValue;\r\n\t\t\t\tconst absoluteSpan = Math.abs(valuesSpan);\r\n\r\n\t\t\t\tif (absoluteSpan >= 180) {\r\n\r\n\t\t\t\t\tconst numSubIntervals = absoluteSpan / 180;\r\n\t\t\t\t\tconst step = valuesSpan / numSubIntervals;\r\n\t\t\t\t\tlet nextValue = initialValue + step;\r\n\t\t\t\t\tconst initialTime = curve.times[i - 1];\r\n\t\t\t\t\tconst timeSpan = curve.times[i] - initialTime;\r\n\t\t\t\t\tconst interval = timeSpan / numSubIntervals;\r\n\t\t\t\t\tlet nextTime = initialTime + interval;\r\n\t\t\t\t\tconst interpolatedTimes = [];\r\n\t\t\t\t\tconst interpolatedValues = [];\r\n\r\n\t\t\t\t\twhile (nextTime < curve.times[i]) {\r\n\r\n\t\t\t\t\t\tinterpolatedTimes.push(nextTime);\r\n\t\t\t\t\t\tnextTime += interval;\r\n\t\t\t\t\t\tinterpolatedValues.push(nextValue);\r\n\t\t\t\t\t\tnextValue += step;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcurve.times = inject(curve.times, i, interpolatedTimes);\r\n\t\t\t\t\tcurve.values = inject(curve.values, i, interpolatedValues);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t} // parse an FBX file in ASCII format\r\n\r\n\r\n\tclass TextParser {\r\n\r\n\t\tgetPrevNode() {\r\n\r\n\t\t\treturn this.nodeStack[this.currentIndent - 2];\r\n\r\n\t\t}\r\n\r\n\t\tgetCurrentNode() {\r\n\r\n\t\t\treturn this.nodeStack[this.currentIndent - 1];\r\n\r\n\t\t}\r\n\r\n\t\tgetCurrentProp() {\r\n\r\n\t\t\treturn this.currentProp;\r\n\r\n\t\t}\r\n\r\n\t\tpushStack(node) {\r\n\r\n\t\t\tthis.nodeStack.push(node);\r\n\t\t\tthis.currentIndent += 1;\r\n\r\n\t\t}\r\n\r\n\t\tpopStack() {\r\n\r\n\t\t\tthis.nodeStack.pop();\r\n\t\t\tthis.currentIndent -= 1;\r\n\r\n\t\t}\r\n\r\n\t\tsetCurrentProp(val, name) {\r\n\r\n\t\t\tthis.currentProp = val;\r\n\t\t\tthis.currentPropName = name;\r\n\r\n\t\t}\r\n\r\n\t\tparse(text) {\r\n\r\n\t\t\tthis.currentIndent = 0;\r\n\t\t\tthis.allNodes = new FBXTree();\r\n\t\t\tthis.nodeStack = [];\r\n\t\t\tthis.currentProp = [];\r\n\t\t\tthis.currentPropName = '';\r\n\t\t\tconst scope = this;\r\n\t\t\tconst split = text.split(/[\\r\\n]+/);\r\n\t\t\tsplit.forEach(function (line, i) {\r\n\r\n\t\t\t\tconst matchComment = line.match(/^[\\s\\t]*;/);\r\n\t\t\t\tconst matchEmpty = line.match(/^[\\s\\t]*$/);\r\n\t\t\t\tif (matchComment || matchEmpty) return;\r\n\t\t\t\tconst matchBeginning = line.match('^\\\\t{' + scope.currentIndent + '}(\\\\w+):(.*){', '');\r\n\t\t\t\tconst matchProperty = line.match('^\\\\t{' + scope.currentIndent + '}(\\\\w+):[\\\\s\\\\t\\\\r\\\\n](.*)');\r\n\t\t\t\tconst matchEnd = line.match('^\\\\t{' + (scope.currentIndent - 1) + '}}');\r\n\r\n\t\t\t\tif (matchBeginning) {\r\n\r\n\t\t\t\t\tscope.parseNodeBegin(line, matchBeginning);\r\n\r\n\t\t\t\t} else if (matchProperty) {\r\n\r\n\t\t\t\t\tscope.parseNodeProperty(line, matchProperty, split[++i]);\r\n\r\n\t\t\t\t} else if (matchEnd) {\r\n\r\n\t\t\t\t\tscope.popStack();\r\n\r\n\t\t\t\t} else if (line.match(/^[^\\s\\t}]/)) {\r\n\r\n\t\t\t\t\t// large arrays are split over multiple lines terminated with a ',' character\r\n\t\t\t\t\t// if this is encountered the line needs to be joined to the previous line\r\n\t\t\t\t\tscope.parseNodePropertyContinued(line);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t\treturn this.allNodes;\r\n\r\n\t\t}\r\n\r\n\t\tparseNodeBegin(line, property) {\r\n\r\n\t\t\tconst nodeName = property[1].trim().replace(/^\"/, '').replace(/\"$/, '');\r\n\t\t\tconst nodeAttrs = property[2].split(',').map(function (attr) {\r\n\r\n\t\t\t\treturn attr.trim().replace(/^\"/, '').replace(/\"$/, '');\r\n\r\n\t\t\t});\r\n\t\t\tconst node = {\r\n\t\t\t\tname: nodeName\r\n\t\t\t};\r\n\t\t\tconst attrs = this.parseNodeAttr(nodeAttrs);\r\n\t\t\tconst currentNode = this.getCurrentNode(); // a top node\r\n\r\n\t\t\tif (this.currentIndent === 0) {\r\n\r\n\t\t\t\tthis.allNodes.add(nodeName, node);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// a subnode\r\n\t\t\t\t// if the subnode already exists, append it\r\n\t\t\t\tif (nodeName in currentNode) {\r\n\r\n\t\t\t\t\t// special case Pose needs PoseNodes as an array\r\n\t\t\t\t\tif (nodeName === 'PoseNode') {\r\n\r\n\t\t\t\t\t\tcurrentNode.PoseNode.push(node);\r\n\r\n\t\t\t\t\t} else if (currentNode[nodeName].id !== undefined) {\r\n\r\n\t\t\t\t\t\tcurrentNode[nodeName] = {};\r\n\t\t\t\t\t\tcurrentNode[nodeName][currentNode[nodeName].id] = currentNode[nodeName];\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (attrs.id !== '') currentNode[nodeName][attrs.id] = node;\r\n\r\n\t\t\t\t} else if (typeof attrs.id === 'number') {\r\n\r\n\t\t\t\t\tcurrentNode[nodeName] = {};\r\n\t\t\t\t\tcurrentNode[nodeName][attrs.id] = node;\r\n\r\n\t\t\t\t} else if (nodeName !== 'Properties70') {\r\n\r\n\t\t\t\t\tif (nodeName === 'PoseNode') currentNode[nodeName] = [node]; else currentNode[nodeName] = node;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof attrs.id === 'number') node.id = attrs.id;\r\n\t\t\tif (attrs.name !== '') node.attrName = attrs.name;\r\n\t\t\tif (attrs.type !== '') node.attrType = attrs.type;\r\n\t\t\tthis.pushStack(node);\r\n\r\n\t\t}\r\n\r\n\t\tparseNodeAttr(attrs) {\r\n\r\n\t\t\tlet id = attrs[0];\r\n\r\n\t\t\tif (attrs[0] !== '') {\r\n\r\n\t\t\t\tid = parseInt(attrs[0]);\r\n\r\n\t\t\t\tif (isNaN(id)) {\r\n\r\n\t\t\t\t\tid = attrs[0];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlet name = '',\r\n\t\t\t\ttype = '';\r\n\r\n\t\t\tif (attrs.length > 1) {\r\n\r\n\t\t\t\tname = attrs[1].replace(/^(\\w+)::/, '');\r\n\t\t\t\ttype = attrs[2];\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tid: id,\r\n\t\t\t\tname: name,\r\n\t\t\t\ttype: type\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tparseNodeProperty(line, property, contentLine) {\r\n\r\n\t\t\tlet propName = property[1].replace(/^\"/, '').replace(/\"$/, '').trim();\r\n\t\t\tlet propValue = property[2].replace(/^\"/, '').replace(/\"$/, '').trim(); // for special case: base64 image data follows \"Content: ,\" line\r\n\t\t\t//\tContent: ,\r\n\t\t\t//\t \"/9j/4RDaRXhpZgAATU0A...\"\r\n\r\n\t\t\tif (propName === 'Content' && propValue === ',') {\r\n\r\n\t\t\t\tpropValue = contentLine.replace(/\"/g, '').replace(/,$/, '').trim();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst currentNode = this.getCurrentNode();\r\n\t\t\tconst parentName = currentNode.name;\r\n\r\n\t\t\tif (parentName === 'Properties70') {\r\n\r\n\t\t\t\tthis.parseNodeSpecialProperty(line, propName, propValue);\r\n\t\t\t\treturn;\r\n\r\n\t\t\t} // Connections\r\n\r\n\r\n\t\t\tif (propName === 'C') {\r\n\r\n\t\t\t\tconst connProps = propValue.split(',').slice(1);\r\n\t\t\t\tconst from = parseInt(connProps[0]);\r\n\t\t\t\tconst to = parseInt(connProps[1]);\r\n\t\t\t\tlet rest = propValue.split(',').slice(3);\r\n\t\t\t\trest = rest.map(function (elem) {\r\n\r\n\t\t\t\t\treturn elem.trim().replace(/^\"/, '');\r\n\r\n\t\t\t\t});\r\n\t\t\t\tpropName = 'connections';\r\n\t\t\t\tpropValue = [from, to];\r\n\t\t\t\tappend(propValue, rest);\r\n\r\n\t\t\t\tif (currentNode[propName] === undefined) {\r\n\r\n\t\t\t\t\tcurrentNode[propName] = [];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} // Node\r\n\r\n\r\n\t\t\tif (propName === 'Node') currentNode.id = propValue; // connections\r\n\r\n\t\t\tif (propName in currentNode && Array.isArray(currentNode[propName])) {\r\n\r\n\t\t\t\tcurrentNode[propName].push(propValue);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (propName !== 'a') currentNode[propName] = propValue; else currentNode.a = propValue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setCurrentProp(currentNode, propName); // convert string to array, unless it ends in ',' in which case more will be added to it\r\n\r\n\t\t\tif (propName === 'a' && propValue.slice(- 1) !== ',') {\r\n\r\n\t\t\t\tcurrentNode.a = parseNumberArray(propValue);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tparseNodePropertyContinued(line) {\r\n\r\n\t\t\tconst currentNode = this.getCurrentNode();\r\n\t\t\tcurrentNode.a += line; // if the line doesn't end in ',' we have reached the end of the property value\r\n\t\t\t// so convert the string to an array\r\n\r\n\t\t\tif (line.slice(- 1) !== ',') {\r\n\r\n\t\t\t\tcurrentNode.a = parseNumberArray(currentNode.a);\r\n\r\n\t\t\t}\r\n\r\n\t\t} // parse \"Property70\"\r\n\r\n\r\n\t\tparseNodeSpecialProperty(line, propName, propValue) {\r\n\r\n\t\t\t// split this\r\n\t\t\t// P: \"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\",1,1,1\r\n\t\t\t// into array like below\r\n\t\t\t// [\"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\", \"1,1,1\" ]\r\n\t\t\tconst props = propValue.split('\",').map(function (prop) {\r\n\r\n\t\t\t\treturn prop.trim().replace(/^\\\"/, '').replace(/\\s/, '_');\r\n\r\n\t\t\t});\r\n\t\t\tconst innerPropName = props[0];\r\n\t\t\tconst innerPropType1 = props[1];\r\n\t\t\tconst innerPropType2 = props[2];\r\n\t\t\tconst innerPropFlag = props[3];\r\n\t\t\tlet innerPropValue = props[4]; // cast values where needed, otherwise leave as strings\r\n\r\n\t\t\tswitch (innerPropType1) {\r\n\r\n\t\t\t\tcase 'int':\r\n\t\t\t\tcase 'enum':\r\n\t\t\t\tcase 'bool':\r\n\t\t\t\tcase 'ULongLong':\r\n\t\t\t\tcase 'double':\r\n\t\t\t\tcase 'Number':\r\n\t\t\t\tcase 'FieldOfView':\r\n\t\t\t\t\tinnerPropValue = parseFloat(innerPropValue);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'Color':\r\n\t\t\t\tcase 'ColorRGB':\r\n\t\t\t\tcase 'Vector3D':\r\n\t\t\t\tcase 'Lcl_Translation':\r\n\t\t\t\tcase 'Lcl_Rotation':\r\n\t\t\t\tcase 'Lcl_Scaling':\r\n\t\t\t\t\tinnerPropValue = parseNumberArray(innerPropValue);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t} // CAUTION: these props must append to parent's parent\r\n\r\n\r\n\t\t\tthis.getPrevNode()[innerPropName] = {\r\n\t\t\t\t'type': innerPropType1,\r\n\t\t\t\t'type2': innerPropType2,\r\n\t\t\t\t'flag': innerPropFlag,\r\n\t\t\t\t'value': innerPropValue\r\n\t\t\t};\r\n\t\t\tthis.setCurrentProp(this.getPrevNode(), innerPropName);\r\n\r\n\t\t}\r\n\r\n\t} // Parse an FBX file in Binary format\r\n\r\n\r\n\tclass BinaryParser {\r\n\r\n\t\tparse(buffer) {\r\n\r\n\t\t\tconst reader = new BinaryReader(buffer);\r\n\t\t\treader.skip(23); // skip magic 23 bytes\r\n\r\n\t\t\tconst version = reader.getUint32();\r\n\r\n\t\t\tif (version < 6400) {\r\n\r\n\t\t\t\tthrow new Error('THREE.FBXLoader: FBX version not supported, FileVersion: ' + version);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst allNodes = new FBXTree();\r\n\r\n\t\t\twhile (!this.endOfContent(reader)) {\r\n\r\n\t\t\t\tconst node = this.parseNode(reader, version);\r\n\t\t\t\tif (node !== null) allNodes.add(node.name, node);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn allNodes;\r\n\r\n\t\t} // Check if reader has reached the end of content.\r\n\r\n\r\n\t\tendOfContent(reader) {\r\n\r\n\t\t\t// footer size: 160bytes + 16-byte alignment padding\r\n\t\t\t// - 16bytes: magic\r\n\t\t\t// - padding til 16-byte alignment (at least 1byte?)\r\n\t\t\t//\t(seems like some exporters embed fixed 15 or 16bytes?)\r\n\t\t\t// - 4bytes: magic\r\n\t\t\t// - 4bytes: version\r\n\t\t\t// - 120bytes: zero\r\n\t\t\t// - 16bytes: magic\r\n\t\t\tif (reader.size() % 16 === 0) {\r\n\r\n\t\t\t\treturn (reader.getOffset() + 160 + 16 & ~0xf) >= reader.size();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn reader.getOffset() + 160 + 16 >= reader.size();\r\n\r\n\t\t\t}\r\n\r\n\t\t} // recursively parse nodes until the end of the file is reached\r\n\r\n\r\n\t\tparseNode(reader, version) {\r\n\r\n\t\t\tconst node = {}; // The first three data sizes depends on version.\r\n\r\n\t\t\tconst endOffset = version >= 7500 ? reader.getUint64() : reader.getUint32();\r\n\t\t\tconst numProperties = version >= 7500 ? reader.getUint64() : reader.getUint32();\r\n\t\t\tversion >= 7500 ? reader.getUint64() : reader.getUint32(); // the returned propertyListLen is not used\r\n\r\n\t\t\tconst nameLen = reader.getUint8();\r\n\t\t\tconst name = reader.getString(nameLen); // Regards this node as NULL-record if endOffset is zero\r\n\r\n\t\t\tif (endOffset === 0) return null;\r\n\t\t\tconst propertyList = [];\r\n\r\n\t\t\tfor (let i = 0; i < numProperties; i++) {\r\n\r\n\t\t\t\tpropertyList.push(this.parseProperty(reader));\r\n\r\n\t\t\t} // Regards the first three elements in propertyList as id, attrName, and attrType\r\n\r\n\r\n\t\t\tconst id = propertyList.length > 0 ? propertyList[0] : '';\r\n\t\t\tconst attrName = propertyList.length > 1 ? propertyList[1] : '';\r\n\t\t\tconst attrType = propertyList.length > 2 ? propertyList[2] : ''; // check if this node represents just a single property\r\n\t\t\t// like (name, 0) set or (name2, [0, 1, 2]) set of {name: 0, name2: [0, 1, 2]}\r\n\r\n\t\t\tnode.singleProperty = numProperties === 1 && reader.getOffset() === endOffset ? true : false;\r\n\r\n\t\t\twhile (endOffset > reader.getOffset()) {\r\n\r\n\t\t\t\tconst subNode = this.parseNode(reader, version);\r\n\t\t\t\tif (subNode !== null) this.parseSubNode(name, node, subNode);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tnode.propertyList = propertyList; // raw property list used by parent\r\n\r\n\t\t\tif (typeof id === 'number') node.id = id;\r\n\t\t\tif (attrName !== '') node.attrName = attrName;\r\n\t\t\tif (attrType !== '') node.attrType = attrType;\r\n\t\t\tif (name !== '') node.name = name;\r\n\t\t\treturn node;\r\n\r\n\t\t}\r\n\r\n\t\tparseSubNode(name, node, subNode) {\r\n\r\n\t\t\t// special case: child node is single property\r\n\t\t\tif (subNode.singleProperty === true) {\r\n\r\n\t\t\t\tconst value = subNode.propertyList[0];\r\n\r\n\t\t\t\tif (Array.isArray(value)) {\r\n\r\n\t\t\t\t\tnode[subNode.name] = subNode;\r\n\t\t\t\t\tsubNode.a = value;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tnode[subNode.name] = value;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (name === 'Connections' && subNode.name === 'C') {\r\n\r\n\t\t\t\tconst array = [];\r\n\t\t\t\tsubNode.propertyList.forEach(function (property, i) {\r\n\r\n\t\t\t\t\t// first Connection is FBX type (OO, OP, etc.). We'll discard these\r\n\t\t\t\t\tif (i !== 0) array.push(property);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (node.connections === undefined) {\r\n\r\n\t\t\t\t\tnode.connections = [];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnode.connections.push(array);\r\n\r\n\t\t\t} else if (subNode.name === 'Properties70') {\r\n\r\n\t\t\t\tconst keys = Object.keys(subNode);\r\n\t\t\t\tkeys.forEach(function (key) {\r\n\r\n\t\t\t\t\tnode[key] = subNode[key];\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t} else if (name === 'Properties70' && subNode.name === 'P') {\r\n\r\n\t\t\t\tlet innerPropName = subNode.propertyList[0];\r\n\t\t\t\tlet innerPropType1 = subNode.propertyList[1];\r\n\t\t\t\tconst innerPropType2 = subNode.propertyList[2];\r\n\t\t\t\tconst innerPropFlag = subNode.propertyList[3];\r\n\t\t\t\tlet innerPropValue;\r\n\t\t\t\tif (innerPropName.indexOf('Lcl ') === 0) innerPropName = innerPropName.replace('Lcl ', 'Lcl_');\r\n\t\t\t\tif (innerPropType1.indexOf('Lcl ') === 0) innerPropType1 = innerPropType1.replace('Lcl ', 'Lcl_');\r\n\r\n\t\t\t\tif (innerPropType1 === 'Color' || innerPropType1 === 'ColorRGB' || innerPropType1 === 'Vector' || innerPropType1 === 'Vector3D' || innerPropType1.indexOf('Lcl_') === 0) {\r\n\r\n\t\t\t\t\tinnerPropValue = [subNode.propertyList[4], subNode.propertyList[5], subNode.propertyList[6]];\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tinnerPropValue = subNode.propertyList[4];\r\n\r\n\t\t\t\t} // this will be copied to parent, see above\r\n\r\n\r\n\t\t\t\tnode[innerPropName] = {\r\n\t\t\t\t\t'type': innerPropType1,\r\n\t\t\t\t\t'type2': innerPropType2,\r\n\t\t\t\t\t'flag': innerPropFlag,\r\n\t\t\t\t\t'value': innerPropValue\r\n\t\t\t\t};\r\n\r\n\t\t\t} else if (node[subNode.name] === undefined) {\r\n\r\n\t\t\t\tif (typeof subNode.id === 'number') {\r\n\r\n\t\t\t\t\tnode[subNode.name] = {};\r\n\t\t\t\t\tnode[subNode.name][subNode.id] = subNode;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tnode[subNode.name] = subNode;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (subNode.name === 'PoseNode') {\r\n\r\n\t\t\t\t\tif (!Array.isArray(node[subNode.name])) {\r\n\r\n\t\t\t\t\t\tnode[subNode.name] = [node[subNode.name]];\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnode[subNode.name].push(subNode);\r\n\r\n\t\t\t\t} else if (node[subNode.name][subNode.id] === undefined) {\r\n\r\n\t\t\t\t\tnode[subNode.name][subNode.id] = subNode;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tparseProperty(reader) {\r\n\r\n\t\t\tconst type = reader.getString(1);\r\n\t\t\tlet length;\r\n\r\n\t\t\tswitch (type) {\r\n\r\n\t\t\t\tcase 'C':\r\n\t\t\t\t\treturn reader.getBoolean();\r\n\r\n\t\t\t\tcase 'D':\r\n\t\t\t\t\treturn reader.getFloat64();\r\n\r\n\t\t\t\tcase 'F':\r\n\t\t\t\t\treturn reader.getFloat32();\r\n\r\n\t\t\t\tcase 'I':\r\n\t\t\t\t\treturn reader.getInt32();\r\n\r\n\t\t\t\tcase 'L':\r\n\t\t\t\t\treturn reader.getInt64();\r\n\r\n\t\t\t\tcase 'R':\r\n\t\t\t\t\tlength = reader.getUint32();\r\n\t\t\t\t\treturn reader.getArrayBuffer(length);\r\n\r\n\t\t\t\tcase 'S':\r\n\t\t\t\t\tlength = reader.getUint32();\r\n\t\t\t\t\treturn reader.getString(length);\r\n\r\n\t\t\t\tcase 'Y':\r\n\t\t\t\t\treturn reader.getInt16();\r\n\r\n\t\t\t\tcase 'b':\r\n\t\t\t\tcase 'c':\r\n\t\t\t\tcase 'd':\r\n\t\t\t\tcase 'f':\r\n\t\t\t\tcase 'i':\r\n\t\t\t\tcase 'l':\r\n\t\t\t\t\tconst arrayLength = reader.getUint32();\r\n\t\t\t\t\tconst encoding = reader.getUint32(); // 0: non-compressed, 1: compressed\r\n\r\n\t\t\t\t\tconst compressedLength = reader.getUint32();\r\n\r\n\t\t\t\t\tif (encoding === 0) {\r\n\r\n\t\t\t\t\t\tswitch (type) {\r\n\r\n\t\t\t\t\t\t\tcase 'b':\r\n\t\t\t\t\t\t\tcase 'c':\r\n\t\t\t\t\t\t\t\treturn reader.getBooleanArray(arrayLength);\r\n\r\n\t\t\t\t\t\t\tcase 'd':\r\n\t\t\t\t\t\t\t\treturn reader.getFloat64Array(arrayLength);\r\n\r\n\t\t\t\t\t\t\tcase 'f':\r\n\t\t\t\t\t\t\t\treturn reader.getFloat32Array(arrayLength);\r\n\r\n\t\t\t\t\t\t\tcase 'i':\r\n\t\t\t\t\t\t\t\treturn reader.getInt32Array(arrayLength);\r\n\r\n\t\t\t\t\t\t\tcase 'l':\r\n\t\t\t\t\t\t\t\treturn reader.getInt64Array(arrayLength);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (typeof fflate === 'undefined') {\r\n\r\n\t\t\t\t\t\tconsole.error('THREE.FBXLoader: External library fflate.min.js required.');\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst data = fflate.unzlibSync(new Uint8Array(reader.getArrayBuffer(compressedLength))); // eslint-disable-line no-undef\r\n\r\n\t\t\t\t\tconst reader2 = new BinaryReader(data.buffer);\r\n\r\n\t\t\t\t\tswitch (type) {\r\n\r\n\t\t\t\t\t\tcase 'b':\r\n\t\t\t\t\t\tcase 'c':\r\n\t\t\t\t\t\t\treturn reader2.getBooleanArray(arrayLength);\r\n\r\n\t\t\t\t\t\tcase 'd':\r\n\t\t\t\t\t\t\treturn reader2.getFloat64Array(arrayLength);\r\n\r\n\t\t\t\t\t\tcase 'f':\r\n\t\t\t\t\t\t\treturn reader2.getFloat32Array(arrayLength);\r\n\r\n\t\t\t\t\t\tcase 'i':\r\n\t\t\t\t\t\t\treturn reader2.getInt32Array(arrayLength);\r\n\r\n\t\t\t\t\t\tcase 'l':\r\n\t\t\t\t\t\t\treturn reader2.getInt64Array(arrayLength);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error('THREE.FBXLoader: Unknown property type ' + type);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tclass BinaryReader {\r\n\r\n\t\tconstructor(buffer, littleEndian) {\r\n\r\n\t\t\tthis.dv = new DataView(buffer);\r\n\t\t\tthis.offset = 0;\r\n\t\t\tthis.littleEndian = littleEndian !== undefined ? littleEndian : true;\r\n\r\n\t\t}\r\n\r\n\t\tgetOffset() {\r\n\r\n\t\t\treturn this.offset;\r\n\r\n\t\t}\r\n\r\n\t\tsize() {\r\n\r\n\t\t\treturn this.dv.buffer.byteLength;\r\n\r\n\t\t}\r\n\r\n\t\tskip(length) {\r\n\r\n\t\t\tthis.offset += length;\r\n\r\n\t\t} // seems like true/false representation depends on exporter.\r\n\t\t// true: 1 or 'Y'(=0x59), false: 0 or 'T'(=0x54)\r\n\t\t// then sees LSB.\r\n\r\n\r\n\t\tgetBoolean() {\r\n\r\n\t\t\treturn (this.getUint8() & 1) === 1;\r\n\r\n\t\t}\r\n\r\n\t\tgetBooleanArray(size) {\r\n\r\n\t\t\tconst a = [];\r\n\r\n\t\t\tfor (let i = 0; i < size; i++) {\r\n\r\n\t\t\t\ta.push(this.getBoolean());\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn a;\r\n\r\n\t\t}\r\n\r\n\t\tgetUint8() {\r\n\r\n\t\t\tconst value = this.dv.getUint8(this.offset);\r\n\t\t\tthis.offset += 1;\r\n\t\t\treturn value;\r\n\r\n\t\t}\r\n\r\n\t\tgetInt16() {\r\n\r\n\t\t\tconst value = this.dv.getInt16(this.offset, this.littleEndian);\r\n\t\t\tthis.offset += 2;\r\n\t\t\treturn value;\r\n\r\n\t\t}\r\n\r\n\t\tgetInt32() {\r\n\r\n\t\t\tconst value = this.dv.getInt32(this.offset, this.littleEndian);\r\n\t\t\tthis.offset += 4;\r\n\t\t\treturn value;\r\n\r\n\t\t}\r\n\r\n\t\tgetInt32Array(size) {\r\n\r\n\t\t\tconst a = [];\r\n\r\n\t\t\tfor (let i = 0; i < size; i++) {\r\n\r\n\t\t\t\ta.push(this.getInt32());\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn a;\r\n\r\n\t\t}\r\n\r\n\t\tgetUint32() {\r\n\r\n\t\t\tconst value = this.dv.getUint32(this.offset, this.littleEndian);\r\n\t\t\tthis.offset += 4;\r\n\t\t\treturn value;\r\n\r\n\t\t} // JavaScript doesn't support 64-bit integer so calculate this here\r\n\t\t// 1 << 32 will return 1 so using multiply operation instead here.\r\n\t\t// There's a possibility that this method returns wrong value if the value\r\n\t\t// is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER.\r\n\t\t// TODO: safely handle 64-bit integer\r\n\r\n\r\n\t\tgetInt64() {\r\n\r\n\t\t\tlet low, high;\r\n\r\n\t\t\tif (this.littleEndian) {\r\n\r\n\t\t\t\tlow = this.getUint32();\r\n\t\t\t\thigh = this.getUint32();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\thigh = this.getUint32();\r\n\t\t\t\tlow = this.getUint32();\r\n\r\n\t\t\t} // calculate negative value\r\n\r\n\r\n\t\t\tif (high & 0x80000000) {\r\n\r\n\t\t\t\thigh = ~high & 0xFFFFFFFF;\r\n\t\t\t\tlow = ~low & 0xFFFFFFFF;\r\n\t\t\t\tif (low === 0xFFFFFFFF) high = high + 1 & 0xFFFFFFFF;\r\n\t\t\t\tlow = low + 1 & 0xFFFFFFFF;\r\n\t\t\t\treturn - (high * 0x100000000 + low);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn high * 0x100000000 + low;\r\n\r\n\t\t}\r\n\r\n\t\tgetInt64Array(size) {\r\n\r\n\t\t\tconst a = [];\r\n\r\n\t\t\tfor (let i = 0; i < size; i++) {\r\n\r\n\t\t\t\ta.push(this.getInt64());\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn a;\r\n\r\n\t\t} // Note: see getInt64() comment\r\n\r\n\r\n\t\tgetUint64() {\r\n\r\n\t\t\tlet low, high;\r\n\r\n\t\t\tif (this.littleEndian) {\r\n\r\n\t\t\t\tlow = this.getUint32();\r\n\t\t\t\thigh = this.getUint32();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\thigh = this.getUint32();\r\n\t\t\t\tlow = this.getUint32();\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn high * 0x100000000 + low;\r\n\r\n\t\t}\r\n\r\n\t\tgetFloat32() {\r\n\r\n\t\t\tconst value = this.dv.getFloat32(this.offset, this.littleEndian);\r\n\t\t\tthis.offset += 4;\r\n\t\t\treturn value;\r\n\r\n\t\t}\r\n\r\n\t\tgetFloat32Array(size) {\r\n\r\n\t\t\tconst a = [];\r\n\r\n\t\t\tfor (let i = 0; i < size; i++) {\r\n\r\n\t\t\t\ta.push(this.getFloat32());\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn a;\r\n\r\n\t\t}\r\n\r\n\t\tgetFloat64() {\r\n\r\n\t\t\tconst value = this.dv.getFloat64(this.offset, this.littleEndian);\r\n\t\t\tthis.offset += 8;\r\n\t\t\treturn value;\r\n\r\n\t\t}\r\n\r\n\t\tgetFloat64Array(size) {\r\n\r\n\t\t\tconst a = [];\r\n\r\n\t\t\tfor (let i = 0; i < size; i++) {\r\n\r\n\t\t\t\ta.push(this.getFloat64());\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn a;\r\n\r\n\t\t}\r\n\r\n\t\tgetArrayBuffer(size) {\r\n\r\n\t\t\tconst value = this.dv.buffer.slice(this.offset, this.offset + size);\r\n\t\t\tthis.offset += size;\r\n\t\t\treturn value;\r\n\r\n\t\t}\r\n\r\n\t\tgetString(size) {\r\n\r\n\t\t\t// note: safari 9 doesn't support Uint8Array.indexOf; create intermediate array instead\r\n\t\t\tlet a = [];\r\n\r\n\t\t\tfor (let i = 0; i < size; i++) {\r\n\r\n\t\t\t\ta[i] = this.getUint8();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst nullByte = a.indexOf(0);\r\n\t\t\tif (nullByte >= 0) a = a.slice(0, nullByte);\r\n\t\t\treturn THREE.LoaderUtils.decodeText(new Uint8Array(a));\r\n\r\n\t\t}\r\n\r\n\t} // FBXTree holds a representation of the FBX data, returned by the TextParser ( FBX ASCII format)\r\n\t// and BinaryParser( FBX Binary format)\r\n\r\n\r\n\tclass FBXTree {\r\n\r\n\t\tadd(key, val) {\r\n\r\n\t\t\tthis[key] = val;\r\n\r\n\t\t}\r\n\r\n\t} // ************** UTILITY FUNCTIONS **************\r\n\r\n\r\n\tfunction isFbxFormatBinary(buffer) {\r\n\r\n\t\tconst CORRECT = 'Kaydara\\u0020FBX\\u0020Binary\\u0020\\u0020\\0';\r\n\t\treturn buffer.byteLength >= CORRECT.length && CORRECT === convertArrayBufferToString(buffer, 0, CORRECT.length);\r\n\r\n\t}\r\n\r\n\tfunction isFbxFormatASCII(text) {\r\n\r\n\t\tconst CORRECT = ['K', 'a', 'y', 'd', 'a', 'r', 'a', '\\\\', 'F', 'B', 'X', '\\\\', 'B', 'i', 'n', 'a', 'r', 'y', '\\\\', '\\\\'];\r\n\t\tlet cursor = 0;\r\n\r\n\t\tfunction read(offset) {\r\n\r\n\t\t\tconst result = text[offset - 1];\r\n\t\t\ttext = text.slice(cursor + offset);\r\n\t\t\tcursor++;\r\n\t\t\treturn result;\r\n\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < CORRECT.length; ++i) {\r\n\r\n\t\t\tconst num = read(1);\r\n\r\n\t\t\tif (num === CORRECT[i]) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t}\r\n\r\n\tfunction getFbxVersion(text) {\r\n\r\n\t\tconst versionRegExp = /FBXVersion: (\\d+)/;\r\n\t\tconst match = text.match(versionRegExp);\r\n\r\n\t\tif (match) {\r\n\r\n\t\t\tconst version = parseInt(match[1]);\r\n\t\t\treturn version;\r\n\r\n\t\t}\r\n\r\n\t\tthrow new Error('THREE.FBXLoader: Cannot find the version number for the file given.');\r\n\r\n\t} // Converts FBX ticks into real time seconds.\r\n\r\n\r\n\tfunction convertFBXTimeToSeconds(time) {\r\n\r\n\t\treturn time / 46186158000;\r\n\r\n\t}\r\n\r\n\tconst dataArray = []; // extracts the data from the correct position in the FBX array based on indexing type\r\n\r\n\tfunction getData(polygonVertexIndex, polygonIndex, vertexIndex, infoObject) {\r\n\r\n\t\tlet index;\r\n\r\n\t\tswitch (infoObject.mappingType) {\r\n\r\n\t\t\tcase 'ByPolygonVertex':\r\n\t\t\t\tindex = polygonVertexIndex;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ByPolygon':\r\n\t\t\t\tindex = polygonIndex;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ByVertice':\r\n\t\t\t\tindex = vertexIndex;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'AllSame':\r\n\t\t\t\tindex = infoObject.indices[0];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.warn('THREE.FBXLoader: unknown attribute mapping type ' + infoObject.mappingType);\r\n\r\n\t\t}\r\n\r\n\t\tif (infoObject.referenceType === 'IndexToDirect') index = infoObject.indices[index];\r\n\t\tconst from = index * infoObject.dataSize;\r\n\t\tconst to = from + infoObject.dataSize;\r\n\t\treturn slice(dataArray, infoObject.buffer, from, to);\r\n\r\n\t}\r\n\r\n\tconst tempEuler = new THREE.Euler();\r\n\tconst tempVec = new THREE.Vector3(); // generate transformation from FBX transform data\r\n\t// ref: https://help.autodesk.com/view/FBX/2017/ENU/?guid=__files_GUID_10CDD63C_79C1_4F2D_BB28_AD2BE65A02ED_htm\r\n\t// ref: http://docs.autodesk.com/FBX/2014/ENU/FBX-SDK-Documentation/index.html?url=cpp_ref/_transformations_2main_8cxx-example.html,topicNumber=cpp_ref__transformations_2main_8cxx_example_htmlfc10a1e1-b18d-4e72-9dc0-70d0f1959f5e\r\n\r\n\tfunction generateTransform(transformData) {\r\n\r\n\t\tconst lTranslationM = new THREE.Matrix4();\r\n\t\tconst lPreRotationM = new THREE.Matrix4();\r\n\t\tconst lRotationM = new THREE.Matrix4();\r\n\t\tconst lPostRotationM = new THREE.Matrix4();\r\n\t\tconst lScalingM = new THREE.Matrix4();\r\n\t\tconst lScalingPivotM = new THREE.Matrix4();\r\n\t\tconst lScalingOffsetM = new THREE.Matrix4();\r\n\t\tconst lRotationOffsetM = new THREE.Matrix4();\r\n\t\tconst lRotationPivotM = new THREE.Matrix4();\r\n\t\tconst lParentGX = new THREE.Matrix4();\r\n\t\tconst lParentLX = new THREE.Matrix4();\r\n\t\tconst lGlobalT = new THREE.Matrix4();\r\n\t\tconst inheritType = transformData.inheritType ? transformData.inheritType : 0;\r\n\t\tif (transformData.translation) lTranslationM.setPosition(tempVec.fromArray(transformData.translation));\r\n\r\n\t\tif (transformData.preRotation) {\r\n\r\n\t\t\tconst array = transformData.preRotation.map(THREE.MathUtils.degToRad);\r\n\t\t\tarray.push(transformData.eulerOrder);\r\n\t\t\tlPreRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\r\n\r\n\t\t}\r\n\r\n\t\tif (transformData.rotation) {\r\n\r\n\t\t\tconst array = transformData.rotation.map(THREE.MathUtils.degToRad);\r\n\t\t\tarray.push(transformData.eulerOrder);\r\n\t\t\tlRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\r\n\r\n\t\t}\r\n\r\n\t\tif (transformData.postRotation) {\r\n\r\n\t\t\tconst array = transformData.postRotation.map(THREE.MathUtils.degToRad);\r\n\t\t\tarray.push(transformData.eulerOrder);\r\n\t\t\tlPostRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\r\n\t\t\tlPostRotationM.invert();\r\n\r\n\t\t}\r\n\r\n\t\tif (transformData.scale) lScalingM.scale(tempVec.fromArray(transformData.scale)); // Pivots and offsets\r\n\r\n\t\tif (transformData.scalingOffset) lScalingOffsetM.setPosition(tempVec.fromArray(transformData.scalingOffset));\r\n\t\tif (transformData.scalingPivot) lScalingPivotM.setPosition(tempVec.fromArray(transformData.scalingPivot));\r\n\t\tif (transformData.rotationOffset) lRotationOffsetM.setPosition(tempVec.fromArray(transformData.rotationOffset));\r\n\t\tif (transformData.rotationPivot) lRotationPivotM.setPosition(tempVec.fromArray(transformData.rotationPivot)); // parent transform\r\n\r\n\t\tif (transformData.parentMatrixWorld) {\r\n\r\n\t\t\tlParentLX.copy(transformData.parentMatrix);\r\n\t\t\tlParentGX.copy(transformData.parentMatrixWorld);\r\n\r\n\t\t}\r\n\r\n\t\tconst lLRM = lPreRotationM.clone().multiply(lRotationM).multiply(lPostRotationM); // Global Rotation\r\n\r\n\t\tconst lParentGRM = new THREE.Matrix4();\r\n\t\tlParentGRM.extractRotation(lParentGX); // Global Shear*Scaling\r\n\r\n\t\tconst lParentTM = new THREE.Matrix4();\r\n\t\tlParentTM.copyPosition(lParentGX);\r\n\t\tconst lParentGRSM = lParentTM.clone().invert().multiply(lParentGX);\r\n\t\tconst lParentGSM = lParentGRM.clone().invert().multiply(lParentGRSM);\r\n\t\tconst lLSM = lScalingM;\r\n\t\tconst lGlobalRS = new THREE.Matrix4();\r\n\r\n\t\tif (inheritType === 0) {\r\n\r\n\t\t\tlGlobalRS.copy(lParentGRM).multiply(lLRM).multiply(lParentGSM).multiply(lLSM);\r\n\r\n\t\t} else if (inheritType === 1) {\r\n\r\n\t\t\tlGlobalRS.copy(lParentGRM).multiply(lParentGSM).multiply(lLRM).multiply(lLSM);\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst lParentLSM = new THREE.Matrix4().scale(new THREE.Vector3().setFromMatrixScale(lParentLX));\r\n\t\t\tconst lParentLSM_inv = lParentLSM.clone().invert();\r\n\t\t\tconst lParentGSM_noLocal = lParentGSM.clone().multiply(lParentLSM_inv);\r\n\t\t\tlGlobalRS.copy(lParentGRM).multiply(lLRM).multiply(lParentGSM_noLocal).multiply(lLSM);\r\n\r\n\t\t}\r\n\r\n\t\tconst lRotationPivotM_inv = lRotationPivotM.clone().invert();\r\n\t\tconst lScalingPivotM_inv = lScalingPivotM.clone().invert(); // Calculate the local transform matrix\r\n\r\n\t\tlet lTransform = lTranslationM.clone().multiply(lRotationOffsetM).multiply(lRotationPivotM).multiply(lPreRotationM).multiply(lRotationM).multiply(lPostRotationM).multiply(lRotationPivotM_inv).multiply(lScalingOffsetM).multiply(lScalingPivotM).multiply(lScalingM).multiply(lScalingPivotM_inv);\r\n\t\tconst lLocalTWithAllPivotAndOffsetInfo = new THREE.Matrix4().copyPosition(lTransform);\r\n\t\tconst lGlobalTranslation = lParentGX.clone().multiply(lLocalTWithAllPivotAndOffsetInfo);\r\n\t\tlGlobalT.copyPosition(lGlobalTranslation);\r\n\t\tlTransform = lGlobalT.clone().multiply(lGlobalRS); // from global to local\r\n\r\n\t\tlTransform.premultiply(lParentGX.invert());\r\n\t\treturn lTransform;\r\n\r\n\t} // Returns the three.js intrinsic THREE.Euler order corresponding to FBX extrinsic THREE.Euler order\r\n\t// ref: http://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_class_fbx_euler_html\r\n\r\n\r\n\tfunction getEulerOrder(order) {\r\n\r\n\t\torder = order || 0;\r\n\t\tconst enums = ['ZYX', // -> XYZ extrinsic\r\n\t\t\t'YZX', // -> XZY extrinsic\r\n\t\t\t'XZY', // -> YZX extrinsic\r\n\t\t\t'ZXY', // -> YXZ extrinsic\r\n\t\t\t'YXZ', // -> ZXY extrinsic\r\n\t\t\t'XYZ' // -> ZYX extrinsic\r\n\t\t\t//'SphericXYZ', // not possible to support\r\n\t\t];\r\n\r\n\t\tif (order === 6) {\r\n\r\n\t\t\tconsole.warn('THREE.FBXLoader: unsupported THREE.Euler Order: Spherical XYZ. Animations and rotations may be incorrect.');\r\n\t\t\treturn enums[0];\r\n\r\n\t\t}\r\n\r\n\t\treturn enums[order];\r\n\r\n\t} // Parses comma separated list of numbers and returns them an array.\r\n\t// Used internally by the TextParser\r\n\r\n\r\n\tfunction parseNumberArray(value) {\r\n\r\n\t\tconst array = value.split(',').map(function (val) {\r\n\r\n\t\t\treturn parseFloat(val);\r\n\r\n\t\t});\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n\tfunction convertArrayBufferToString(buffer, from, to) {\r\n\r\n\t\tif (from === undefined) from = 0;\r\n\t\tif (to === undefined) to = buffer.byteLength;\r\n\t\treturn THREE.LoaderUtils.decodeText(new Uint8Array(buffer, from, to));\r\n\r\n\t}\r\n\r\n\tfunction append(a, b) {\r\n\r\n\t\tfor (let i = 0, j = a.length, l = b.length; i < l; i++, j++) {\r\n\r\n\t\t\ta[j] = b[i];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction slice(a, b, from, to) {\r\n\r\n\t\tfor (let i = from, j = 0; i < to; i++, j++) {\r\n\r\n\t\t\ta[j] = b[i];\r\n\r\n\t\t}\r\n\r\n\t\treturn a;\r\n\r\n\t} // inject array a2 into array a1 at index\r\n\r\n\r\n\tfunction inject(a1, index, a2) {\r\n\r\n\t\treturn a1.slice(0, index).concat(a2).concat(a1.slice(index));\r\n\r\n\t}\r\n\r\n\tTHREE.FBXLoader = FBXLoader;\r\n\r\n})();\r\n\r\nmodule.exports = exports = THREE.FBXLoader;\r\n", "const THREE = require('../../three.js');\r\n\r\n/**\r\n * @author Rich Tibbett / https://github.com/richtr\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Tony Parisi / http://www.tonyparisi.com/\r\n * @author Takahiro / https://github.com/takahirox\r\n * @author Don McCurdy / https://www.donmccurdy.com\r\n */\r\n\r\n(function () {\r\n\r\n\tclass GLTFLoader extends THREE.Loader {\r\n\r\n\t\tconstructor(manager) {\r\n\r\n\t\t\tsuper(manager);\r\n\t\t\tthis.dracoLoader = null;\r\n\t\t\tthis.ktx2Loader = null;\r\n\t\t\tthis.meshoptDecoder = null;\r\n\t\t\tthis.pluginCallbacks = [];\r\n\t\t\tthis.register(function (parser) {\r\n\r\n\t\t\t\treturn new GLTFMaterialsClearcoatExtension(parser);\r\n\r\n\t\t\t});\r\n\t\t\tthis.register(function (parser) {\r\n\r\n\t\t\t\treturn new GLTFTextureBasisUExtension(parser);\r\n\r\n\t\t\t});\r\n\t\t\tthis.register(function (parser) {\r\n\r\n\t\t\t\treturn new GLTFTextureWebPExtension(parser);\r\n\r\n\t\t\t});\r\n\t\t\tthis.register(function (parser) {\r\n\r\n\t\t\t\treturn new GLTFMaterialsTransmissionExtension(parser);\r\n\r\n\t\t\t});\r\n\t\t\tthis.register(function (parser) {\r\n\r\n\t\t\t\treturn new GLTFMaterialsVolumeExtension(parser);\r\n\r\n\t\t\t});\r\n\t\t\tthis.register(function (parser) {\r\n\r\n\t\t\t\treturn new GLTFMaterialsIorExtension(parser);\r\n\r\n\t\t\t});\r\n\t\t\tthis.register(function (parser) {\r\n\r\n\t\t\t\treturn new GLTFMaterialsSpecularExtension(parser);\r\n\r\n\t\t\t});\r\n\t\t\tthis.register(function (parser) {\r\n\r\n\t\t\t\treturn new GLTFLightsExtension(parser);\r\n\r\n\t\t\t});\r\n\t\t\tthis.register(function (parser) {\r\n\r\n\t\t\t\treturn new GLTFMeshoptCompression(parser);\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tload(url, onLoad, onProgress, onError) {\r\n\r\n\t\t\tconst scope = this;\r\n\t\t\tlet resourcePath;\r\n\r\n\t\t\tif (this.resourcePath !== '') {\r\n\r\n\t\t\t\tresourcePath = this.resourcePath;\r\n\r\n\t\t\t} else if (this.path !== '') {\r\n\r\n\t\t\t\tresourcePath = this.path;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresourcePath = THREE.LoaderUtils.extractUrlBase(url);\r\n\r\n\t\t\t} // Tells the LoadingManager to track an extra item, which resolves after\r\n\t\t\t// the model is fully loaded. This means the count of items loaded will\r\n\t\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\r\n\r\n\r\n\t\t\tthis.manager.itemStart(url);\r\n\r\n\t\t\tconst _onError = function (e) {\r\n\r\n\t\t\t\tif (onError) {\r\n\r\n\t\t\t\t\tonError(e);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error(e);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError(url);\r\n\t\t\t\tscope.manager.itemEnd(url);\r\n\r\n\t\t\t};\r\n\r\n\t\t\tconst loader = new THREE.FileLoader(this.manager);\r\n\t\t\tloader.setPath(this.path);\r\n\t\t\tloader.setResponseType('arraybuffer');\r\n\t\t\tloader.setRequestHeader(this.requestHeader);\r\n\t\t\tloader.setWithCredentials(this.withCredentials);\r\n\t\t\tloader.load(url, function (data) {\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tscope.parse(data, resourcePath, function (gltf) {\r\n\r\n\t\t\t\t\t\tonLoad(gltf);\r\n\t\t\t\t\t\tscope.manager.itemEnd(url);\r\n\r\n\t\t\t\t\t}, _onError);\r\n\r\n\t\t\t\t} catch (e) {\r\n\r\n\t\t\t\t\t_onError(e);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, _onError);\r\n\r\n\t\t}\r\n\r\n\t\tsetDRACOLoader(dracoLoader) {\r\n\r\n\t\t\tthis.dracoLoader = dracoLoader;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tsetDDSLoader() {\r\n\r\n\t\t\tthrow new Error('THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".');\r\n\r\n\t\t}\r\n\r\n\t\tsetKTX2Loader(ktx2Loader) {\r\n\r\n\t\t\tthis.ktx2Loader = ktx2Loader;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tsetMeshoptDecoder(meshoptDecoder) {\r\n\r\n\t\t\tthis.meshoptDecoder = meshoptDecoder;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tregister(callback) {\r\n\r\n\t\t\tif (this.pluginCallbacks.indexOf(callback) === - 1) {\r\n\r\n\t\t\t\tthis.pluginCallbacks.push(callback);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tunregister(callback) {\r\n\r\n\t\t\tif (this.pluginCallbacks.indexOf(callback) !== - 1) {\r\n\r\n\t\t\t\tthis.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tparse(data, path, onLoad, onError) {\r\n\r\n\t\t\tlet content;\r\n\t\t\tconst extensions = {};\r\n\t\t\tconst plugins = {};\r\n\r\n\t\t\tif (typeof data === 'string') {\r\n\r\n\t\t\t\tcontent = data;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconst magic = THREE.LoaderUtils.decodeText(new Uint8Array(data, 0, 4));\r\n\r\n\t\t\t\tif (magic === BINARY_EXTENSION_HEADER_MAGIC) {\r\n\r\n\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\textensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);\r\n\r\n\t\t\t\t\t} catch (error) {\r\n\r\n\t\t\t\t\t\tif (onError) onError(error);\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontent = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tcontent = THREE.LoaderUtils.decodeText(new Uint8Array(data));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst json = JSON.parse(content);\r\n\r\n\t\t\tif (json.asset === undefined || json.asset.version[0] < 2) {\r\n\r\n\t\t\t\tif (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'));\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst parser = new GLTFParser(json, {\r\n\t\t\t\tpath: path || this.resourcePath || '',\r\n\t\t\t\tcrossOrigin: this.crossOrigin,\r\n\t\t\t\trequestHeader: this.requestHeader,\r\n\t\t\t\tmanager: this.manager,\r\n\t\t\t\tktx2Loader: this.ktx2Loader,\r\n\t\t\t\tmeshoptDecoder: this.meshoptDecoder\r\n\t\t\t});\r\n\t\t\tparser.fileLoader.setRequestHeader(this.requestHeader);\r\n\r\n\t\t\tfor (let i = 0; i < this.pluginCallbacks.length; i++) {\r\n\r\n\t\t\t\tconst plugin = this.pluginCallbacks[i](parser);\r\n\t\t\t\tplugins[plugin.name] = plugin; // Workaround to avoid determining as unknown extension\r\n\t\t\t\t// in addUnknownExtensionsToUserData().\r\n\t\t\t\t// Remove this workaround if we move all the existing\r\n\t\t\t\t// extension handlers to plugin system\r\n\r\n\t\t\t\textensions[plugin.name] = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (json.extensionsUsed) {\r\n\r\n\t\t\t\tfor (let i = 0; i < json.extensionsUsed.length; ++i) {\r\n\r\n\t\t\t\t\tconst extensionName = json.extensionsUsed[i];\r\n\t\t\t\t\tconst extensionsRequired = json.extensionsRequired || [];\r\n\r\n\t\t\t\t\tswitch (extensionName) {\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\r\n\t\t\t\t\t\t\textensions[extensionName] = new GLTFMaterialsUnlitExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\r\n\t\t\t\t\t\t\textensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\r\n\t\t\t\t\t\t\textensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\r\n\t\t\t\t\t\t\textensions[extensionName] = new GLTFTextureTransformExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\r\n\t\t\t\t\t\t\textensions[extensionName] = new GLTFMeshQuantizationExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tif (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {\r\n\r\n\t\t\t\t\t\t\t\tconsole.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".');\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser.setExtensions(extensions);\r\n\t\t\tparser.setPlugins(plugins);\r\n\t\t\tparser.parse(onLoad, onError);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/* GLTFREGISTRY */\r\n\r\n\r\n\tfunction GLTFRegistry() {\r\n\r\n\t\tlet objects = {};\r\n\t\treturn {\r\n\t\t\tget: function (key) {\r\n\r\n\t\t\t\treturn objects[key];\r\n\r\n\t\t\t},\r\n\t\t\tadd: function (key, object) {\r\n\r\n\t\t\t\tobjects[key] = object;\r\n\r\n\t\t\t},\r\n\t\t\tremove: function (key) {\r\n\r\n\t\t\t\tdelete objects[key];\r\n\r\n\t\t\t},\r\n\t\t\tremoveAll: function () {\r\n\r\n\t\t\t\tobjects = {};\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}\r\n\t/*********************************/\r\n\r\n\t/********** EXTENSIONS ***********/\r\n\r\n\t/*********************************/\r\n\r\n\r\n\tconst EXTENSIONS = {\r\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\r\n\t\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\r\n\t\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\r\n\t\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\r\n\t\tKHR_MATERIALS_IOR: 'KHR_materials_ior',\r\n\t\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\r\n\t\tKHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\r\n\t\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\r\n\t\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\r\n\t\tKHR_MATERIALS_VOLUME: 'KHR_materials_volume',\r\n\t\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\r\n\t\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\r\n\t\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\r\n\t\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\r\n\t\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\r\n\t};\r\n\t/**\r\n * Punctual Lights Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\r\n */\r\n\r\n\tclass GLTFLightsExtension {\r\n\r\n\t\tconstructor(parser) {\r\n\r\n\t\t\tthis.parser = parser;\r\n\t\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL; // THREE.Object3D instance caches\r\n\r\n\t\t\tthis.cache = {\r\n\t\t\t\trefs: {},\r\n\t\t\t\tuses: {}\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\t_markDefs() {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst nodeDefs = this.parser.json.nodes || [];\r\n\r\n\t\t\tfor (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\r\n\r\n\t\t\t\tconst nodeDef = nodeDefs[nodeIndex];\r\n\r\n\t\t\t\tif (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {\r\n\r\n\t\t\t\t\tparser._addNodeRef(this.cache, nodeDef.extensions[this.name].light);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t_loadLight(lightIndex) {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst cacheKey = 'light:' + lightIndex;\r\n\t\t\tlet dependency = parser.cache.get(cacheKey);\r\n\t\t\tif (dependency) return dependency;\r\n\t\t\tconst json = parser.json;\r\n\t\t\tconst extensions = json.extensions && json.extensions[this.name] || {};\r\n\t\t\tconst lightDefs = extensions.lights || [];\r\n\t\t\tconst lightDef = lightDefs[lightIndex];\r\n\t\t\tlet lightNode;\r\n\t\t\tconst color = new THREE.Color(0xffffff);\r\n\t\t\tif (lightDef.color !== undefined) color.fromArray(lightDef.color);\r\n\t\t\tconst range = lightDef.range !== undefined ? lightDef.range : 0;\r\n\r\n\t\t\tswitch (lightDef.type) {\r\n\r\n\t\t\t\tcase 'directional':\r\n\t\t\t\t\tlightNode = new THREE.DirectionalLight(color);\r\n\t\t\t\t\tlightNode.target.position.set(0, 0, - 1);\r\n\t\t\t\t\tlightNode.add(lightNode.target);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'point':\r\n\t\t\t\t\tlightNode = new THREE.PointLight(color);\r\n\t\t\t\t\tlightNode.distance = range;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'spot':\r\n\t\t\t\t\tlightNode = new THREE.SpotLight(color);\r\n\t\t\t\t\tlightNode.distance = range; // Handle spotlight properties.\r\n\r\n\t\t\t\t\tlightDef.spot = lightDef.spot || {};\r\n\t\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\r\n\t\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\r\n\t\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\r\n\t\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\r\n\t\t\t\t\tlightNode.target.position.set(0, 0, - 1);\r\n\t\t\t\t\tlightNode.add(lightNode.target);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error('THREE.GLTFLoader: Unexpected light type: ' + lightDef.type);\r\n\r\n\t\t\t} // Some lights (e.g. spot) default to a position other than the origin. Reset the position\r\n\t\t\t// here, because node-level parsing will only override position if explicitly specified.\r\n\r\n\r\n\t\t\tlightNode.position.set(0, 0, 0);\r\n\t\t\tlightNode.decay = 2;\r\n\t\t\tif (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;\r\n\t\t\tlightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex);\r\n\t\t\tdependency = Promise.resolve(lightNode);\r\n\t\t\tparser.cache.add(cacheKey, dependency);\r\n\t\t\treturn dependency;\r\n\r\n\t\t}\r\n\r\n\t\tcreateNodeAttachment(nodeIndex) {\r\n\r\n\t\t\tconst self = this;\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst json = parser.json;\r\n\t\t\tconst nodeDef = json.nodes[nodeIndex];\r\n\t\t\tconst lightDef = nodeDef.extensions && nodeDef.extensions[this.name] || {};\r\n\t\t\tconst lightIndex = lightDef.light;\r\n\t\t\tif (lightIndex === undefined) return null;\r\n\t\t\treturn this._loadLight(lightIndex).then(function (light) {\r\n\r\n\t\t\t\treturn parser._getNodeRef(self.cache, lightIndex, light);\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * Unlit Materials Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\r\n */\r\n\r\n\r\n\tclass GLTFMaterialsUnlitExtension {\r\n\r\n\t\tconstructor() {\r\n\r\n\t\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\r\n\r\n\t\t}\r\n\r\n\t\tgetMaterialType() {\r\n\r\n\t\t\treturn THREE.MeshBasicMaterial;\r\n\r\n\t\t}\r\n\r\n\t\textendParams(materialParams, materialDef, parser) {\r\n\r\n\t\t\tconst pending = [];\r\n\t\t\tmaterialParams.color = new THREE.Color(1.0, 1.0, 1.0);\r\n\t\t\tmaterialParams.opacity = 1.0;\r\n\t\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness;\r\n\r\n\t\t\tif (metallicRoughness) {\r\n\r\n\t\t\t\tif (Array.isArray(metallicRoughness.baseColorFactor)) {\r\n\r\n\t\t\t\t\tconst array = metallicRoughness.baseColorFactor;\r\n\t\t\t\t\tmaterialParams.color.fromArray(array);\r\n\t\t\t\t\tmaterialParams.opacity = array[3];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (metallicRoughness.baseColorTexture !== undefined) {\r\n\r\n\t\t\t\t\tpending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all(pending);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * Clearcoat Materials Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\r\n */\r\n\r\n\r\n\tclass GLTFMaterialsClearcoatExtension {\r\n\r\n\t\tconstructor(parser) {\r\n\r\n\t\t\tthis.parser = parser;\r\n\t\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\r\n\r\n\t\t}\r\n\r\n\t\tgetMaterialType(materialIndex) {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst materialDef = parser.json.materials[materialIndex];\r\n\t\t\tif (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\r\n\t\t\treturn THREE.MeshPhysicalMaterial;\r\n\r\n\t\t}\r\n\r\n\t\textendMaterialParams(materialIndex, materialParams) {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst materialDef = parser.json.materials[materialIndex];\r\n\r\n\t\t\tif (!materialDef.extensions || !materialDef.extensions[this.name]) {\r\n\r\n\t\t\t\treturn Promise.resolve();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst pending = [];\r\n\t\t\tconst extension = materialDef.extensions[this.name];\r\n\r\n\t\t\tif (extension.clearcoatFactor !== undefined) {\r\n\r\n\t\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (extension.clearcoatTexture !== undefined) {\r\n\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture));\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (extension.clearcoatRoughnessFactor !== undefined) {\r\n\r\n\t\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (extension.clearcoatRoughnessTexture !== undefined) {\r\n\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture));\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (extension.clearcoatNormalTexture !== undefined) {\r\n\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture));\r\n\r\n\t\t\t\tif (extension.clearcoatNormalTexture.scale !== undefined) {\r\n\r\n\t\t\t\t\tconst scale = extension.clearcoatNormalTexture.scale; // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\r\n\r\n\t\t\t\t\tmaterialParams.clearcoatNormalScale = new THREE.Vector2(scale, - scale);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all(pending);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * Transmission Materials Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\r\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\r\n */\r\n\r\n\r\n\tclass GLTFMaterialsTransmissionExtension {\r\n\r\n\t\tconstructor(parser) {\r\n\r\n\t\t\tthis.parser = parser;\r\n\t\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\r\n\r\n\t\t}\r\n\r\n\t\tgetMaterialType(materialIndex) {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst materialDef = parser.json.materials[materialIndex];\r\n\t\t\tif (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\r\n\t\t\treturn THREE.MeshPhysicalMaterial;\r\n\r\n\t\t}\r\n\r\n\t\textendMaterialParams(materialIndex, materialParams) {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst materialDef = parser.json.materials[materialIndex];\r\n\r\n\t\t\tif (!materialDef.extensions || !materialDef.extensions[this.name]) {\r\n\r\n\t\t\t\treturn Promise.resolve();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst pending = [];\r\n\t\t\tconst extension = materialDef.extensions[this.name];\r\n\r\n\t\t\tif (extension.transmissionFactor !== undefined) {\r\n\r\n\t\t\t\tmaterialParams.transmission = extension.transmissionFactor;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (extension.transmissionTexture !== undefined) {\r\n\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture));\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all(pending);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * Materials Volume Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\r\n */\r\n\r\n\r\n\tclass GLTFMaterialsVolumeExtension {\r\n\r\n\t\tconstructor(parser) {\r\n\r\n\t\t\tthis.parser = parser;\r\n\t\t\tthis.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\r\n\r\n\t\t}\r\n\r\n\t\tgetMaterialType(materialIndex) {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst materialDef = parser.json.materials[materialIndex];\r\n\t\t\tif (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\r\n\t\t\treturn THREE.MeshPhysicalMaterial;\r\n\r\n\t\t}\r\n\r\n\t\textendMaterialParams(materialIndex, materialParams) {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst materialDef = parser.json.materials[materialIndex];\r\n\r\n\t\t\tif (!materialDef.extensions || !materialDef.extensions[this.name]) {\r\n\r\n\t\t\t\treturn Promise.resolve();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst pending = [];\r\n\t\t\tconst extension = materialDef.extensions[this.name];\r\n\t\t\tmaterialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\r\n\r\n\t\t\tif (extension.thicknessTexture !== undefined) {\r\n\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'thicknessMap', extension.thicknessTexture));\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialParams.attenuationDistance = extension.attenuationDistance || 0;\r\n\t\t\tconst colorArray = extension.attenuationColor || [1, 1, 1];\r\n\t\t\tmaterialParams.attenuationTint = new THREE.Color(colorArray[0], colorArray[1], colorArray[2]);\r\n\t\t\treturn Promise.all(pending);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * Materials ior Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\r\n */\r\n\r\n\r\n\tclass GLTFMaterialsIorExtension {\r\n\r\n\t\tconstructor(parser) {\r\n\r\n\t\t\tthis.parser = parser;\r\n\t\t\tthis.name = EXTENSIONS.KHR_MATERIALS_IOR;\r\n\r\n\t\t}\r\n\r\n\t\tgetMaterialType(materialIndex) {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst materialDef = parser.json.materials[materialIndex];\r\n\t\t\tif (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\r\n\t\t\treturn THREE.MeshPhysicalMaterial;\r\n\r\n\t\t}\r\n\r\n\t\textendMaterialParams(materialIndex, materialParams) {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst materialDef = parser.json.materials[materialIndex];\r\n\r\n\t\t\tif (!materialDef.extensions || !materialDef.extensions[this.name]) {\r\n\r\n\t\t\t\treturn Promise.resolve();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst extension = materialDef.extensions[this.name];\r\n\t\t\tmaterialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\r\n\t\t\treturn Promise.resolve();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * Materials specular Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\r\n */\r\n\r\n\r\n\tclass GLTFMaterialsSpecularExtension {\r\n\r\n\t\tconstructor(parser) {\r\n\r\n\t\t\tthis.parser = parser;\r\n\t\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\r\n\r\n\t\t}\r\n\r\n\t\tgetMaterialType(materialIndex) {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst materialDef = parser.json.materials[materialIndex];\r\n\t\t\tif (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\r\n\t\t\treturn THREE.MeshPhysicalMaterial;\r\n\r\n\t\t}\r\n\r\n\t\textendMaterialParams(materialIndex, materialParams) {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst materialDef = parser.json.materials[materialIndex];\r\n\r\n\t\t\tif (!materialDef.extensions || !materialDef.extensions[this.name]) {\r\n\r\n\t\t\t\treturn Promise.resolve();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst pending = [];\r\n\t\t\tconst extension = materialDef.extensions[this.name];\r\n\t\t\tmaterialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\r\n\r\n\t\t\tif (extension.specularTexture !== undefined) {\r\n\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'specularIntensityMap', extension.specularTexture));\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst colorArray = extension.specularColorFactor || [1, 1, 1];\r\n\t\t\tmaterialParams.specularTint = new THREE.Color(colorArray[0], colorArray[1], colorArray[2]);\r\n\r\n\t\t\tif (extension.specularColorTexture !== undefined) {\r\n\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'specularTintMap', extension.specularColorTexture).then(function (texture) {\r\n\r\n\t\t\t\t\ttexture.encoding = THREE.sRGBEncoding;\r\n\r\n\t\t\t\t}));\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all(pending);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * BasisU THREE.Texture Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\r\n */\r\n\r\n\r\n\tclass GLTFTextureBasisUExtension {\r\n\r\n\t\tconstructor(parser) {\r\n\r\n\t\t\tthis.parser = parser;\r\n\t\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\r\n\r\n\t\t}\r\n\r\n\t\tloadTexture(textureIndex) {\r\n\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst json = parser.json;\r\n\t\t\tconst textureDef = json.textures[textureIndex];\r\n\r\n\t\t\tif (!textureDef.extensions || !textureDef.extensions[this.name]) {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst extension = textureDef.extensions[this.name];\r\n\t\t\tconst source = json.images[extension.source];\r\n\t\t\tconst loader = parser.options.ktx2Loader;\r\n\r\n\t\t\tif (!loader) {\r\n\r\n\t\t\t\tif (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\r\n\r\n\t\t\t\t\tthrow new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures');\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn parser.loadTextureImage(textureIndex, source, loader);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * WebP THREE.Texture Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\r\n */\r\n\r\n\r\n\tclass GLTFTextureWebPExtension {\r\n\r\n\t\tconstructor(parser) {\r\n\r\n\t\t\tthis.parser = parser;\r\n\t\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\r\n\t\t\tthis.isSupported = null;\r\n\r\n\t\t}\r\n\r\n\t\tloadTexture(textureIndex) {\r\n\r\n\t\t\tconst name = this.name;\r\n\t\t\tconst parser = this.parser;\r\n\t\t\tconst json = parser.json;\r\n\t\t\tconst textureDef = json.textures[textureIndex];\r\n\r\n\t\t\tif (!textureDef.extensions || !textureDef.extensions[name]) {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst extension = textureDef.extensions[name];\r\n\t\t\tconst source = json.images[extension.source];\r\n\t\t\tlet loader = parser.textureLoader;\r\n\r\n\t\t\tif (source.uri) {\r\n\r\n\t\t\t\tconst handler = parser.options.manager.getHandler(source.uri);\r\n\t\t\t\tif (handler !== null) loader = handler;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.detectSupport().then(function (isSupported) {\r\n\r\n\t\t\t\tif (isSupported) return parser.loadTextureImage(textureIndex, source, loader);\r\n\r\n\t\t\t\tif (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\r\n\r\n\t\t\t\t\tthrow new Error('THREE.GLTFLoader: WebP required by asset but unsupported.');\r\n\r\n\t\t\t\t} // Fall back to PNG or JPEG.\r\n\r\n\r\n\t\t\t\treturn parser.loadTexture(textureIndex);\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tdetectSupport() {\r\n\r\n\t\t\tif (!this.isSupported) {\r\n\r\n\t\t\t\tthis.isSupported = new Promise(function (resolve) {\r\n\r\n\t\t\t\t\tconst image = new Image(); // Lossy test image. Support for lossy images doesn't guarantee support for all\r\n\t\t\t\t\t// WebP images, unfortunately.\r\n\r\n\t\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\r\n\r\n\t\t\t\t\timage.onload = image.onerror = function () {\r\n\r\n\t\t\t\t\t\tresolve(image.height === 1);\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.isSupported;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * meshopt BufferView Compression Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\r\n */\r\n\r\n\r\n\tclass GLTFMeshoptCompression {\r\n\r\n\t\tconstructor(parser) {\r\n\r\n\t\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\r\n\t\t\tthis.parser = parser;\r\n\r\n\t\t}\r\n\r\n\t\tloadBufferView(index) {\r\n\r\n\t\t\tconst json = this.parser.json;\r\n\t\t\tconst bufferView = json.bufferViews[index];\r\n\r\n\t\t\tif (bufferView.extensions && bufferView.extensions[this.name]) {\r\n\r\n\t\t\t\tconst extensionDef = bufferView.extensions[this.name];\r\n\t\t\t\tconst buffer = this.parser.getDependency('buffer', extensionDef.buffer);\r\n\t\t\t\tconst decoder = this.parser.options.meshoptDecoder;\r\n\r\n\t\t\t\tif (!decoder || !decoder.supported) {\r\n\r\n\t\t\t\t\tif (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\r\n\r\n\t\t\t\t\t\tthrow new Error('THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files');\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\r\n\t\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Promise.all([buffer, decoder.ready]).then(function (res) {\r\n\r\n\t\t\t\t\tconst byteOffset = extensionDef.byteOffset || 0;\r\n\t\t\t\t\tconst byteLength = extensionDef.byteLength || 0;\r\n\t\t\t\t\tconst count = extensionDef.count;\r\n\t\t\t\t\tconst stride = extensionDef.byteStride;\r\n\t\t\t\t\tconst result = new ArrayBuffer(count * stride);\r\n\t\t\t\t\tconst source = new Uint8Array(res[0], byteOffset, byteLength);\r\n\t\t\t\t\tdecoder.decodeGltfBuffer(new Uint8Array(result), count, stride, source, extensionDef.mode, extensionDef.filter);\r\n\t\t\t\t\treturn result;\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/* BINARY EXTENSION */\r\n\r\n\r\n\tconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\r\n\tconst BINARY_EXTENSION_HEADER_LENGTH = 12;\r\n\tconst BINARY_EXTENSION_CHUNK_TYPES = {\r\n\t\tJSON: 0x4E4F534A,\r\n\t\tBIN: 0x004E4942\r\n\t};\r\n\r\n\tclass GLTFBinaryExtension {\r\n\r\n\t\tconstructor(data) {\r\n\r\n\t\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\r\n\t\t\tthis.content = null;\r\n\t\t\tthis.body = null;\r\n\t\t\tconst headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);\r\n\t\t\tthis.header = {\r\n\t\t\t\tmagic: THREE.LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),\r\n\t\t\t\tversion: headerView.getUint32(4, true),\r\n\t\t\t\tlength: headerView.getUint32(8, true)\r\n\t\t\t};\r\n\r\n\t\t\tif (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\r\n\r\n\t\t\t\tthrow new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');\r\n\r\n\t\t\t} else if (this.header.version < 2.0) {\r\n\r\n\t\t\t\tthrow new Error('THREE.GLTFLoader: Legacy binary file detected.');\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\r\n\t\t\tconst chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);\r\n\t\t\tlet chunkIndex = 0;\r\n\r\n\t\t\twhile (chunkIndex < chunkContentsLength) {\r\n\r\n\t\t\t\tconst chunkLength = chunkView.getUint32(chunkIndex, true);\r\n\t\t\t\tchunkIndex += 4;\r\n\t\t\t\tconst chunkType = chunkView.getUint32(chunkIndex, true);\r\n\t\t\t\tchunkIndex += 4;\r\n\r\n\t\t\t\tif (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\r\n\r\n\t\t\t\t\tconst contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);\r\n\t\t\t\t\tthis.content = THREE.LoaderUtils.decodeText(contentArray);\r\n\r\n\t\t\t\t} else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\r\n\r\n\t\t\t\t\tconst byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\r\n\t\t\t\t\tthis.body = data.slice(byteOffset, byteOffset + chunkLength);\r\n\r\n\t\t\t\t} // Clients must ignore chunks with unknown types.\r\n\r\n\r\n\t\t\t\tchunkIndex += chunkLength;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (this.content === null) {\r\n\r\n\t\t\t\tthrow new Error('THREE.GLTFLoader: JSON content not found.');\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * DRACO THREE.Mesh Compression Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\r\n */\r\n\r\n\r\n\tclass GLTFDracoMeshCompressionExtension {\r\n\r\n\t\tconstructor(json, dracoLoader) {\r\n\r\n\t\t\tif (!dracoLoader) {\r\n\r\n\t\t\t\tthrow new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\r\n\t\t\tthis.json = json;\r\n\t\t\tthis.dracoLoader = dracoLoader;\r\n\t\t\tthis.dracoLoader.preload();\r\n\r\n\t\t}\r\n\r\n\t\tdecodePrimitive(primitive, parser) {\r\n\r\n\t\t\tconst json = this.json;\r\n\t\t\tconst dracoLoader = this.dracoLoader;\r\n\t\t\tconst bufferViewIndex = primitive.extensions[this.name].bufferView;\r\n\t\t\tconst gltfAttributeMap = primitive.extensions[this.name].attributes;\r\n\t\t\tconst threeAttributeMap = {};\r\n\t\t\tconst attributeNormalizedMap = {};\r\n\t\t\tconst attributeTypeMap = {};\r\n\r\n\t\t\tfor (const attributeName in gltfAttributeMap) {\r\n\r\n\t\t\t\tconst threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\r\n\t\t\t\tthreeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor (const attributeName in primitive.attributes) {\r\n\r\n\t\t\t\tconst threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\r\n\r\n\t\t\t\tif (gltfAttributeMap[attributeName] !== undefined) {\r\n\r\n\t\t\t\t\tconst accessorDef = json.accessors[primitive.attributes[attributeName]];\r\n\t\t\t\t\tconst componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\r\n\t\t\t\t\tattributeTypeMap[threeAttributeName] = componentType;\r\n\t\t\t\t\tattributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {\r\n\r\n\t\t\t\treturn new Promise(function (resolve) {\r\n\r\n\t\t\t\t\tdracoLoader.decodeDracoFile(bufferView, function (geometry) {\r\n\r\n\t\t\t\t\t\tfor (const attributeName in geometry.attributes) {\r\n\r\n\t\t\t\t\t\t\tconst attribute = geometry.attributes[attributeName];\r\n\t\t\t\t\t\t\tconst normalized = attributeNormalizedMap[attributeName];\r\n\t\t\t\t\t\t\tif (normalized !== undefined) attribute.normalized = normalized;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tresolve(geometry);\r\n\r\n\t\t\t\t\t}, threeAttributeMap, attributeTypeMap);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * THREE.Texture Transform Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\r\n */\r\n\r\n\r\n\tclass GLTFTextureTransformExtension {\r\n\r\n\t\tconstructor() {\r\n\r\n\t\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\r\n\r\n\t\t}\r\n\r\n\t\textendTexture(texture, transform) {\r\n\r\n\t\t\tif (transform.texCoord !== undefined) {\r\n\r\n\t\t\t\tconsole.warn('THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.');\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined) {\r\n\r\n\t\t\t\t// See https://github.com/mrdoob/three.js/issues/21819.\r\n\t\t\t\treturn texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture = texture.clone();\r\n\r\n\t\t\tif (transform.offset !== undefined) {\r\n\r\n\t\t\t\ttexture.offset.fromArray(transform.offset);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (transform.rotation !== undefined) {\r\n\r\n\t\t\t\ttexture.rotation = transform.rotation;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (transform.scale !== undefined) {\r\n\r\n\t\t\t\ttexture.repeat.fromArray(transform.scale);\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture.needsUpdate = true;\r\n\t\t\treturn texture;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * Specular-Glossiness Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\r\n */\r\n\r\n\t/**\r\n * A sub class of StandardMaterial with some of the functionality\r\n * changed via the `onBeforeCompile` callback\r\n * @pailhead\r\n */\r\n\r\n\r\n\tclass GLTFMeshStandardSGMaterial extends THREE.MeshStandardMaterial {\r\n\r\n\t\tconstructor(params) {\r\n\r\n\t\t\tsuper();\r\n\t\t\tthis.isGLTFSpecularGlossinessMaterial = true; //various chunks that need replacing\r\n\r\n\t\t\tconst specularMapParsFragmentChunk = ['#ifdef USE_SPECULARMAP', '\tuniform sampler2D specularMap;', '#endif'].join('\\n');\r\n\t\t\tconst glossinessMapParsFragmentChunk = ['#ifdef USE_GLOSSINESSMAP', '\tuniform sampler2D glossinessMap;', '#endif'].join('\\n');\r\n\t\t\tconst specularMapFragmentChunk = ['vec3 specularFactor = specular;', '#ifdef USE_SPECULARMAP', '\tvec4 texelSpecular = texture2D( specularMap, vUv );', '\ttexelSpecular = sRGBToLinear( texelSpecular );', '\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tspecularFactor *= texelSpecular.rgb;', '#endif'].join('\\n');\r\n\t\t\tconst glossinessMapFragmentChunk = ['float glossinessFactor = glossiness;', '#ifdef USE_GLOSSINESSMAP', '\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );', '\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tglossinessFactor *= texelGlossiness.a;', '#endif'].join('\\n');\r\n\t\t\tconst lightPhysicalFragmentChunk = ['PhysicalMaterial material;', 'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );', 'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );', 'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );', 'material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.', 'material.roughness += geometryRoughness;', 'material.roughness = min( material.roughness, 1.0 );', 'material.specularColor = specularFactor;'].join('\\n');\r\n\t\t\tconst uniforms = {\r\n\t\t\t\tspecular: {\r\n\t\t\t\t\tvalue: new THREE.Color().setHex(0xffffff)\r\n\t\t\t\t},\r\n\t\t\t\tglossiness: {\r\n\t\t\t\t\tvalue: 1\r\n\t\t\t\t},\r\n\t\t\t\tspecularMap: {\r\n\t\t\t\t\tvalue: null\r\n\t\t\t\t},\r\n\t\t\t\tglossinessMap: {\r\n\t\t\t\t\tvalue: null\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tthis._extraUniforms = uniforms;\r\n\r\n\t\t\tthis.onBeforeCompile = function (shader) {\r\n\r\n\t\t\t\tfor (const uniformName in uniforms) {\r\n\r\n\t\t\t\t\tshader.uniforms[uniformName] = uniforms[uniformName];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tshader.fragmentShader = shader.fragmentShader.replace('uniform float roughness;', 'uniform vec3 specular;').replace('uniform float metalness;', 'uniform float glossiness;').replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk).replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk).replace('#include <roughnessmap_fragment>', specularMapFragmentChunk).replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk).replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);\r\n\r\n\t\t\t};\r\n\r\n\t\t\tObject.defineProperties(this, {\r\n\t\t\t\tspecular: {\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn uniforms.specular.value;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (v) {\r\n\r\n\t\t\t\t\t\tuniforms.specular.value = v;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tspecularMap: {\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn uniforms.specularMap.value;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (v) {\r\n\r\n\t\t\t\t\t\tuniforms.specularMap.value = v;\r\n\r\n\t\t\t\t\t\tif (v) {\r\n\r\n\t\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tglossiness: {\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn uniforms.glossiness.value;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (v) {\r\n\r\n\t\t\t\t\t\tuniforms.glossiness.value = v;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tglossinessMap: {\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn uniforms.glossinessMap.value;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (v) {\r\n\r\n\t\t\t\t\t\tuniforms.glossinessMap.value = v;\r\n\r\n\t\t\t\t\t\tif (v) {\r\n\r\n\t\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\r\n\t\t\t\t\t\t\tthis.defines.USE_UV = '';\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\r\n\t\t\t\t\t\t\tdelete this.defines.USE_UV;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdelete this.metalness;\r\n\t\t\tdelete this.roughness;\r\n\t\t\tdelete this.metalnessMap;\r\n\t\t\tdelete this.roughnessMap;\r\n\t\t\tthis.setValues(params);\r\n\r\n\t\t}\r\n\r\n\t\tcopy(source) {\r\n\r\n\t\t\tsuper.copy(source);\r\n\t\t\tthis.specularMap = source.specularMap;\r\n\t\t\tthis.specular.copy(source.specular);\r\n\t\t\tthis.glossinessMap = source.glossinessMap;\r\n\t\t\tthis.glossiness = source.glossiness;\r\n\t\t\tdelete this.metalness;\r\n\t\t\tdelete this.roughness;\r\n\t\t\tdelete this.metalnessMap;\r\n\t\t\tdelete this.roughnessMap;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tclass GLTFMaterialsPbrSpecularGlossinessExtension {\r\n\r\n\t\tconstructor() {\r\n\r\n\t\t\tthis.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\r\n\t\t\tthis.specularGlossinessParams = ['color', 'map', 'lightMap', 'lightMapIntensity', 'aoMap', 'aoMapIntensity', 'emissive', 'emissiveIntensity', 'emissiveMap', 'bumpMap', 'bumpScale', 'normalMap', 'normalMapType', 'displacementMap', 'displacementScale', 'displacementBias', 'specularMap', 'specular', 'glossinessMap', 'glossiness', 'alphaMap', 'envMap', 'envMapIntensity', 'refractionRatio'];\r\n\r\n\t\t}\r\n\r\n\t\tgetMaterialType() {\r\n\r\n\t\t\treturn GLTFMeshStandardSGMaterial;\r\n\r\n\t\t}\r\n\r\n\t\textendParams(materialParams, materialDef, parser) {\r\n\r\n\t\t\tconst pbrSpecularGlossiness = materialDef.extensions[this.name];\r\n\t\t\tmaterialParams.color = new THREE.Color(1.0, 1.0, 1.0);\r\n\t\t\tmaterialParams.opacity = 1.0;\r\n\t\t\tconst pending = [];\r\n\r\n\t\t\tif (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {\r\n\r\n\t\t\t\tconst array = pbrSpecularGlossiness.diffuseFactor;\r\n\t\t\t\tmaterialParams.color.fromArray(array);\r\n\t\t\t\tmaterialParams.opacity = array[3];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (pbrSpecularGlossiness.diffuseTexture !== undefined) {\r\n\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture));\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialParams.emissive = new THREE.Color(0.0, 0.0, 0.0);\r\n\t\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\r\n\t\t\tmaterialParams.specular = new THREE.Color(1.0, 1.0, 1.0);\r\n\r\n\t\t\tif (Array.isArray(pbrSpecularGlossiness.specularFactor)) {\r\n\r\n\t\t\t\tmaterialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {\r\n\r\n\t\t\t\tconst specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef));\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all(pending);\r\n\r\n\t\t}\r\n\r\n\t\tcreateMaterial(materialParams) {\r\n\r\n\t\t\tconst material = new GLTFMeshStandardSGMaterial(materialParams);\r\n\t\t\tmaterial.fog = true;\r\n\t\t\tmaterial.color = materialParams.color;\r\n\t\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\r\n\t\t\tmaterial.lightMap = null;\r\n\t\t\tmaterial.lightMapIntensity = 1.0;\r\n\t\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\r\n\t\t\tmaterial.aoMapIntensity = 1.0;\r\n\t\t\tmaterial.emissive = materialParams.emissive;\r\n\t\t\tmaterial.emissiveIntensity = 1.0;\r\n\t\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\r\n\t\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\r\n\t\t\tmaterial.bumpScale = 1;\r\n\t\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\r\n\t\t\tmaterial.normalMapType = THREE.TangentSpaceNormalMap;\r\n\t\t\tif (materialParams.normalScale) material.normalScale = materialParams.normalScale;\r\n\t\t\tmaterial.displacementMap = null;\r\n\t\t\tmaterial.displacementScale = 1;\r\n\t\t\tmaterial.displacementBias = 0;\r\n\t\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\r\n\t\t\tmaterial.specular = materialParams.specular;\r\n\t\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\r\n\t\t\tmaterial.glossiness = materialParams.glossiness;\r\n\t\t\tmaterial.alphaMap = null;\r\n\t\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\r\n\t\t\tmaterial.envMapIntensity = 1.0;\r\n\t\t\tmaterial.refractionRatio = 0.98;\r\n\t\t\treturn material;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * THREE.Mesh Quantization Extension\r\n *\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\r\n */\r\n\r\n\r\n\tclass GLTFMeshQuantizationExtension {\r\n\r\n\t\tconstructor() {\r\n\r\n\t\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/*********************************/\r\n\r\n\t/********** INTERPOLATION ********/\r\n\r\n\t/*********************************/\r\n\t// Spline Interpolation\r\n\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\r\n\r\n\r\n\tclass GLTFCubicSplineInterpolant extends THREE.Interpolant {\r\n\r\n\t\tconstructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\r\n\r\n\t\t\tsuper(parameterPositions, sampleValues, sampleSize, resultBuffer);\r\n\r\n\t\t}\r\n\r\n\t\tcopySampleValue_(index) {\r\n\r\n\t\t\t// Copies a sample value to the result buffer. See description of glTF\r\n\t\t\t// CUBICSPLINE values layout in interpolate_() function below.\r\n\t\t\tconst result = this.resultBuffer,\r\n\t\t\t\tvalues = this.sampleValues,\r\n\t\t\t\tvalueSize = this.valueSize,\r\n\t\t\t\toffset = index * valueSize * 3 + valueSize;\r\n\r\n\t\t\tfor (let i = 0; i !== valueSize; i++) {\r\n\r\n\t\t\t\tresult[i] = values[offset + i];\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\r\n\tGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function (i1, t0, t, t1) {\r\n\r\n\t\tconst result = this.resultBuffer;\r\n\t\tconst values = this.sampleValues;\r\n\t\tconst stride = this.valueSize;\r\n\t\tconst stride2 = stride * 2;\r\n\t\tconst stride3 = stride * 3;\r\n\t\tconst td = t1 - t0;\r\n\t\tconst p = (t - t0) / td;\r\n\t\tconst pp = p * p;\r\n\t\tconst ppp = pp * p;\r\n\t\tconst offset1 = i1 * stride3;\r\n\t\tconst offset0 = offset1 - stride3;\r\n\t\tconst s2 = - 2 * ppp + 3 * pp;\r\n\t\tconst s3 = ppp - pp;\r\n\t\tconst s0 = 1 - s2;\r\n\t\tconst s1 = s3 - pp + p; // Layout of keyframe output values for CUBICSPLINE animations:\r\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\r\n\r\n\t\tfor (let i = 0; i !== stride; i++) {\r\n\r\n\t\t\tconst p0 = values[offset0 + i + stride]; // splineVertex_k\r\n\r\n\t\t\tconst m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)\r\n\r\n\t\t\tconst p1 = values[offset1 + i + stride]; // splineVertex_k+1\r\n\r\n\t\t\tconst m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)\r\n\r\n\t\t\tresult[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t};\r\n\r\n\tconst _q = new THREE.Quaternion();\r\n\r\n\tclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\r\n\r\n\t\tinterpolate_(i1, t0, t, t1) {\r\n\r\n\t\t\tconst result = super.interpolate_(i1, t0, t, t1);\r\n\r\n\t\t\t_q.fromArray(result).normalize().toArray(result);\r\n\r\n\t\t\treturn result;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/*********************************/\r\n\r\n\t/********** INTERNALS ************/\r\n\r\n\t/*********************************/\r\n\r\n\t/* CONSTANTS */\r\n\r\n\r\n\tconst WEBGL_CONSTANTS = {\r\n\t\tFLOAT: 5126,\r\n\t\t//FLOAT_MAT2: 35674,\r\n\t\tFLOAT_MAT3: 35675,\r\n\t\tFLOAT_MAT4: 35676,\r\n\t\tFLOAT_VEC2: 35664,\r\n\t\tFLOAT_VEC3: 35665,\r\n\t\tFLOAT_VEC4: 35666,\r\n\t\tLINEAR: 9729,\r\n\t\tREPEAT: 10497,\r\n\t\tSAMPLER_2D: 35678,\r\n\t\tPOINTS: 0,\r\n\t\tLINES: 1,\r\n\t\tLINE_LOOP: 2,\r\n\t\tLINE_STRIP: 3,\r\n\t\tTRIANGLES: 4,\r\n\t\tTRIANGLE_STRIP: 5,\r\n\t\tTRIANGLE_FAN: 6,\r\n\t\tUNSIGNED_BYTE: 5121,\r\n\t\tUNSIGNED_SHORT: 5123\r\n\t};\r\n\tconst WEBGL_COMPONENT_TYPES = {\r\n\t\t5120: Int8Array,\r\n\t\t5121: Uint8Array,\r\n\t\t5122: Int16Array,\r\n\t\t5123: Uint16Array,\r\n\t\t5125: Uint32Array,\r\n\t\t5126: Float32Array\r\n\t};\r\n\tconst WEBGL_FILTERS = {\r\n\t\t9728: THREE.NearestFilter,\r\n\t\t9729: THREE.LinearFilter,\r\n\t\t9984: THREE.NearestMipmapNearestFilter,\r\n\t\t9985: THREE.LinearMipmapNearestFilter,\r\n\t\t9986: THREE.NearestMipmapLinearFilter,\r\n\t\t9987: THREE.LinearMipmapLinearFilter\r\n\t};\r\n\tconst WEBGL_WRAPPINGS = {\r\n\t\t33071: THREE.ClampToEdgeWrapping,\r\n\t\t33648: THREE.MirroredRepeatWrapping,\r\n\t\t10497: THREE.RepeatWrapping\r\n\t};\r\n\tconst WEBGL_TYPE_SIZES = {\r\n\t\t'SCALAR': 1,\r\n\t\t'VEC2': 2,\r\n\t\t'VEC3': 3,\r\n\t\t'VEC4': 4,\r\n\t\t'MAT2': 4,\r\n\t\t'MAT3': 9,\r\n\t\t'MAT4': 16\r\n\t};\r\n\tconst ATTRIBUTES = {\r\n\t\tPOSITION: 'position',\r\n\t\tNORMAL: 'normal',\r\n\t\tTANGENT: 'tangent',\r\n\t\tTEXCOORD_0: 'uv',\r\n\t\tTEXCOORD_1: 'uv2',\r\n\t\tCOLOR_0: 'color',\r\n\t\tWEIGHTS_0: 'skinWeight',\r\n\t\tJOINTS_0: 'skinIndex'\r\n\t};\r\n\tconst PATH_PROPERTIES = {\r\n\t\tscale: 'scale',\r\n\t\ttranslation: 'position',\r\n\t\trotation: 'quaternion',\r\n\t\tweights: 'morphTargetInfluences'\r\n\t};\r\n\tconst INTERPOLATION = {\r\n\t\tCUBICSPLINE: undefined,\r\n\t\t// We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\r\n\t\t// keyframe track will be initialized with a default interpolation type, then modified.\r\n\t\tLINEAR: THREE.InterpolateLinear,\r\n\t\tSTEP: THREE.InterpolateDiscrete\r\n\t};\r\n\tconst ALPHA_MODES = {\r\n\t\tOPAQUE: 'OPAQUE',\r\n\t\tMASK: 'MASK',\r\n\t\tBLEND: 'BLEND'\r\n\t};\r\n\t/* UTILITY FUNCTIONS */\r\n\r\n\tfunction resolveURL(url, path) {\r\n\r\n\t\t// Invalid URL\r\n\t\tif (typeof url !== 'string' || url === '') return ''; // Host Relative URL\r\n\r\n\t\tif (/^https?:\\/\\//i.test(path) && /^\\//.test(url)) {\r\n\r\n\t\t\tpath = path.replace(/(^https?:\\/\\/[^\\/]+).*/i, '$1');\r\n\r\n\t\t} // Absolute URL http://,https://,//\r\n\r\n\r\n\t\tif (/^(https?:)?\\/\\//i.test(url)) return url; // Data URI\r\n\r\n\t\tif (/^data:.*,.*$/i.test(url)) return url; // Blob URL\r\n\r\n\t\tif (/^blob:.*$/i.test(url)) return url; // Relative URL\r\n\r\n\t\treturn path + url;\r\n\r\n\t}\r\n\t/**\r\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\r\n */\r\n\r\n\r\n\tfunction createDefaultMaterial(cache) {\r\n\r\n\t\tif (cache['DefaultMaterial'] === undefined) {\r\n\r\n\t\t\tcache['DefaultMaterial'] = new THREE.MeshStandardMaterial({\r\n\t\t\t\tcolor: 0xFFFFFF,\r\n\t\t\t\temissive: 0x000000,\r\n\t\t\t\tmetalness: 1,\r\n\t\t\t\troughness: 1,\r\n\t\t\t\ttransparent: false,\r\n\t\t\t\tdepthTest: true,\r\n\t\t\t\tside: THREE.FrontSide\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\treturn cache['DefaultMaterial'];\r\n\r\n\t}\r\n\r\n\tfunction addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\r\n\r\n\t\t// Add unknown glTF extensions to an object's userData.\r\n\t\tfor (const name in objectDef.extensions) {\r\n\r\n\t\t\tif (knownExtensions[name] === undefined) {\r\n\r\n\t\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\r\n\t\t\t\tobject.userData.gltfExtensions[name] = objectDef.extensions[name];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * @param {Object3D|Material|BufferGeometry} object\r\n * @param {GLTF.definition} gltfDef\r\n */\r\n\r\n\r\n\tfunction assignExtrasToUserData(object, gltfDef) {\r\n\r\n\t\tif (gltfDef.extras !== undefined) {\r\n\r\n\t\t\tif (typeof gltfDef.extras === 'object') {\r\n\r\n\t\t\t\tObject.assign(object.userData, gltfDef.extras);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/**\r\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\r\n *\r\n * @param {BufferGeometry} geometry\r\n * @param {Array<GLTF.Target>} targets\r\n * @param {GLTFParser} parser\r\n * @return {Promise<BufferGeometry>}\r\n */\r\n\r\n\r\n\tfunction addMorphTargets(geometry, targets, parser) {\r\n\r\n\t\tlet hasMorphPosition = false;\r\n\t\tlet hasMorphNormal = false;\r\n\r\n\t\tfor (let i = 0, il = targets.length; i < il; i++) {\r\n\r\n\t\t\tconst target = targets[i];\r\n\t\t\tif (target.POSITION !== undefined) hasMorphPosition = true;\r\n\t\t\tif (target.NORMAL !== undefined) hasMorphNormal = true;\r\n\t\t\tif (hasMorphPosition && hasMorphNormal) break;\r\n\r\n\t\t}\r\n\r\n\t\tif (!hasMorphPosition && !hasMorphNormal) return Promise.resolve(geometry);\r\n\t\tconst pendingPositionAccessors = [];\r\n\t\tconst pendingNormalAccessors = [];\r\n\r\n\t\tfor (let i = 0, il = targets.length; i < il; i++) {\r\n\r\n\t\t\tconst target = targets[i];\r\n\r\n\t\t\tif (hasMorphPosition) {\r\n\r\n\t\t\t\tconst pendingAccessor = target.POSITION !== undefined ? parser.getDependency('accessor', target.POSITION) : geometry.attributes.position;\r\n\t\t\t\tpendingPositionAccessors.push(pendingAccessor);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (hasMorphNormal) {\r\n\r\n\t\t\t\tconst pendingAccessor = target.NORMAL !== undefined ? parser.getDependency('accessor', target.NORMAL) : geometry.attributes.normal;\r\n\t\t\t\tpendingNormalAccessors.push(pendingAccessor);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all([Promise.all(pendingPositionAccessors), Promise.all(pendingNormalAccessors)]).then(function (accessors) {\r\n\r\n\t\t\tconst morphPositions = accessors[0];\r\n\t\t\tconst morphNormals = accessors[1];\r\n\t\t\tif (hasMorphPosition) geometry.morphAttributes.position = morphPositions;\r\n\t\t\tif (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;\r\n\t\t\tgeometry.morphTargetsRelative = true;\r\n\t\t\treturn geometry;\r\n\r\n\t\t});\r\n\r\n\t}\r\n\t/**\r\n * @param {Mesh} mesh\r\n * @param {GLTF.Mesh} meshDef\r\n */\r\n\r\n\r\n\tfunction updateMorphTargets(mesh, meshDef) {\r\n\r\n\t\tmesh.updateMorphTargets();\r\n\r\n\t\tif (meshDef.weights !== undefined) {\r\n\r\n\t\t\tfor (let i = 0, il = meshDef.weights.length; i < il; i++) {\r\n\r\n\t\t\t\tmesh.morphTargetInfluences[i] = meshDef.weights[i];\r\n\r\n\t\t\t}\r\n\r\n\t\t} // .extras has user-defined data, so check that .extras.targetNames is an array.\r\n\r\n\r\n\t\tif (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\r\n\r\n\t\t\tconst targetNames = meshDef.extras.targetNames;\r\n\r\n\t\t\tif (mesh.morphTargetInfluences.length === targetNames.length) {\r\n\r\n\t\t\t\tmesh.morphTargetDictionary = {};\r\n\r\n\t\t\t\tfor (let i = 0, il = targetNames.length; i < il; i++) {\r\n\r\n\t\t\t\t\tmesh.morphTargetDictionary[targetNames[i]] = i;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction createPrimitiveKey(primitiveDef) {\r\n\r\n\t\tconst dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];\r\n\t\tlet geometryKey;\r\n\r\n\t\tif (dracoExtension) {\r\n\r\n\t\t\tgeometryKey = 'draco:' + dracoExtension.bufferView + ':' + dracoExtension.indices + ':' + createAttributesKey(dracoExtension.attributes);\r\n\r\n\t\t} else {\r\n\r\n\t\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;\r\n\r\n\t\t}\r\n\r\n\t\treturn geometryKey;\r\n\r\n\t}\r\n\r\n\tfunction createAttributesKey(attributes) {\r\n\r\n\t\tlet attributesKey = '';\r\n\t\tconst keys = Object.keys(attributes).sort();\r\n\r\n\t\tfor (let i = 0, il = keys.length; i < il; i++) {\r\n\r\n\t\t\tattributesKey += keys[i] + ':' + attributes[keys[i]] + ';';\r\n\r\n\t\t}\r\n\r\n\t\treturn attributesKey;\r\n\r\n\t}\r\n\r\n\tfunction getNormalizedComponentScale(constructor) {\r\n\r\n\t\t// Reference:\r\n\t\t// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\r\n\t\tswitch (constructor) {\r\n\r\n\t\t\tcase Int8Array:\r\n\t\t\t\treturn 1 / 127;\r\n\r\n\t\t\tcase Uint8Array:\r\n\t\t\t\treturn 1 / 255;\r\n\r\n\t\t\tcase Int16Array:\r\n\t\t\t\treturn 1 / 32767;\r\n\r\n\t\t\tcase Uint16Array:\r\n\t\t\t\treturn 1 / 65535;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('THREE.GLTFLoader: Unsupported normalized accessor component type.');\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t/* GLTF PARSER */\r\n\r\n\r\n\tclass GLTFParser {\r\n\r\n\t\tconstructor(json = {}, options = {}) {\r\n\r\n\t\t\tthis.json = json;\r\n\t\t\tthis.extensions = {};\r\n\t\t\tthis.plugins = {};\r\n\t\t\tthis.options = options; // loader object cache\r\n\r\n\t\t\tthis.cache = new GLTFRegistry(); // associations between Three.js objects and glTF elements\r\n\r\n\t\t\tthis.associations = new Map(); // THREE.BufferGeometry caching\r\n\r\n\t\t\tthis.primitiveCache = {}; // THREE.Object3D instance caches\r\n\r\n\t\t\tthis.meshCache = {\r\n\t\t\t\trefs: {},\r\n\t\t\t\tuses: {}\r\n\t\t\t};\r\n\t\t\tthis.cameraCache = {\r\n\t\t\t\trefs: {},\r\n\t\t\t\tuses: {}\r\n\t\t\t};\r\n\t\t\tthis.lightCache = {\r\n\t\t\t\trefs: {},\r\n\t\t\t\tuses: {}\r\n\t\t\t};\r\n\t\t\tthis.textureCache = {}; // Track node names, to ensure no duplicates\r\n\r\n\t\t\tthis.nodeNamesUsed = {}; // Use an THREE.ImageBitmapLoader if imageBitmaps are supported. Moves much of the\r\n\t\t\t// expensive work of uploading a texture to the GPU off the main thread.\r\n\r\n\t\t\tif (typeof createImageBitmap !== 'undefined' && /Firefox/.test(navigator.userAgent) === false) {\r\n\r\n\t\t\t\tthis.textureLoader = new THREE.ImageBitmapLoader(this.options.manager);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.textureLoader = new THREE.TextureLoader(this.options.manager);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.textureLoader.setCrossOrigin(this.options.crossOrigin);\r\n\t\t\tthis.textureLoader.setRequestHeader(this.options.requestHeader);\r\n\t\t\tthis.fileLoader = new THREE.FileLoader(this.options.manager);\r\n\t\t\tthis.fileLoader.setResponseType('arraybuffer');\r\n\r\n\t\t\tif (this.options.crossOrigin === 'use-credentials') {\r\n\r\n\t\t\t\tthis.fileLoader.setWithCredentials(true);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tsetExtensions(extensions) {\r\n\r\n\t\t\tthis.extensions = extensions;\r\n\r\n\t\t}\r\n\r\n\t\tsetPlugins(plugins) {\r\n\r\n\t\t\tthis.plugins = plugins;\r\n\r\n\t\t}\r\n\r\n\t\tparse(onLoad, onError) {\r\n\r\n\t\t\tconst parser = this;\r\n\t\t\tconst json = this.json;\r\n\t\t\tconst extensions = this.extensions; // Clear the loader cache\r\n\r\n\t\t\tthis.cache.removeAll(); // Mark the special nodes/meshes in json for efficient parse\r\n\r\n\t\t\tthis._invokeAll(function (ext) {\r\n\r\n\t\t\t\treturn ext._markDefs && ext._markDefs();\r\n\r\n\t\t\t});\r\n\r\n\t\t\tPromise.all(this._invokeAll(function (ext) {\r\n\r\n\t\t\t\treturn ext.beforeRoot && ext.beforeRoot();\r\n\r\n\t\t\t})).then(function () {\r\n\r\n\t\t\t\treturn Promise.all([parser.getDependencies('scene'), parser.getDependencies('animation'), parser.getDependencies('camera')]);\r\n\r\n\t\t\t}).then(function (dependencies) {\r\n\r\n\t\t\t\tconst result = {\r\n\t\t\t\t\tscene: dependencies[0][json.scene || 0],\r\n\t\t\t\t\tscenes: dependencies[0],\r\n\t\t\t\t\tanimations: dependencies[1],\r\n\t\t\t\t\tcameras: dependencies[2],\r\n\t\t\t\t\tasset: json.asset,\r\n\t\t\t\t\tparser: parser,\r\n\t\t\t\t\tuserData: {}\r\n\t\t\t\t};\r\n\t\t\t\taddUnknownExtensionsToUserData(extensions, result, json);\r\n\t\t\t\tassignExtrasToUserData(result, json);\r\n\t\t\t\tPromise.all(parser._invokeAll(function (ext) {\r\n\r\n\t\t\t\t\treturn ext.afterRoot && ext.afterRoot(result);\r\n\r\n\t\t\t\t})).then(function () {\r\n\r\n\t\t\t\t\tonLoad(result);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}).catch(onError);\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Marks the special nodes/meshes in json for efficient parse.\r\n   */\r\n\r\n\r\n\t\t_markDefs() {\r\n\r\n\t\t\tconst nodeDefs = this.json.nodes || [];\r\n\t\t\tconst skinDefs = this.json.skins || [];\r\n\t\t\tconst meshDefs = this.json.meshes || []; // Nothing in the node definition indicates whether it is a THREE.Bone or an\r\n\t\t\t// THREE.Object3D. Use the skins' joint references to mark bones.\r\n\r\n\t\t\tfor (let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\r\n\r\n\t\t\t\tconst joints = skinDefs[skinIndex].joints;\r\n\r\n\t\t\t\tfor (let i = 0, il = joints.length; i < il; i++) {\r\n\r\n\t\t\t\t\tnodeDefs[joints[i]].isBone = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} // Iterate over all nodes, marking references to shared resources,\r\n\t\t\t// as well as skeleton joints.\r\n\r\n\r\n\t\t\tfor (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\r\n\r\n\t\t\t\tconst nodeDef = nodeDefs[nodeIndex];\r\n\r\n\t\t\t\tif (nodeDef.mesh !== undefined) {\r\n\r\n\t\t\t\t\tthis._addNodeRef(this.meshCache, nodeDef.mesh); // Nothing in the mesh definition indicates whether it is\r\n\t\t\t\t\t// a THREE.SkinnedMesh or THREE.Mesh. Use the node's mesh reference\r\n\t\t\t\t\t// to mark THREE.SkinnedMesh if node has skin.\r\n\r\n\r\n\t\t\t\t\tif (nodeDef.skin !== undefined) {\r\n\r\n\t\t\t\t\t\tmeshDefs[nodeDef.mesh].isSkinnedMesh = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (nodeDef.camera !== undefined) {\r\n\r\n\t\t\t\t\tthis._addNodeRef(this.cameraCache, nodeDef.camera);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Counts references to shared node / THREE.Object3D resources. These resources\r\n   * can be reused, or \"instantiated\", at multiple nodes in the scene\r\n   * hierarchy. THREE.Mesh, Camera, and Light instances are instantiated and must\r\n   * be marked. Non-scenegraph resources (like Materials, Geometries, and\r\n   * Textures) can be reused directly and are not marked here.\r\n   *\r\n   * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\r\n   */\r\n\r\n\r\n\t\t_addNodeRef(cache, index) {\r\n\r\n\t\t\tif (index === undefined) return;\r\n\r\n\t\t\tif (cache.refs[index] === undefined) {\r\n\r\n\t\t\t\tcache.refs[index] = cache.uses[index] = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcache.refs[index]++;\r\n\r\n\t\t}\r\n\t\t/** Returns a reference to a shared resource, cloning it if necessary. */\r\n\r\n\r\n\t\t_getNodeRef(cache, index, object) {\r\n\r\n\t\t\tif (cache.refs[index] <= 1) return object;\r\n\t\t\tconst ref = object.clone();\r\n\t\t\tref.name += '_instance_' + cache.uses[index]++;\r\n\t\t\treturn ref;\r\n\r\n\t\t}\r\n\r\n\t\t_invokeOne(func) {\r\n\r\n\t\t\tconst extensions = Object.values(this.plugins);\r\n\t\t\textensions.push(this);\r\n\r\n\t\t\tfor (let i = 0; i < extensions.length; i++) {\r\n\r\n\t\t\t\tconst result = func(extensions[i]);\r\n\t\t\t\tif (result) return result;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\t_invokeAll(func) {\r\n\r\n\t\t\tconst extensions = Object.values(this.plugins);\r\n\t\t\textensions.unshift(this);\r\n\t\t\tconst pending = [];\r\n\r\n\t\t\tfor (let i = 0; i < extensions.length; i++) {\r\n\r\n\t\t\t\tconst result = func(extensions[i]);\r\n\t\t\t\tif (result) pending.push(result);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn pending;\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Requests the specified dependency asynchronously, with caching.\r\n   * @param {string} type\r\n   * @param {number} index\r\n   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\r\n   */\r\n\r\n\r\n\t\tgetDependency(type, index) {\r\n\r\n\t\t\tconst cacheKey = type + ':' + index;\r\n\t\t\tlet dependency = this.cache.get(cacheKey);\r\n\r\n\t\t\tif (!dependency) {\r\n\r\n\t\t\t\tswitch (type) {\r\n\r\n\t\t\t\t\tcase 'scene':\r\n\t\t\t\t\t\tdependency = this.loadScene(index);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'node':\r\n\t\t\t\t\t\tdependency = this.loadNode(index);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'mesh':\r\n\t\t\t\t\t\tdependency = this._invokeOne(function (ext) {\r\n\r\n\t\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh(index);\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'accessor':\r\n\t\t\t\t\t\tdependency = this.loadAccessor(index);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'bufferView':\r\n\t\t\t\t\t\tdependency = this._invokeOne(function (ext) {\r\n\r\n\t\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView(index);\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'buffer':\r\n\t\t\t\t\t\tdependency = this.loadBuffer(index);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'material':\r\n\t\t\t\t\t\tdependency = this._invokeOne(function (ext) {\r\n\r\n\t\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial(index);\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'texture':\r\n\t\t\t\t\t\tdependency = this._invokeOne(function (ext) {\r\n\r\n\t\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture(index);\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'skin':\r\n\t\t\t\t\t\tdependency = this.loadSkin(index);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'animation':\r\n\t\t\t\t\t\tdependency = this.loadAnimation(index);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'camera':\r\n\t\t\t\t\t\tdependency = this.loadCamera(index);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthrow new Error('Unknown type: ' + type);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.cache.add(cacheKey, dependency);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn dependency;\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Requests all dependencies of the specified type asynchronously, with caching.\r\n   * @param {string} type\r\n   * @return {Promise<Array<Object>>}\r\n   */\r\n\r\n\r\n\t\tgetDependencies(type) {\r\n\r\n\t\t\tlet dependencies = this.cache.get(type);\r\n\r\n\t\t\tif (!dependencies) {\r\n\r\n\t\t\t\tconst parser = this;\r\n\t\t\t\tconst defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];\r\n\t\t\t\tdependencies = Promise.all(defs.map(function (def, index) {\r\n\r\n\t\t\t\t\treturn parser.getDependency(type, index);\r\n\r\n\t\t\t\t}));\r\n\t\t\t\tthis.cache.add(type, dependencies);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn dependencies;\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\r\n   * @param {number} bufferIndex\r\n   * @return {Promise<ArrayBuffer>}\r\n   */\r\n\r\n\r\n\t\tloadBuffer(bufferIndex) {\r\n\r\n\t\t\tconst bufferDef = this.json.buffers[bufferIndex];\r\n\t\t\tconst loader = this.fileLoader;\r\n\r\n\t\t\tif (bufferDef.type && bufferDef.type !== 'arraybuffer') {\r\n\r\n\t\t\t\tthrow new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');\r\n\r\n\t\t\t} // If present, GLB container is required to be the first buffer.\r\n\r\n\r\n\t\t\tif (bufferDef.uri === undefined && bufferIndex === 0) {\r\n\r\n\t\t\t\treturn Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst options = this.options;\r\n\t\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\t\tloader.load(resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {\r\n\r\n\t\t\t\t\treject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'));\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\r\n   * @param {number} bufferViewIndex\r\n   * @return {Promise<ArrayBuffer>}\r\n   */\r\n\r\n\r\n\t\tloadBufferView(bufferViewIndex) {\r\n\r\n\t\t\tconst bufferViewDef = this.json.bufferViews[bufferViewIndex];\r\n\t\t\treturn this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {\r\n\r\n\t\t\t\tconst byteLength = bufferViewDef.byteLength || 0;\r\n\t\t\t\tconst byteOffset = bufferViewDef.byteOffset || 0;\r\n\t\t\t\treturn buffer.slice(byteOffset, byteOffset + byteLength);\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\r\n   * @param {number} accessorIndex\r\n   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\r\n   */\r\n\r\n\r\n\t\tloadAccessor(accessorIndex) {\r\n\r\n\t\t\tconst parser = this;\r\n\t\t\tconst json = this.json;\r\n\t\t\tconst accessorDef = this.json.accessors[accessorIndex];\r\n\r\n\t\t\tif (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\r\n\r\n\t\t\t\t// Ignore empty accessors, which may be used to declare runtime\r\n\t\t\t\t// information about attributes coming from another source (e.g. Draco\r\n\t\t\t\t// compression extension).\r\n\t\t\t\treturn Promise.resolve(null);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst pendingBufferViews = [];\r\n\r\n\t\t\tif (accessorDef.bufferView !== undefined) {\r\n\r\n\t\t\t\tpendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tpendingBufferViews.push(null);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (accessorDef.sparse !== undefined) {\r\n\r\n\t\t\t\tpendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));\r\n\t\t\t\tpendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all(pendingBufferViews).then(function (bufferViews) {\r\n\r\n\t\t\t\tconst bufferView = bufferViews[0];\r\n\t\t\t\tconst itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\r\n\t\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]; // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\r\n\r\n\t\t\t\tconst elementBytes = TypedArray.BYTES_PER_ELEMENT;\r\n\t\t\t\tconst itemBytes = elementBytes * itemSize;\r\n\t\t\t\tconst byteOffset = accessorDef.byteOffset || 0;\r\n\t\t\t\tconst byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;\r\n\t\t\t\tconst normalized = accessorDef.normalized === true;\r\n\t\t\t\tlet array, bufferAttribute; // The buffer is not interleaved if the stride is the item size in bytes.\r\n\r\n\t\t\t\tif (byteStride && byteStride !== itemBytes) {\r\n\r\n\t\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own THREE.InterleavedBuffer\r\n\t\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\r\n\t\t\t\t\tconst ibSlice = Math.floor(byteOffset / byteStride);\r\n\t\t\t\t\tconst ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\r\n\t\t\t\t\tlet ib = parser.cache.get(ibCacheKey);\r\n\r\n\t\t\t\t\tif (!ib) {\r\n\r\n\t\t\t\t\t\tarray = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes); // Integer parameters to IB/IBA are in array elements, not bytes.\r\n\r\n\t\t\t\t\t\tib = new THREE.InterleavedBuffer(array, byteStride / elementBytes);\r\n\t\t\t\t\t\tparser.cache.add(ibCacheKey, ib);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbufferAttribute = new THREE.InterleavedBufferAttribute(ib, itemSize, byteOffset % byteStride / elementBytes, normalized);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif (bufferView === null) {\r\n\r\n\t\t\t\t\t\tarray = new TypedArray(accessorDef.count * itemSize);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tarray = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbufferAttribute = new THREE.BufferAttribute(array, itemSize, normalized);\r\n\r\n\t\t\t\t} // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\r\n\r\n\r\n\t\t\t\tif (accessorDef.sparse !== undefined) {\r\n\r\n\t\t\t\t\tconst itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\r\n\t\t\t\t\tconst TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];\r\n\t\t\t\t\tconst byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\r\n\t\t\t\t\tconst byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\r\n\t\t\t\t\tconst sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);\r\n\t\t\t\t\tconst sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);\r\n\r\n\t\t\t\t\tif (bufferView !== null) {\r\n\r\n\t\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\r\n\t\t\t\t\t\tbufferAttribute = new THREE.BufferAttribute(bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (let i = 0, il = sparseIndices.length; i < il; i++) {\r\n\r\n\t\t\t\t\t\tconst index = sparseIndices[i];\r\n\t\t\t\t\t\tbufferAttribute.setX(index, sparseValues[i * itemSize]);\r\n\t\t\t\t\t\tif (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);\r\n\t\t\t\t\t\tif (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);\r\n\t\t\t\t\t\tif (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);\r\n\t\t\t\t\t\tif (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse THREE.BufferAttribute.');\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn bufferAttribute;\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\r\n   * @param {number} textureIndex\r\n   * @return {Promise<THREE.Texture>}\r\n   */\r\n\r\n\r\n\t\tloadTexture(textureIndex) {\r\n\r\n\t\t\tconst json = this.json;\r\n\t\t\tconst options = this.options;\r\n\t\t\tconst textureDef = json.textures[textureIndex];\r\n\t\t\tconst source = json.images[textureDef.source];\r\n\t\t\tlet loader = this.textureLoader;\r\n\r\n\t\t\tif (source.uri) {\r\n\r\n\t\t\t\tconst handler = options.manager.getHandler(source.uri);\r\n\t\t\t\tif (handler !== null) loader = handler;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.loadTextureImage(textureIndex, source, loader);\r\n\r\n\t\t}\r\n\r\n\t\tloadTextureImage(textureIndex, source, loader) {\r\n\r\n\t\t\tconst parser = this;\r\n\t\t\tconst json = this.json;\r\n\t\t\tconst options = this.options;\r\n\t\t\tconst textureDef = json.textures[textureIndex];\r\n\t\t\tconst cacheKey = (source.uri || source.bufferView) + ':' + textureDef.sampler;\r\n\r\n\t\t\tif (this.textureCache[cacheKey]) {\r\n\r\n\t\t\t\t// See https://github.com/mrdoob/three.js/issues/21559.\r\n\t\t\t\treturn this.textureCache[cacheKey];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst URL = self.URL || self.webkitURL;\r\n\t\t\tlet sourceURI = source.uri || '';\r\n\t\t\tlet isObjectURL = false;\r\n\t\t\tlet hasAlpha = true;\r\n\t\t\tconst isJPEG = sourceURI.search(/\\.jpe?g($|\\?)/i) > 0 || sourceURI.search(/^data\\:image\\/jpeg/) === 0;\r\n\t\t\tif (source.mimeType === 'image/jpeg' || isJPEG) hasAlpha = false;\r\n\r\n\t\t\tif (source.bufferView !== undefined) {\r\n\r\n\t\t\t\t// Load binary image data from bufferView, if provided.\r\n\t\t\t\tsourceURI = parser.getDependency('bufferView', source.bufferView).then(function (bufferView) {\r\n\r\n\t\t\t\t\tif (source.mimeType === 'image/png') {\r\n\r\n\t\t\t\t\t\t// Inspect the PNG 'IHDR' chunk to determine whether the image could have an\r\n\t\t\t\t\t\t// alpha channel. This check is conservative  the image could have an alpha\r\n\t\t\t\t\t\t// channel with all values == 1, and the indexed type (colorType == 3) only\r\n\t\t\t\t\t\t// sometimes contains alpha.\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\r\n\t\t\t\t\t\tconst colorType = new DataView(bufferView, 25, 1).getUint8(0, false);\r\n\t\t\t\t\t\thasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tisObjectURL = true;\r\n\t\t\t\t\tconst blob = new Blob([bufferView], {\r\n\t\t\t\t\t\ttype: source.mimeType\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsourceURI = URL.createObjectURL(blob);\r\n\t\t\t\t\treturn sourceURI;\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t} else if (source.uri === undefined) {\r\n\r\n\t\t\t\tthrow new Error('THREE.GLTFLoader: Image ' + textureIndex + ' is missing URI and bufferView');\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst promise = Promise.resolve(sourceURI).then(function (sourceURI) {\r\n\r\n\t\t\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\t\t\tlet onLoad = resolve;\r\n\r\n\t\t\t\t\tif (loader.isImageBitmapLoader === true) {\r\n\r\n\t\t\t\t\t\tonLoad = function (imageBitmap) {\r\n\r\n\t\t\t\t\t\t\tconst texture = new THREE.Texture(imageBitmap);\r\n\t\t\t\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t\t\t\t\tresolve(texture);\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tloader.load(resolveURL(sourceURI, options.path), onLoad, undefined, reject);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}).then(function (texture) {\r\n\r\n\t\t\t\t// Clean up resources and configure THREE.Texture.\r\n\t\t\t\tif (isObjectURL === true) {\r\n\r\n\t\t\t\t\tURL.revokeObjectURL(sourceURI);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture.flipY = false;\r\n\t\t\t\tif (textureDef.name) texture.name = textureDef.name; // When there is definitely no alpha channel in the texture, set THREE.RGBFormat to save space.\r\n\r\n\t\t\t\tif (!hasAlpha) texture.format = THREE.RGBFormat;\r\n\t\t\t\tconst samplers = json.samplers || {};\r\n\t\t\t\tconst sampler = samplers[textureDef.sampler] || {};\r\n\t\t\t\ttexture.magFilter = WEBGL_FILTERS[sampler.magFilter] || THREE.LinearFilter;\r\n\t\t\t\ttexture.minFilter = WEBGL_FILTERS[sampler.minFilter] || THREE.LinearMipmapLinearFilter;\r\n\t\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || THREE.RepeatWrapping;\r\n\t\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || THREE.RepeatWrapping;\r\n\t\t\t\tparser.associations.set(texture, {\r\n\t\t\t\t\ttype: 'textures',\r\n\t\t\t\t\tindex: textureIndex\r\n\t\t\t\t});\r\n\t\t\t\treturn texture;\r\n\r\n\t\t\t}).catch(function () {\r\n\r\n\t\t\t\tconsole.error('THREE.GLTFLoader: Couldn\\'t load texture', sourceURI);\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t});\r\n\t\t\tthis.textureCache[cacheKey] = promise;\r\n\t\t\treturn promise;\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Asynchronously assigns a texture to the given material parameters.\r\n   * @param {Object} materialParams\r\n   * @param {string} mapName\r\n   * @param {Object} mapDef\r\n   * @return {Promise<Texture>}\r\n   */\r\n\r\n\r\n\t\tassignTexture(materialParams, mapName, mapDef) {\r\n\r\n\t\t\tconst parser = this;\r\n\t\t\treturn this.getDependency('texture', mapDef.index).then(function (texture) {\r\n\r\n\t\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\r\n\t\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\r\n\t\t\t\tif (mapDef.texCoord !== undefined && mapDef.texCoord != 0 && !(mapName === 'aoMap' && mapDef.texCoord == 1)) {\r\n\r\n\t\t\t\t\tconsole.warn('THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\r\n\r\n\t\t\t\t\tconst transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;\r\n\r\n\t\t\t\t\tif (transform) {\r\n\r\n\t\t\t\t\t\tconst gltfReference = parser.associations.get(texture);\r\n\t\t\t\t\t\ttexture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);\r\n\t\t\t\t\t\tparser.associations.set(texture, gltfReference);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterialParams[mapName] = texture;\r\n\t\t\t\treturn texture;\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Assigns final material to a THREE.Mesh, THREE.Line, or THREE.Points instance. The instance\r\n   * already has a material (generated from the glTF material options alone)\r\n   * but reuse of the same glTF material may require multiple threejs materials\r\n   * to accommodate different primitive types, defines, etc. New materials will\r\n   * be created if necessary, and reused from a cache.\r\n   * @param  {Object3D} mesh THREE.Mesh, THREE.Line, or THREE.Points instance.\r\n   */\r\n\r\n\r\n\t\tassignFinalMaterial(mesh) {\r\n\r\n\t\t\tconst geometry = mesh.geometry;\r\n\t\t\tlet material = mesh.material;\r\n\t\t\tconst useVertexTangents = geometry.attributes.tangent !== undefined;\r\n\t\t\tconst useVertexColors = geometry.attributes.color !== undefined;\r\n\t\t\tconst useFlatShading = geometry.attributes.normal === undefined;\r\n\r\n\t\t\tif (mesh.isPoints) {\r\n\r\n\t\t\t\tconst cacheKey = 'PointsMaterial:' + material.uuid;\r\n\t\t\t\tlet pointsMaterial = this.cache.get(cacheKey);\r\n\r\n\t\t\t\tif (!pointsMaterial) {\r\n\r\n\t\t\t\t\tpointsMaterial = new THREE.PointsMaterial();\r\n\t\t\t\t\tTHREE.Material.prototype.copy.call(pointsMaterial, material);\r\n\t\t\t\t\tpointsMaterial.color.copy(material.color);\r\n\t\t\t\t\tpointsMaterial.map = material.map;\r\n\t\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\r\n\r\n\t\t\t\t\tthis.cache.add(cacheKey, pointsMaterial);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterial = pointsMaterial;\r\n\r\n\t\t\t} else if (mesh.isLine) {\r\n\r\n\t\t\t\tconst cacheKey = 'LineBasicMaterial:' + material.uuid;\r\n\t\t\t\tlet lineMaterial = this.cache.get(cacheKey);\r\n\r\n\t\t\t\tif (!lineMaterial) {\r\n\r\n\t\t\t\t\tlineMaterial = new THREE.LineBasicMaterial();\r\n\t\t\t\t\tTHREE.Material.prototype.copy.call(lineMaterial, material);\r\n\t\t\t\t\tlineMaterial.color.copy(material.color);\r\n\t\t\t\t\tthis.cache.add(cacheKey, lineMaterial);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterial = lineMaterial;\r\n\r\n\t\t\t} // Clone the material if it will be modified\r\n\r\n\r\n\t\t\tif (useVertexTangents || useVertexColors || useFlatShading) {\r\n\r\n\t\t\t\tlet cacheKey = 'ClonedMaterial:' + material.uuid + ':';\r\n\t\t\t\tif (material.isGLTFSpecularGlossinessMaterial) cacheKey += 'specular-glossiness:';\r\n\t\t\t\tif (useVertexTangents) cacheKey += 'vertex-tangents:';\r\n\t\t\t\tif (useVertexColors) cacheKey += 'vertex-colors:';\r\n\t\t\t\tif (useFlatShading) cacheKey += 'flat-shading:';\r\n\t\t\t\tlet cachedMaterial = this.cache.get(cacheKey);\r\n\r\n\t\t\t\tif (!cachedMaterial) {\r\n\r\n\t\t\t\t\tcachedMaterial = material.clone();\r\n\t\t\t\t\tif (useVertexColors) cachedMaterial.vertexColors = true;\r\n\t\t\t\t\tif (useFlatShading) cachedMaterial.flatShading = true;\r\n\r\n\t\t\t\t\tif (useVertexTangents) {\r\n\r\n\t\t\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\r\n\t\t\t\t\t\tif (cachedMaterial.normalScale) cachedMaterial.normalScale.y *= - 1;\r\n\t\t\t\t\t\tif (cachedMaterial.clearcoatNormalScale) cachedMaterial.clearcoatNormalScale.y *= - 1;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.cache.add(cacheKey, cachedMaterial);\r\n\t\t\t\t\tthis.associations.set(cachedMaterial, this.associations.get(material));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterial = cachedMaterial;\r\n\r\n\t\t\t} // workarounds for mesh and geometry\r\n\r\n\r\n\t\t\tif (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {\r\n\r\n\t\t\t\tgeometry.setAttribute('uv2', geometry.attributes.uv);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmesh.material = material;\r\n\r\n\t\t}\r\n\r\n\t\tgetMaterialType() {\r\n\r\n\t\t\treturn THREE.MeshStandardMaterial;\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\r\n   * @param {number} materialIndex\r\n   * @return {Promise<Material>}\r\n   */\r\n\r\n\r\n\t\tloadMaterial(materialIndex) {\r\n\r\n\t\t\tconst parser = this;\r\n\t\t\tconst json = this.json;\r\n\t\t\tconst extensions = this.extensions;\r\n\t\t\tconst materialDef = json.materials[materialIndex];\r\n\t\t\tlet materialType;\r\n\t\t\tconst materialParams = {};\r\n\t\t\tconst materialExtensions = materialDef.extensions || {};\r\n\t\t\tconst pending = [];\r\n\r\n\t\t\tif (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {\r\n\r\n\t\t\t\tconst sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];\r\n\t\t\t\tmaterialType = sgExtension.getMaterialType();\r\n\t\t\t\tpending.push(sgExtension.extendParams(materialParams, materialDef, parser));\r\n\r\n\t\t\t} else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\r\n\r\n\t\t\t\tconst kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];\r\n\t\t\t\tmaterialType = kmuExtension.getMaterialType();\r\n\t\t\t\tpending.push(kmuExtension.extendParams(materialParams, materialDef, parser));\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Specification:\r\n\t\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\r\n\t\t\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness || {};\r\n\t\t\t\tmaterialParams.color = new THREE.Color(1.0, 1.0, 1.0);\r\n\t\t\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\t\t\tif (Array.isArray(metallicRoughness.baseColorFactor)) {\r\n\r\n\t\t\t\t\tconst array = metallicRoughness.baseColorFactor;\r\n\t\t\t\t\tmaterialParams.color.fromArray(array);\r\n\t\t\t\t\tmaterialParams.opacity = array[3];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (metallicRoughness.baseColorTexture !== undefined) {\r\n\r\n\t\t\t\t\tpending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\r\n\t\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\r\n\r\n\t\t\t\tif (metallicRoughness.metallicRoughnessTexture !== undefined) {\r\n\r\n\t\t\t\t\tpending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));\r\n\t\t\t\t\tpending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterialType = this._invokeOne(function (ext) {\r\n\r\n\t\t\t\t\treturn ext.getMaterialType && ext.getMaterialType(materialIndex);\r\n\r\n\t\t\t\t});\r\n\t\t\t\tpending.push(Promise.all(this._invokeAll(function (ext) {\r\n\r\n\t\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams);\r\n\r\n\t\t\t\t})));\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialDef.doubleSided === true) {\r\n\r\n\t\t\t\tmaterialParams.side = THREE.DoubleSide;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\r\n\r\n\t\t\tif (alphaMode === ALPHA_MODES.BLEND) {\r\n\r\n\t\t\t\tmaterialParams.transparent = true; // See: https://github.com/mrdoob/three.js/issues/17706\r\n\r\n\t\t\t\tmaterialParams.depthWrite = false;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmaterialParams.format = THREE.RGBFormat;\r\n\t\t\t\tmaterialParams.transparent = false;\r\n\r\n\t\t\t\tif (alphaMode === ALPHA_MODES.MASK) {\r\n\r\n\t\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialDef.normalTexture !== undefined && materialType !== THREE.MeshBasicMaterial) {\r\n\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture)); // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\r\n\r\n\t\t\t\tmaterialParams.normalScale = new THREE.Vector2(1, - 1);\r\n\r\n\t\t\t\tif (materialDef.normalTexture.scale !== undefined) {\r\n\r\n\t\t\t\t\tmaterialParams.normalScale.set(materialDef.normalTexture.scale, - materialDef.normalTexture.scale);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialDef.occlusionTexture !== undefined && materialType !== THREE.MeshBasicMaterial) {\r\n\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));\r\n\r\n\t\t\t\tif (materialDef.occlusionTexture.strength !== undefined) {\r\n\r\n\t\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialDef.emissiveFactor !== undefined && materialType !== THREE.MeshBasicMaterial) {\r\n\r\n\t\t\t\tmaterialParams.emissive = new THREE.Color().fromArray(materialDef.emissiveFactor);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (materialDef.emissiveTexture !== undefined && materialType !== THREE.MeshBasicMaterial) {\r\n\r\n\t\t\t\tpending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture));\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all(pending).then(function () {\r\n\r\n\t\t\t\tlet material;\r\n\r\n\t\t\t\tif (materialType === GLTFMeshStandardSGMaterial) {\r\n\r\n\t\t\t\t\tmaterial = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tmaterial = new materialType(materialParams);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (materialDef.name) material.name = materialDef.name; // baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\r\n\r\n\t\t\t\tif (material.map) material.map.encoding = THREE.sRGBEncoding;\r\n\t\t\t\tif (material.emissiveMap) material.emissiveMap.encoding = THREE.sRGBEncoding;\r\n\t\t\t\tassignExtrasToUserData(material, materialDef);\r\n\t\t\t\tparser.associations.set(material, {\r\n\t\t\t\t\ttype: 'materials',\r\n\t\t\t\t\tindex: materialIndex\r\n\t\t\t\t});\r\n\t\t\t\tif (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);\r\n\t\t\t\treturn material;\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t\t/** When THREE.Object3D instances are targeted by animation, they need unique names. */\r\n\r\n\r\n\t\tcreateUniqueName(originalName) {\r\n\r\n\t\t\tconst sanitizedName = THREE.PropertyBinding.sanitizeNodeName(originalName || '');\r\n\t\t\tlet name = sanitizedName;\r\n\r\n\t\t\tfor (let i = 1; this.nodeNamesUsed[name]; ++i) {\r\n\r\n\t\t\t\tname = sanitizedName + '_' + i;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.nodeNamesUsed[name] = true;\r\n\t\t\treturn name;\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\r\n   *\r\n   * Creates BufferGeometries from primitives.\r\n   *\r\n   * @param {Array<GLTF.Primitive>} primitives\r\n   * @return {Promise<Array<BufferGeometry>>}\r\n   */\r\n\r\n\r\n\t\tloadGeometries(primitives) {\r\n\r\n\t\t\tconst parser = this;\r\n\t\t\tconst extensions = this.extensions;\r\n\t\t\tconst cache = this.primitiveCache;\r\n\r\n\t\t\tfunction createDracoPrimitive(primitive) {\r\n\r\n\t\t\t\treturn extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(primitive, parser).then(function (geometry) {\r\n\r\n\t\t\t\t\treturn addPrimitiveAttributes(geometry, primitive, parser);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst pending = [];\r\n\r\n\t\t\tfor (let i = 0, il = primitives.length; i < il; i++) {\r\n\r\n\t\t\t\tconst primitive = primitives[i];\r\n\t\t\t\tconst cacheKey = createPrimitiveKey(primitive); // See if we've already created this geometry\r\n\r\n\t\t\t\tconst cached = cache[cacheKey];\r\n\r\n\t\t\t\tif (cached) {\r\n\r\n\t\t\t\t\t// Use the cached geometry if it exists\r\n\t\t\t\t\tpending.push(cached.promise);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tlet geometryPromise;\r\n\r\n\t\t\t\t\tif (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\r\n\r\n\t\t\t\t\t\t// Use DRACO geometry if available\r\n\t\t\t\t\t\tgeometryPromise = createDracoPrimitive(primitive);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// Otherwise create a new geometry\r\n\t\t\t\t\t\tgeometryPromise = addPrimitiveAttributes(new THREE.BufferGeometry(), primitive, parser);\r\n\r\n\t\t\t\t\t} // Cache this geometry\r\n\r\n\r\n\t\t\t\t\tcache[cacheKey] = {\r\n\t\t\t\t\t\tprimitive: primitive,\r\n\t\t\t\t\t\tpromise: geometryPromise\r\n\t\t\t\t\t};\r\n\t\t\t\t\tpending.push(geometryPromise);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all(pending);\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\r\n   * @param {number} meshIndex\r\n   * @return {Promise<Group|Mesh|SkinnedMesh>}\r\n   */\r\n\r\n\r\n\t\tloadMesh(meshIndex) {\r\n\r\n\t\t\tconst parser = this;\r\n\t\t\tconst json = this.json;\r\n\t\t\tconst extensions = this.extensions;\r\n\t\t\tconst meshDef = json.meshes[meshIndex];\r\n\t\t\tconst primitives = meshDef.primitives;\r\n\t\t\tconst pending = [];\r\n\r\n\t\t\tfor (let i = 0, il = primitives.length; i < il; i++) {\r\n\r\n\t\t\t\tconst material = primitives[i].material === undefined ? createDefaultMaterial(this.cache) : this.getDependency('material', primitives[i].material);\r\n\t\t\t\tpending.push(material);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tpending.push(parser.loadGeometries(primitives));\r\n\t\t\treturn Promise.all(pending).then(function (results) {\r\n\r\n\t\t\t\tconst materials = results.slice(0, results.length - 1);\r\n\t\t\t\tconst geometries = results[results.length - 1];\r\n\t\t\t\tconst meshes = [];\r\n\r\n\t\t\t\tfor (let i = 0, il = geometries.length; i < il; i++) {\r\n\r\n\t\t\t\t\tconst geometry = geometries[i];\r\n\t\t\t\t\tconst primitive = primitives[i]; // 1. create THREE.Mesh\r\n\r\n\t\t\t\t\tlet mesh;\r\n\t\t\t\t\tconst material = materials[i];\r\n\r\n\t\t\t\t\tif (primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN || primitive.mode === undefined) {\r\n\r\n\t\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\r\n\t\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true ? new THREE.SkinnedMesh(geometry, material) : new THREE.Mesh(geometry, material);\r\n\r\n\t\t\t\t\t\tif (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {\r\n\r\n\t\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\r\n\t\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\r\n\t\t\t\t\t\t\tmesh.normalizeSkinWeights();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\r\n\r\n\t\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode(mesh.geometry, THREE.TriangleStripDrawMode);\r\n\r\n\t\t\t\t\t\t} else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\r\n\r\n\t\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode(mesh.geometry, THREE.TriangleFanDrawMode);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\r\n\r\n\t\t\t\t\t\tmesh = new THREE.LineSegments(geometry, material);\r\n\r\n\t\t\t\t\t} else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\r\n\r\n\t\t\t\t\t\tmesh = new THREE.Line(geometry, material);\r\n\r\n\t\t\t\t\t} else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\r\n\r\n\t\t\t\t\t\tmesh = new THREE.LineLoop(geometry, material);\r\n\r\n\t\t\t\t\t} else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\r\n\r\n\t\t\t\t\t\tmesh = new THREE.Points(geometry, material);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthrow new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (Object.keys(mesh.geometry.morphAttributes).length > 0) {\r\n\r\n\t\t\t\t\t\tupdateMorphTargets(mesh, meshDef);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex);\r\n\t\t\t\t\tassignExtrasToUserData(mesh, meshDef);\r\n\t\t\t\t\tif (primitive.extensions) addUnknownExtensionsToUserData(extensions, mesh, primitive);\r\n\t\t\t\t\tparser.assignFinalMaterial(mesh);\r\n\t\t\t\t\tmeshes.push(mesh);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (meshes.length === 1) {\r\n\r\n\t\t\t\t\treturn meshes[0];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst group = new THREE.Group();\r\n\r\n\t\t\t\tfor (let i = 0, il = meshes.length; i < il; i++) {\r\n\r\n\t\t\t\t\tgroup.add(meshes[i]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn group;\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\r\n   * @param {number} cameraIndex\r\n   * @return {Promise<THREE.Camera>}\r\n   */\r\n\r\n\r\n\t\tloadCamera(cameraIndex) {\r\n\r\n\t\t\tlet camera;\r\n\t\t\tconst cameraDef = this.json.cameras[cameraIndex];\r\n\t\t\tconst params = cameraDef[cameraDef.type];\r\n\r\n\t\t\tif (!params) {\r\n\r\n\t\t\t\tconsole.warn('THREE.GLTFLoader: Missing camera parameters.');\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (cameraDef.type === 'perspective') {\r\n\r\n\t\t\t\tcamera = new THREE.PerspectiveCamera(THREE.MathUtils.radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);\r\n\r\n\t\t\t} else if (cameraDef.type === 'orthographic') {\r\n\r\n\t\t\t\tcamera = new THREE.OrthographicCamera(- params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name);\r\n\t\t\tassignExtrasToUserData(camera, cameraDef);\r\n\t\t\treturn Promise.resolve(camera);\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\r\n   * @param {number} skinIndex\r\n   * @return {Promise<Object>}\r\n   */\r\n\r\n\r\n\t\tloadSkin(skinIndex) {\r\n\r\n\t\t\tconst skinDef = this.json.skins[skinIndex];\r\n\t\t\tconst skinEntry = {\r\n\t\t\t\tjoints: skinDef.joints\r\n\t\t\t};\r\n\r\n\t\t\tif (skinDef.inverseBindMatrices === undefined) {\r\n\r\n\t\t\t\treturn Promise.resolve(skinEntry);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.getDependency('accessor', skinDef.inverseBindMatrices).then(function (accessor) {\r\n\r\n\t\t\t\tskinEntry.inverseBindMatrices = accessor;\r\n\t\t\t\treturn skinEntry;\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\r\n   * @param {number} animationIndex\r\n   * @return {Promise<AnimationClip>}\r\n   */\r\n\r\n\r\n\t\tloadAnimation(animationIndex) {\r\n\r\n\t\t\tconst json = this.json;\r\n\t\t\tconst animationDef = json.animations[animationIndex];\r\n\t\t\tconst pendingNodes = [];\r\n\t\t\tconst pendingInputAccessors = [];\r\n\t\t\tconst pendingOutputAccessors = [];\r\n\t\t\tconst pendingSamplers = [];\r\n\t\t\tconst pendingTargets = [];\r\n\r\n\t\t\tfor (let i = 0, il = animationDef.channels.length; i < il; i++) {\r\n\r\n\t\t\t\tconst channel = animationDef.channels[i];\r\n\t\t\t\tconst sampler = animationDef.samplers[channel.sampler];\r\n\t\t\t\tconst target = channel.target;\r\n\t\t\t\tconst name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\r\n\r\n\t\t\t\tconst input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;\r\n\t\t\t\tconst output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;\r\n\t\t\t\tpendingNodes.push(this.getDependency('node', name));\r\n\t\t\t\tpendingInputAccessors.push(this.getDependency('accessor', input));\r\n\t\t\t\tpendingOutputAccessors.push(this.getDependency('accessor', output));\r\n\t\t\t\tpendingSamplers.push(sampler);\r\n\t\t\t\tpendingTargets.push(target);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all([Promise.all(pendingNodes), Promise.all(pendingInputAccessors), Promise.all(pendingOutputAccessors), Promise.all(pendingSamplers), Promise.all(pendingTargets)]).then(function (dependencies) {\r\n\r\n\t\t\t\tconst nodes = dependencies[0];\r\n\t\t\t\tconst inputAccessors = dependencies[1];\r\n\t\t\t\tconst outputAccessors = dependencies[2];\r\n\t\t\t\tconst samplers = dependencies[3];\r\n\t\t\t\tconst targets = dependencies[4];\r\n\t\t\t\tconst tracks = [];\r\n\r\n\t\t\t\tfor (let i = 0, il = nodes.length; i < il; i++) {\r\n\r\n\t\t\t\t\tconst node = nodes[i];\r\n\t\t\t\t\tconst inputAccessor = inputAccessors[i];\r\n\t\t\t\t\tconst outputAccessor = outputAccessors[i];\r\n\t\t\t\t\tconst sampler = samplers[i];\r\n\t\t\t\t\tconst target = targets[i];\r\n\t\t\t\t\tif (node === undefined) continue;\r\n\t\t\t\t\tnode.updateMatrix();\r\n\t\t\t\t\tnode.matrixAutoUpdate = true;\r\n\t\t\t\t\tlet TypedKeyframeTrack;\r\n\r\n\t\t\t\t\tswitch (PATH_PROPERTIES[target.path]) {\r\n\r\n\t\t\t\t\t\tcase PATH_PROPERTIES.weights:\r\n\t\t\t\t\t\t\tTypedKeyframeTrack = THREE.NumberKeyframeTrack;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase PATH_PROPERTIES.rotation:\r\n\t\t\t\t\t\t\tTypedKeyframeTrack = THREE.QuaternionKeyframeTrack;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase PATH_PROPERTIES.position:\r\n\t\t\t\t\t\tcase PATH_PROPERTIES.scale:\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tTypedKeyframeTrack = THREE.VectorKeyframeTrack;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst targetName = node.name ? node.name : node.uuid;\r\n\t\t\t\t\tconst interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : THREE.InterpolateLinear;\r\n\t\t\t\t\tconst targetNames = [];\r\n\r\n\t\t\t\t\tif (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\r\n\r\n\t\t\t\t\t\t// Node may be a THREE.Group (glTF mesh with several primitives) or a THREE.Mesh.\r\n\t\t\t\t\t\tnode.traverse(function (object) {\r\n\r\n\t\t\t\t\t\t\tif (object.isMesh === true && object.morphTargetInfluences) {\r\n\r\n\t\t\t\t\t\t\t\ttargetNames.push(object.name ? object.name : object.uuid);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ttargetNames.push(targetName);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet outputArray = outputAccessor.array;\r\n\r\n\t\t\t\t\tif (outputAccessor.normalized) {\r\n\r\n\t\t\t\t\t\tconst scale = getNormalizedComponentScale(outputArray.constructor);\r\n\t\t\t\t\t\tconst scaled = new Float32Array(outputArray.length);\r\n\r\n\t\t\t\t\t\tfor (let j = 0, jl = outputArray.length; j < jl; j++) {\r\n\r\n\t\t\t\t\t\t\tscaled[j] = outputArray[j] * scale;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\toutputArray = scaled;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (let j = 0, jl = targetNames.length; j < jl; j++) {\r\n\r\n\t\t\t\t\t\tconst track = new TypedKeyframeTrack(targetNames[j] + '.' + PATH_PROPERTIES[target.path], inputAccessor.array, outputArray, interpolation); // Override interpolation with custom factory method.\r\n\r\n\t\t\t\t\t\tif (sampler.interpolation === 'CUBICSPLINE') {\r\n\r\n\t\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\r\n\r\n\t\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\r\n\t\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\r\n\t\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\r\n\t\t\t\t\t\t\t\tconst interpolantType = this instanceof THREE.QuaternionKeyframeTrack ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;\r\n\t\t\t\t\t\t\t\treturn new interpolantType(this.times, this.values, this.getValueSize() / 3, result);\r\n\r\n\t\t\t\t\t\t\t}; // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\r\n\r\n\r\n\t\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttracks.push(track);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\r\n\t\t\t\treturn new THREE.AnimationClip(name, undefined, tracks);\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tcreateNodeMesh(nodeIndex) {\r\n\r\n\t\t\tconst json = this.json;\r\n\t\t\tconst parser = this;\r\n\t\t\tconst nodeDef = json.nodes[nodeIndex];\r\n\t\t\tif (nodeDef.mesh === undefined) return null;\r\n\t\t\treturn parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {\r\n\r\n\t\t\t\tconst node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh); // if weights are provided on the node, override weights on the mesh.\r\n\r\n\r\n\t\t\t\tif (nodeDef.weights !== undefined) {\r\n\r\n\t\t\t\t\tnode.traverse(function (o) {\r\n\r\n\t\t\t\t\t\tif (!o.isMesh) return;\r\n\r\n\t\t\t\t\t\tfor (let i = 0, il = nodeDef.weights.length; i < il; i++) {\r\n\r\n\t\t\t\t\t\t\to.morphTargetInfluences[i] = nodeDef.weights[i];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn node;\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\r\n   * @param {number} nodeIndex\r\n   * @return {Promise<Object3D>}\r\n   */\r\n\r\n\r\n\t\tloadNode(nodeIndex) {\r\n\r\n\t\t\tconst json = this.json;\r\n\t\t\tconst extensions = this.extensions;\r\n\t\t\tconst parser = this;\r\n\t\t\tconst nodeDef = json.nodes[nodeIndex]; // reserve node's name before its dependencies, so the root has the intended name.\r\n\r\n\t\t\tconst nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : '';\r\n\t\t\treturn function () {\r\n\r\n\t\t\t\tconst pending = [];\r\n\r\n\t\t\t\tconst meshPromise = parser._invokeOne(function (ext) {\r\n\r\n\t\t\t\t\treturn ext.createNodeMesh && ext.createNodeMesh(nodeIndex);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (meshPromise) {\r\n\r\n\t\t\t\t\tpending.push(meshPromise);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (nodeDef.camera !== undefined) {\r\n\r\n\t\t\t\t\tpending.push(parser.getDependency('camera', nodeDef.camera).then(function (camera) {\r\n\r\n\t\t\t\t\t\treturn parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera);\r\n\r\n\t\t\t\t\t}));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tparser._invokeAll(function (ext) {\r\n\r\n\t\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex);\r\n\r\n\t\t\t\t}).forEach(function (promise) {\r\n\r\n\t\t\t\t\tpending.push(promise);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn Promise.all(pending);\r\n\r\n\t\t\t}().then(function (objects) {\r\n\r\n\t\t\t\tlet node; // .isBone isn't in glTF spec. See ._markDefs\r\n\r\n\t\t\t\tif (nodeDef.isBone === true) {\r\n\r\n\t\t\t\t\tnode = new THREE.Bone();\r\n\r\n\t\t\t\t} else if (objects.length > 1) {\r\n\r\n\t\t\t\t\tnode = new THREE.Group();\r\n\r\n\t\t\t\t} else if (objects.length === 1) {\r\n\r\n\t\t\t\t\tnode = objects[0];\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tnode = new THREE.Object3D();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (node !== objects[0]) {\r\n\r\n\t\t\t\t\tfor (let i = 0, il = objects.length; i < il; i++) {\r\n\r\n\t\t\t\t\t\tnode.add(objects[i]);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (nodeDef.name) {\r\n\r\n\t\t\t\t\tnode.userData.name = nodeDef.name;\r\n\t\t\t\t\tnode.name = nodeName;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tassignExtrasToUserData(node, nodeDef);\r\n\t\t\t\tif (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);\r\n\r\n\t\t\t\tif (nodeDef.matrix !== undefined) {\r\n\r\n\t\t\t\t\tconst matrix = new THREE.Matrix4();\r\n\t\t\t\t\tmatrix.fromArray(nodeDef.matrix);\r\n\t\t\t\t\tnode.applyMatrix4(matrix);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif (nodeDef.translation !== undefined) {\r\n\r\n\t\t\t\t\t\tnode.position.fromArray(nodeDef.translation);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (nodeDef.rotation !== undefined) {\r\n\r\n\t\t\t\t\t\tnode.quaternion.fromArray(nodeDef.rotation);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (nodeDef.scale !== undefined) {\r\n\r\n\t\t\t\t\t\tnode.scale.fromArray(nodeDef.scale);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tparser.associations.set(node, {\r\n\t\t\t\t\ttype: 'nodes',\r\n\t\t\t\t\tindex: nodeIndex\r\n\t\t\t\t});\r\n\t\t\t\treturn node;\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t\t/**\r\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\r\n   * @param {number} sceneIndex\r\n   * @return {Promise<Group>}\r\n   */\r\n\r\n\r\n\t\tloadScene(sceneIndex) {\r\n\r\n\t\t\tconst json = this.json;\r\n\t\t\tconst extensions = this.extensions;\r\n\t\t\tconst sceneDef = this.json.scenes[sceneIndex];\r\n\t\t\tconst parser = this; // THREE.Loader returns THREE.Group, not Scene.\r\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\r\n\r\n\t\t\tconst scene = new THREE.Group();\r\n\t\t\tif (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name);\r\n\t\t\tassignExtrasToUserData(scene, sceneDef);\r\n\t\t\tif (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);\r\n\t\t\tconst nodeIds = sceneDef.nodes || [];\r\n\t\t\tconst pending = [];\r\n\r\n\t\t\tfor (let i = 0, il = nodeIds.length; i < il; i++) {\r\n\r\n\t\t\t\tpending.push(buildNodeHierachy(nodeIds[i], scene, json, parser));\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all(pending).then(function () {\r\n\r\n\t\t\t\treturn scene;\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction buildNodeHierachy(nodeId, parentObject, json, parser) {\r\n\r\n\t\tconst nodeDef = json.nodes[nodeId];\r\n\t\treturn parser.getDependency('node', nodeId).then(function (node) {\r\n\r\n\t\t\tif (nodeDef.skin === undefined) return node; // build skeleton here as well\r\n\r\n\t\t\tlet skinEntry;\r\n\t\t\treturn parser.getDependency('skin', nodeDef.skin).then(function (skin) {\r\n\r\n\t\t\t\tskinEntry = skin;\r\n\t\t\t\tconst pendingJoints = [];\r\n\r\n\t\t\t\tfor (let i = 0, il = skinEntry.joints.length; i < il; i++) {\r\n\r\n\t\t\t\t\tpendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Promise.all(pendingJoints);\r\n\r\n\t\t\t}).then(function (jointNodes) {\r\n\r\n\t\t\t\tnode.traverse(function (mesh) {\r\n\r\n\t\t\t\t\tif (!mesh.isMesh) return;\r\n\t\t\t\t\tconst bones = [];\r\n\t\t\t\t\tconst boneInverses = [];\r\n\r\n\t\t\t\t\tfor (let j = 0, jl = jointNodes.length; j < jl; j++) {\r\n\r\n\t\t\t\t\t\tconst jointNode = jointNodes[j];\r\n\r\n\t\t\t\t\t\tif (jointNode) {\r\n\r\n\t\t\t\t\t\t\tbones.push(jointNode);\r\n\t\t\t\t\t\t\tconst mat = new THREE.Matrix4();\r\n\r\n\t\t\t\t\t\t\tif (skinEntry.inverseBindMatrices !== undefined) {\r\n\r\n\t\t\t\t\t\t\t\tmat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tboneInverses.push(mat);\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tconsole.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[j]);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmesh.bind(new THREE.Skeleton(bones, boneInverses), mesh.matrixWorld);\r\n\r\n\t\t\t\t});\r\n\t\t\t\treturn node;\r\n\r\n\t\t\t});\r\n\r\n\t\t}).then(function (node) {\r\n\r\n\t\t\t// build node hierachy\r\n\t\t\tparentObject.add(node);\r\n\t\t\tconst pending = [];\r\n\r\n\t\t\tif (nodeDef.children) {\r\n\r\n\t\t\t\tconst children = nodeDef.children;\r\n\r\n\t\t\t\tfor (let i = 0, il = children.length; i < il; i++) {\r\n\r\n\t\t\t\t\tconst child = children[i];\r\n\t\t\t\t\tpending.push(buildNodeHierachy(child, node, json, parser));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all(pending);\r\n\r\n\t\t});\r\n\r\n\t}\r\n\t/**\r\n * @param {BufferGeometry} geometry\r\n * @param {GLTF.Primitive} primitiveDef\r\n * @param {GLTFParser} parser\r\n */\r\n\r\n\r\n\tfunction computeBounds(geometry, primitiveDef, parser) {\r\n\r\n\t\tconst attributes = primitiveDef.attributes;\r\n\t\tconst box = new THREE.Box3();\r\n\r\n\t\tif (attributes.POSITION !== undefined) {\r\n\r\n\t\t\tconst accessor = parser.json.accessors[attributes.POSITION];\r\n\t\t\tconst min = accessor.min;\r\n\t\t\tconst max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\r\n\r\n\t\t\tif (min !== undefined && max !== undefined) {\r\n\r\n\t\t\t\tbox.set(new THREE.Vector3(min[0], min[1], min[2]), new THREE.Vector3(max[0], max[1], max[2]));\r\n\r\n\t\t\t\tif (accessor.normalized) {\r\n\r\n\t\t\t\t\tconst boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\r\n\t\t\t\t\tbox.min.multiplyScalar(boxScale);\r\n\t\t\t\t\tbox.max.multiplyScalar(boxScale);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tconst targets = primitiveDef.targets;\r\n\r\n\t\tif (targets !== undefined) {\r\n\r\n\t\t\tconst maxDisplacement = new THREE.Vector3();\r\n\t\t\tconst vector = new THREE.Vector3();\r\n\r\n\t\t\tfor (let i = 0, il = targets.length; i < il; i++) {\r\n\r\n\t\t\t\tconst target = targets[i];\r\n\r\n\t\t\t\tif (target.POSITION !== undefined) {\r\n\r\n\t\t\t\t\tconst accessor = parser.json.accessors[target.POSITION];\r\n\t\t\t\t\tconst min = accessor.min;\r\n\t\t\t\t\tconst max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\r\n\r\n\t\t\t\t\tif (min !== undefined && max !== undefined) {\r\n\r\n\t\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\r\n\t\t\t\t\t\tvector.setX(Math.max(Math.abs(min[0]), Math.abs(max[0])));\r\n\t\t\t\t\t\tvector.setY(Math.max(Math.abs(min[1]), Math.abs(max[1])));\r\n\t\t\t\t\t\tvector.setZ(Math.max(Math.abs(min[2]), Math.abs(max[2])));\r\n\r\n\t\t\t\t\t\tif (accessor.normalized) {\r\n\r\n\t\t\t\t\t\t\tconst boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\r\n\t\t\t\t\t\t\tvector.multiplyScalar(boxScale);\r\n\r\n\t\t\t\t\t\t} // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\r\n\t\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\r\n\t\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\r\n\t\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\r\n\r\n\r\n\t\t\t\t\t\tmaxDisplacement.max(vector);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\r\n\r\n\r\n\t\t\tbox.expandByVector(maxDisplacement);\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.boundingBox = box;\r\n\t\tconst sphere = new THREE.Sphere();\r\n\t\tbox.getCenter(sphere.center);\r\n\t\tsphere.radius = box.min.distanceTo(box.max) / 2;\r\n\t\tgeometry.boundingSphere = sphere;\r\n\r\n\t}\r\n\t/**\r\n * @param {BufferGeometry} geometry\r\n * @param {GLTF.Primitive} primitiveDef\r\n * @param {GLTFParser} parser\r\n * @return {Promise<BufferGeometry>}\r\n */\r\n\r\n\r\n\tfunction addPrimitiveAttributes(geometry, primitiveDef, parser) {\r\n\r\n\t\tconst attributes = primitiveDef.attributes;\r\n\t\tconst pending = [];\r\n\r\n\t\tfunction assignAttributeAccessor(accessorIndex, attributeName) {\r\n\r\n\t\t\treturn parser.getDependency('accessor', accessorIndex).then(function (accessor) {\r\n\r\n\t\t\t\tgeometry.setAttribute(attributeName, accessor);\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tfor (const gltfAttributeName in attributes) {\r\n\r\n\t\t\tconst threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase(); // Skip attributes already provided by e.g. Draco extension.\r\n\r\n\t\t\tif (threeAttributeName in geometry.attributes) continue;\r\n\t\t\tpending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));\r\n\r\n\t\t}\r\n\r\n\t\tif (primitiveDef.indices !== undefined && !geometry.index) {\r\n\r\n\t\t\tconst accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {\r\n\r\n\t\t\t\tgeometry.setIndex(accessor);\r\n\r\n\t\t\t});\r\n\t\t\tpending.push(accessor);\r\n\r\n\t\t}\r\n\r\n\t\tassignExtrasToUserData(geometry, primitiveDef);\r\n\t\tcomputeBounds(geometry, primitiveDef, parser);\r\n\t\treturn Promise.all(pending).then(function () {\r\n\r\n\t\t\treturn primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry;\r\n\r\n\t\t});\r\n\r\n\t}\r\n\t/**\r\n * @param {BufferGeometry} geometry\r\n * @param {Number} drawMode\r\n * @return {BufferGeometry}\r\n */\r\n\r\n\r\n\tfunction toTrianglesDrawMode(geometry, drawMode) {\r\n\r\n\t\tlet index = geometry.getIndex(); // generate index if not present\r\n\r\n\t\tif (index === null) {\r\n\r\n\t\t\tconst indices = [];\r\n\t\t\tconst position = geometry.getAttribute('position');\r\n\r\n\t\t\tif (position !== undefined) {\r\n\r\n\t\t\t\tfor (let i = 0; i < position.count; i++) {\r\n\r\n\t\t\t\t\tindices.push(i);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.setIndex(indices);\r\n\t\t\t\tindex = geometry.getIndex();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.error('THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.');\r\n\t\t\t\treturn geometry;\r\n\r\n\t\t\t}\r\n\r\n\t\t} //\r\n\r\n\r\n\t\tconst numberOfTriangles = index.count - 2;\r\n\t\tconst newIndices = [];\r\n\r\n\t\tif (drawMode === THREE.TriangleFanDrawMode) {\r\n\r\n\t\t\t// gl.TRIANGLE_FAN\r\n\t\t\tfor (let i = 1; i <= numberOfTriangles; i++) {\r\n\r\n\t\t\t\tnewIndices.push(index.getX(0));\r\n\t\t\t\tnewIndices.push(index.getX(i));\r\n\t\t\t\tnewIndices.push(index.getX(i + 1));\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// gl.TRIANGLE_STRIP\r\n\t\t\tfor (let i = 0; i < numberOfTriangles; i++) {\r\n\r\n\t\t\t\tif (i % 2 === 0) {\r\n\r\n\t\t\t\t\tnewIndices.push(index.getX(i));\r\n\t\t\t\t\tnewIndices.push(index.getX(i + 1));\r\n\t\t\t\t\tnewIndices.push(index.getX(i + 2));\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tnewIndices.push(index.getX(i + 2));\r\n\t\t\t\t\tnewIndices.push(index.getX(i + 1));\r\n\t\t\t\t\tnewIndices.push(index.getX(i));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif (newIndices.length / 3 !== numberOfTriangles) {\r\n\r\n\t\t\tconsole.error('THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.');\r\n\r\n\t\t} // build final geometry\r\n\r\n\r\n\t\tconst newGeometry = geometry.clone();\r\n\t\tnewGeometry.setIndex(newIndices);\r\n\t\treturn newGeometry;\r\n\r\n\t}\r\n\r\n\tTHREE.GLTFLoader = GLTFLoader;\r\n\r\n})();\r\n\r\nmodule.exports = exports = THREE.GLTFLoader;", "const THREE = require('../../three.js');\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n(function () {\r\n\r\n\tclass ColladaLoader extends THREE.Loader {\r\n\r\n\t\tconstructor(manager) {\r\n\r\n\t\t\tsuper(manager);\r\n\r\n\t\t}\r\n\r\n\t\tload(url, onLoad, onProgress, onError) {\r\n\r\n\t\t\tconst scope = this;\r\n\t\t\tconst path = scope.path === '' ? THREE.LoaderUtils.extractUrlBase(url) : scope.path;\r\n\t\t\tconst loader = new THREE.FileLoader(scope.manager);\r\n\t\t\tloader.setPath(scope.path);\r\n\t\t\tloader.setRequestHeader(scope.requestHeader);\r\n\t\t\tloader.setWithCredentials(scope.withCredentials);\r\n\t\t\tloader.load(url, function (text) {\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tonLoad(scope.parse(text, path));\r\n\r\n\t\t\t\t} catch (e) {\r\n\r\n\t\t\t\t\tif (onError) {\r\n\r\n\t\t\t\t\t\tonError(e);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.error(e);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemError(url);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError);\r\n\r\n\t\t}\r\n\r\n\t\tparse(text, path) {\r\n\r\n\t\t\tfunction getElementsByTagName(xml, name) {\r\n\r\n\t\t\t\t// Non recursive xml.getElementsByTagName() ...\r\n\t\t\t\tconst array = [];\r\n\t\t\t\tconst childNodes = xml.childNodes;\r\n\r\n\t\t\t\tfor (let i = 0, l = childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = childNodes[i];\r\n\r\n\t\t\t\t\tif (child.nodeName === name) {\r\n\r\n\t\t\t\t\t\tarray.push(child);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn array;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseStrings(text) {\r\n\r\n\t\t\t\tif (text.length === 0) return [];\r\n\t\t\t\tconst parts = text.trim().split(/\\s+/);\r\n\t\t\t\tconst array = new Array(parts.length);\r\n\r\n\t\t\t\tfor (let i = 0, l = parts.length; i < l; i++) {\r\n\r\n\t\t\t\t\tarray[i] = parts[i];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn array;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseFloats(text) {\r\n\r\n\t\t\t\tif (text.length === 0) return [];\r\n\t\t\t\tconst parts = text.trim().split(/\\s+/);\r\n\t\t\t\tconst array = new Array(parts.length);\r\n\r\n\t\t\t\tfor (let i = 0, l = parts.length; i < l; i++) {\r\n\r\n\t\t\t\t\tarray[i] = parseFloat(parts[i]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn array;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseInts(text) {\r\n\r\n\t\t\t\tif (text.length === 0) return [];\r\n\t\t\t\tconst parts = text.trim().split(/\\s+/);\r\n\t\t\t\tconst array = new Array(parts.length);\r\n\r\n\t\t\t\tfor (let i = 0, l = parts.length; i < l; i++) {\r\n\r\n\t\t\t\t\tarray[i] = parseInt(parts[i]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn array;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseId(text) {\r\n\r\n\t\t\t\treturn text.substring(1);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction generateId() {\r\n\r\n\t\t\t\treturn 'three_default_' + count++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction isEmpty(object) {\r\n\r\n\t\t\t\treturn Object.keys(object).length === 0;\r\n\r\n\t\t\t} // asset\r\n\r\n\r\n\t\t\tfunction parseAsset(xml) {\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tunit: parseAssetUnit(getElementsByTagName(xml, 'unit')[0]),\r\n\t\t\t\t\tupAxis: parseAssetUpAxis(getElementsByTagName(xml, 'up_axis')[0])\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseAssetUnit(xml) {\r\n\r\n\t\t\t\tif (xml !== undefined && xml.hasAttribute('meter') === true) {\r\n\r\n\t\t\t\t\treturn parseFloat(xml.getAttribute('meter'));\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn 1; // default 1 meter\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseAssetUpAxis(xml) {\r\n\r\n\t\t\t\treturn xml !== undefined ? xml.textContent : 'Y_UP';\r\n\r\n\t\t\t} // library\r\n\r\n\r\n\t\t\tfunction parseLibrary(xml, libraryName, nodeName, parser) {\r\n\r\n\t\t\t\tconst library = getElementsByTagName(xml, libraryName)[0];\r\n\r\n\t\t\t\tif (library !== undefined) {\r\n\r\n\t\t\t\t\tconst elements = getElementsByTagName(library, nodeName);\r\n\r\n\t\t\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\t\t\tparser(elements[i]);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildLibrary(data, builder) {\r\n\r\n\t\t\t\tfor (const name in data) {\r\n\r\n\t\t\t\t\tconst object = data[name];\r\n\t\t\t\t\tobject.build = builder(data[name]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} // get\r\n\r\n\r\n\t\t\tfunction getBuild(data, builder) {\r\n\r\n\t\t\t\tif (data.build !== undefined) return data.build;\r\n\t\t\t\tdata.build = builder(data);\r\n\t\t\t\treturn data.build;\r\n\r\n\t\t\t} // animation\r\n\r\n\r\n\t\t\tfunction parseAnimation(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tsources: {},\r\n\t\t\t\t\tsamplers: {},\r\n\t\t\t\t\tchannels: {}\r\n\t\t\t\t};\r\n\t\t\t\tlet hasChildren = false;\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\t\t\t\t\tlet id;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'source':\r\n\t\t\t\t\t\t\tid = child.getAttribute('id');\r\n\t\t\t\t\t\t\tdata.sources[id] = parseSource(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'sampler':\r\n\t\t\t\t\t\t\tid = child.getAttribute('id');\r\n\t\t\t\t\t\t\tdata.samplers[id] = parseAnimationSampler(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'channel':\r\n\t\t\t\t\t\t\tid = child.getAttribute('target');\r\n\t\t\t\t\t\t\tdata.channels[id] = parseAnimationChannel(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'animation':\r\n\t\t\t\t\t\t\t// hierarchy of related animations\r\n\t\t\t\t\t\t\tparseAnimation(child);\r\n\t\t\t\t\t\t\thasChildren = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.log(child);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (hasChildren === false) {\r\n\r\n\t\t\t\t\t// since 'id' attributes can be optional, it's necessary to generate a UUID for unqiue assignment\r\n\t\t\t\t\tlibrary.animations[xml.getAttribute('id') || THREE.MathUtils.generateUUID()] = data;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseAnimationSampler(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tinputs: {}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'input':\r\n\t\t\t\t\t\t\tconst id = parseId(child.getAttribute('source'));\r\n\t\t\t\t\t\t\tconst semantic = child.getAttribute('semantic');\r\n\t\t\t\t\t\t\tdata.inputs[semantic] = id;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseAnimationChannel(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\t\t\t\tconst target = xml.getAttribute('target'); // parsing SID Addressing Syntax\r\n\r\n\t\t\t\tlet parts = target.split('/');\r\n\t\t\t\tconst id = parts.shift();\r\n\t\t\t\tlet sid = parts.shift(); // check selection syntax\r\n\r\n\t\t\t\tconst arraySyntax = sid.indexOf('(') !== - 1;\r\n\t\t\t\tconst memberSyntax = sid.indexOf('.') !== - 1;\r\n\r\n\t\t\t\tif (memberSyntax) {\r\n\r\n\t\t\t\t\t//  member selection access\r\n\t\t\t\t\tparts = sid.split('.');\r\n\t\t\t\t\tsid = parts.shift();\r\n\t\t\t\t\tdata.member = parts.shift();\r\n\r\n\t\t\t\t} else if (arraySyntax) {\r\n\r\n\t\t\t\t\t// array-access syntax. can be used to express fields in one-dimensional vectors or two-dimensional matrices.\r\n\t\t\t\t\tconst indices = sid.split('(');\r\n\t\t\t\t\tsid = indices.shift();\r\n\r\n\t\t\t\t\tfor (let i = 0; i < indices.length; i++) {\r\n\r\n\t\t\t\t\t\tindices[i] = parseInt(indices[i].replace(/\\)/, ''));\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdata.indices = indices;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata.id = id;\r\n\t\t\t\tdata.sid = sid;\r\n\t\t\t\tdata.arraySyntax = arraySyntax;\r\n\t\t\t\tdata.memberSyntax = memberSyntax;\r\n\t\t\t\tdata.sampler = parseId(xml.getAttribute('source'));\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildAnimation(data) {\r\n\r\n\t\t\t\tconst tracks = [];\r\n\t\t\t\tconst channels = data.channels;\r\n\t\t\t\tconst samplers = data.samplers;\r\n\t\t\t\tconst sources = data.sources;\r\n\r\n\t\t\t\tfor (const target in channels) {\r\n\r\n\t\t\t\t\tif (channels.hasOwnProperty(target)) {\r\n\r\n\t\t\t\t\t\tconst channel = channels[target];\r\n\t\t\t\t\t\tconst sampler = samplers[channel.sampler];\r\n\t\t\t\t\t\tconst inputId = sampler.inputs.INPUT;\r\n\t\t\t\t\t\tconst outputId = sampler.inputs.OUTPUT;\r\n\t\t\t\t\t\tconst inputSource = sources[inputId];\r\n\t\t\t\t\t\tconst outputSource = sources[outputId];\r\n\t\t\t\t\t\tconst animation = buildAnimationChannel(channel, inputSource, outputSource);\r\n\t\t\t\t\t\tcreateKeyframeTracks(animation, tracks);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn tracks;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getAnimation(id) {\r\n\r\n\t\t\t\treturn getBuild(library.animations[id], buildAnimation);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildAnimationChannel(channel, inputSource, outputSource) {\r\n\r\n\t\t\t\tconst node = library.nodes[channel.id];\r\n\t\t\t\tconst object3D = getNode(node.id);\r\n\t\t\t\tconst transform = node.transforms[channel.sid];\r\n\t\t\t\tconst defaultMatrix = node.matrix.clone().transpose();\r\n\t\t\t\tlet time, stride;\r\n\t\t\t\tlet i, il, j, jl;\r\n\t\t\t\tconst data = {}; // the collada spec allows the animation of data in various ways.\r\n\t\t\t\t// depending on the transform type (matrix, translate, rotate, scale), we execute different logic\r\n\r\n\t\t\t\tswitch (transform) {\r\n\r\n\t\t\t\t\tcase 'matrix':\r\n\t\t\t\t\t\tfor (i = 0, il = inputSource.array.length; i < il; i++) {\r\n\r\n\t\t\t\t\t\t\ttime = inputSource.array[i];\r\n\t\t\t\t\t\t\tstride = i * outputSource.stride;\r\n\t\t\t\t\t\t\tif (data[time] === undefined) data[time] = {};\r\n\r\n\t\t\t\t\t\t\tif (channel.arraySyntax === true) {\r\n\r\n\t\t\t\t\t\t\t\tconst value = outputSource.array[stride];\r\n\t\t\t\t\t\t\t\tconst index = channel.indices[0] + 4 * channel.indices[1];\r\n\t\t\t\t\t\t\t\tdata[time][index] = value;\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tfor (j = 0, jl = outputSource.stride; j < jl; j++) {\r\n\r\n\t\t\t\t\t\t\t\t\tdata[time][j] = outputSource.array[stride + j];\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'translate':\r\n\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'rotate':\r\n\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'scale':\r\n\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst keyframes = prepareAnimationData(data, defaultMatrix);\r\n\t\t\t\tconst animation = {\r\n\t\t\t\t\tname: object3D.uuid,\r\n\t\t\t\t\tkeyframes: keyframes\r\n\t\t\t\t};\r\n\t\t\t\treturn animation;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction prepareAnimationData(data, defaultMatrix) {\r\n\r\n\t\t\t\tconst keyframes = []; // transfer data into a sortable array\r\n\r\n\t\t\t\tfor (const time in data) {\r\n\r\n\t\t\t\t\tkeyframes.push({\r\n\t\t\t\t\t\ttime: parseFloat(time),\r\n\t\t\t\t\t\tvalue: data[time]\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t} // ensure keyframes are sorted by time\r\n\r\n\r\n\t\t\t\tkeyframes.sort(ascending); // now we clean up all animation data, so we can use them for keyframe tracks\r\n\r\n\t\t\t\tfor (let i = 0; i < 16; i++) {\r\n\r\n\t\t\t\t\ttransformAnimationData(keyframes, i, defaultMatrix.elements[i]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn keyframes; // array sort function\r\n\r\n\t\t\t\tfunction ascending(a, b) {\r\n\r\n\t\t\t\t\treturn a.time - b.time;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst position = new THREE.Vector3();\r\n\t\t\tconst scale = new THREE.Vector3();\r\n\t\t\tconst quaternion = new THREE.Quaternion();\r\n\r\n\t\t\tfunction createKeyframeTracks(animation, tracks) {\r\n\r\n\t\t\t\tconst keyframes = animation.keyframes;\r\n\t\t\t\tconst name = animation.name;\r\n\t\t\t\tconst times = [];\r\n\t\t\t\tconst positionData = [];\r\n\t\t\t\tconst quaternionData = [];\r\n\t\t\t\tconst scaleData = [];\r\n\r\n\t\t\t\tfor (let i = 0, l = keyframes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst keyframe = keyframes[i];\r\n\t\t\t\t\tconst time = keyframe.time;\r\n\t\t\t\t\tconst value = keyframe.value;\r\n\t\t\t\t\tmatrix.fromArray(value).transpose();\r\n\t\t\t\t\tmatrix.decompose(position, quaternion, scale);\r\n\t\t\t\t\ttimes.push(time);\r\n\t\t\t\t\tpositionData.push(position.x, position.y, position.z);\r\n\t\t\t\t\tquaternionData.push(quaternion.x, quaternion.y, quaternion.z, quaternion.w);\r\n\t\t\t\t\tscaleData.push(scale.x, scale.y, scale.z);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (positionData.length > 0) tracks.push(new THREE.VectorKeyframeTrack(name + '.position', times, positionData));\r\n\t\t\t\tif (quaternionData.length > 0) tracks.push(new THREE.QuaternionKeyframeTrack(name + '.quaternion', times, quaternionData));\r\n\t\t\t\tif (scaleData.length > 0) tracks.push(new THREE.VectorKeyframeTrack(name + '.scale', times, scaleData));\r\n\t\t\t\treturn tracks;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction transformAnimationData(keyframes, property, defaultValue) {\r\n\r\n\t\t\t\tlet keyframe;\r\n\t\t\t\tlet empty = true;\r\n\t\t\t\tlet i, l; // check, if values of a property are missing in our keyframes\r\n\r\n\t\t\t\tfor (i = 0, l = keyframes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tkeyframe = keyframes[i];\r\n\r\n\t\t\t\t\tif (keyframe.value[property] === undefined) {\r\n\r\n\t\t\t\t\t\tkeyframe.value[property] = null; // mark as missing\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tempty = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (empty === true) {\r\n\r\n\t\t\t\t\t// no values at all, so we set a default value\r\n\t\t\t\t\tfor (i = 0, l = keyframes.length; i < l; i++) {\r\n\r\n\t\t\t\t\t\tkeyframe = keyframes[i];\r\n\t\t\t\t\t\tkeyframe.value[property] = defaultValue;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// filling gaps\r\n\t\t\t\t\tcreateMissingKeyframes(keyframes, property);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction createMissingKeyframes(keyframes, property) {\r\n\r\n\t\t\t\tlet prev, next;\r\n\r\n\t\t\t\tfor (let i = 0, l = keyframes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst keyframe = keyframes[i];\r\n\r\n\t\t\t\t\tif (keyframe.value[property] === null) {\r\n\r\n\t\t\t\t\t\tprev = getPrev(keyframes, i, property);\r\n\t\t\t\t\t\tnext = getNext(keyframes, i, property);\r\n\r\n\t\t\t\t\t\tif (prev === null) {\r\n\r\n\t\t\t\t\t\t\tkeyframe.value[property] = next.value[property];\r\n\t\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (next === null) {\r\n\r\n\t\t\t\t\t\t\tkeyframe.value[property] = prev.value[property];\r\n\t\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tinterpolate(keyframe, prev, next, property);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getPrev(keyframes, i, property) {\r\n\r\n\t\t\t\twhile (i >= 0) {\r\n\r\n\t\t\t\t\tconst keyframe = keyframes[i];\r\n\t\t\t\t\tif (keyframe.value[property] !== null) return keyframe;\r\n\t\t\t\t\ti--;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getNext(keyframes, i, property) {\r\n\r\n\t\t\t\twhile (i < keyframes.length) {\r\n\r\n\t\t\t\t\tconst keyframe = keyframes[i];\r\n\t\t\t\t\tif (keyframe.value[property] !== null) return keyframe;\r\n\t\t\t\t\ti++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction interpolate(key, prev, next, property) {\r\n\r\n\t\t\t\tif (next.time - prev.time === 0) {\r\n\r\n\t\t\t\t\tkey.value[property] = prev.value[property];\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkey.value[property] = (key.time - prev.time) * (next.value[property] - prev.value[property]) / (next.time - prev.time) + prev.value[property];\r\n\r\n\t\t\t} // animation clips\r\n\r\n\r\n\t\t\tfunction parseAnimationClip(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tname: xml.getAttribute('id') || 'default',\r\n\t\t\t\t\tstart: parseFloat(xml.getAttribute('start') || 0),\r\n\t\t\t\t\tend: parseFloat(xml.getAttribute('end') || 0),\r\n\t\t\t\t\tanimations: []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'instance_animation':\r\n\t\t\t\t\t\t\tdata.animations.push(parseId(child.getAttribute('url')));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlibrary.clips[xml.getAttribute('id')] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildAnimationClip(data) {\r\n\r\n\t\t\t\tconst tracks = [];\r\n\t\t\t\tconst name = data.name;\r\n\t\t\t\tconst duration = data.end - data.start || - 1;\r\n\t\t\t\tconst animations = data.animations;\r\n\r\n\t\t\t\tfor (let i = 0, il = animations.length; i < il; i++) {\r\n\r\n\t\t\t\t\tconst animationTracks = getAnimation(animations[i]);\r\n\r\n\t\t\t\t\tfor (let j = 0, jl = animationTracks.length; j < jl; j++) {\r\n\r\n\t\t\t\t\t\ttracks.push(animationTracks[j]);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn new THREE.AnimationClip(name, duration, tracks);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getAnimationClip(id) {\r\n\r\n\t\t\t\treturn getBuild(library.clips[id], buildAnimationClip);\r\n\r\n\t\t\t} // controller\r\n\r\n\r\n\t\t\tfunction parseController(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'skin':\r\n\t\t\t\t\t\t\t// there is exactly one skin per controller\r\n\t\t\t\t\t\t\tdata.id = parseId(child.getAttribute('source'));\r\n\t\t\t\t\t\t\tdata.skin = parseSkin(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'morph':\r\n\t\t\t\t\t\t\tdata.id = parseId(child.getAttribute('source'));\r\n\t\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Morph target animation not supported yet.');\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlibrary.controllers[xml.getAttribute('id')] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseSkin(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tsources: {}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'bind_shape_matrix':\r\n\t\t\t\t\t\t\tdata.bindShapeMatrix = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'source':\r\n\t\t\t\t\t\t\tconst id = child.getAttribute('id');\r\n\t\t\t\t\t\t\tdata.sources[id] = parseSource(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'joints':\r\n\t\t\t\t\t\t\tdata.joints = parseJoints(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'vertex_weights':\r\n\t\t\t\t\t\t\tdata.vertexWeights = parseVertexWeights(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseJoints(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tinputs: {}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'input':\r\n\t\t\t\t\t\t\tconst semantic = child.getAttribute('semantic');\r\n\t\t\t\t\t\t\tconst id = parseId(child.getAttribute('source'));\r\n\t\t\t\t\t\t\tdata.inputs[semantic] = id;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseVertexWeights(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tinputs: {}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'input':\r\n\t\t\t\t\t\t\tconst semantic = child.getAttribute('semantic');\r\n\t\t\t\t\t\t\tconst id = parseId(child.getAttribute('source'));\r\n\t\t\t\t\t\t\tconst offset = parseInt(child.getAttribute('offset'));\r\n\t\t\t\t\t\t\tdata.inputs[semantic] = {\r\n\t\t\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\t\t\toffset: offset\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'vcount':\r\n\t\t\t\t\t\t\tdata.vcount = parseInts(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'v':\r\n\t\t\t\t\t\t\tdata.v = parseInts(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildController(data) {\r\n\r\n\t\t\t\tconst build = {\r\n\t\t\t\t\tid: data.id\r\n\t\t\t\t};\r\n\t\t\t\tconst geometry = library.geometries[build.id];\r\n\r\n\t\t\t\tif (data.skin !== undefined) {\r\n\r\n\t\t\t\t\tbuild.skin = buildSkin(data.skin); // we enhance the 'sources' property of the corresponding geometry with our skin data\r\n\r\n\t\t\t\t\tgeometry.sources.skinIndices = build.skin.indices;\r\n\t\t\t\t\tgeometry.sources.skinWeights = build.skin.weights;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn build;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildSkin(data) {\r\n\r\n\t\t\t\tconst BONE_LIMIT = 4;\r\n\t\t\t\tconst build = {\r\n\t\t\t\t\tjoints: [],\r\n\t\t\t\t\t// this must be an array to preserve the joint order\r\n\t\t\t\t\tindices: {\r\n\t\t\t\t\t\tarray: [],\r\n\t\t\t\t\t\tstride: BONE_LIMIT\r\n\t\t\t\t\t},\r\n\t\t\t\t\tweights: {\r\n\t\t\t\t\t\tarray: [],\r\n\t\t\t\t\t\tstride: BONE_LIMIT\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tconst sources = data.sources;\r\n\t\t\t\tconst vertexWeights = data.vertexWeights;\r\n\t\t\t\tconst vcount = vertexWeights.vcount;\r\n\t\t\t\tconst v = vertexWeights.v;\r\n\t\t\t\tconst jointOffset = vertexWeights.inputs.JOINT.offset;\r\n\t\t\t\tconst weightOffset = vertexWeights.inputs.WEIGHT.offset;\r\n\t\t\t\tconst jointSource = data.sources[data.joints.inputs.JOINT];\r\n\t\t\t\tconst inverseSource = data.sources[data.joints.inputs.INV_BIND_MATRIX];\r\n\t\t\t\tconst weights = sources[vertexWeights.inputs.WEIGHT.id].array;\r\n\t\t\t\tlet stride = 0;\r\n\t\t\t\tlet i, j, l; // procces skin data for each vertex\r\n\r\n\t\t\t\tfor (i = 0, l = vcount.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst jointCount = vcount[i]; // this is the amount of joints that affect a single vertex\r\n\r\n\t\t\t\t\tconst vertexSkinData = [];\r\n\r\n\t\t\t\t\tfor (j = 0; j < jointCount; j++) {\r\n\r\n\t\t\t\t\t\tconst skinIndex = v[stride + jointOffset];\r\n\t\t\t\t\t\tconst weightId = v[stride + weightOffset];\r\n\t\t\t\t\t\tconst skinWeight = weights[weightId];\r\n\t\t\t\t\t\tvertexSkinData.push({\r\n\t\t\t\t\t\t\tindex: skinIndex,\r\n\t\t\t\t\t\t\tweight: skinWeight\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tstride += 2;\r\n\r\n\t\t\t\t\t} // we sort the joints in descending order based on the weights.\r\n\t\t\t\t\t// this ensures, we only procced the most important joints of the vertex\r\n\r\n\r\n\t\t\t\t\tvertexSkinData.sort(descending); // now we provide for each vertex a set of four index and weight values.\r\n\t\t\t\t\t// the order of the skin data matches the order of vertices\r\n\r\n\t\t\t\t\tfor (j = 0; j < BONE_LIMIT; j++) {\r\n\r\n\t\t\t\t\t\tconst d = vertexSkinData[j];\r\n\r\n\t\t\t\t\t\tif (d !== undefined) {\r\n\r\n\t\t\t\t\t\t\tbuild.indices.array.push(d.index);\r\n\t\t\t\t\t\t\tbuild.weights.array.push(d.weight);\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tbuild.indices.array.push(0);\r\n\t\t\t\t\t\t\tbuild.weights.array.push(0);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // setup bind matrix\r\n\r\n\r\n\t\t\t\tif (data.bindShapeMatrix) {\r\n\r\n\t\t\t\t\tbuild.bindMatrix = new THREE.Matrix4().fromArray(data.bindShapeMatrix).transpose();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tbuild.bindMatrix = new THREE.Matrix4().identity();\r\n\r\n\t\t\t\t} // process bones and inverse bind matrix data\r\n\r\n\r\n\t\t\t\tfor (i = 0, l = jointSource.array.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst name = jointSource.array[i];\r\n\t\t\t\t\tconst boneInverse = new THREE.Matrix4().fromArray(inverseSource.array, i * inverseSource.stride).transpose();\r\n\t\t\t\t\tbuild.joints.push({\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\tboneInverse: boneInverse\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn build; // array sort function\r\n\r\n\t\t\t\tfunction descending(a, b) {\r\n\r\n\t\t\t\t\treturn b.weight - a.weight;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getController(id) {\r\n\r\n\t\t\t\treturn getBuild(library.controllers[id], buildController);\r\n\r\n\t\t\t} // image\r\n\r\n\r\n\t\t\tfunction parseImage(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tinit_from: getElementsByTagName(xml, 'init_from')[0].textContent\r\n\t\t\t\t};\r\n\t\t\t\tlibrary.images[xml.getAttribute('id')] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildImage(data) {\r\n\r\n\t\t\t\tif (data.build !== undefined) return data.build;\r\n\t\t\t\treturn data.init_from;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getImage(id) {\r\n\r\n\t\t\t\tconst data = library.images[id];\r\n\r\n\t\t\t\tif (data !== undefined) {\r\n\r\n\t\t\t\t\treturn getBuild(data, buildImage);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.warn('THREE.ColladaLoader: Couldn\\'t find image with ID:', id);\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t} // effect\r\n\r\n\r\n\t\t\tfunction parseEffect(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'profile_COMMON':\r\n\t\t\t\t\t\t\tdata.profile = parseEffectProfileCOMMON(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlibrary.effects[xml.getAttribute('id')] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseEffectProfileCOMMON(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tsurfaces: {},\r\n\t\t\t\t\tsamplers: {}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'newparam':\r\n\t\t\t\t\t\t\tparseEffectNewparam(child, data);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'technique':\r\n\t\t\t\t\t\t\tdata.technique = parseEffectTechnique(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'extra':\r\n\t\t\t\t\t\t\tdata.extra = parseEffectExtra(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseEffectNewparam(xml, data) {\r\n\r\n\t\t\t\tconst sid = xml.getAttribute('sid');\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'surface':\r\n\t\t\t\t\t\t\tdata.surfaces[sid] = parseEffectSurface(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'sampler2D':\r\n\t\t\t\t\t\t\tdata.samplers[sid] = parseEffectSampler(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseEffectSurface(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'init_from':\r\n\t\t\t\t\t\t\tdata.init_from = child.textContent;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseEffectSampler(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'source':\r\n\t\t\t\t\t\t\tdata.source = child.textContent;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseEffectTechnique(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'constant':\r\n\t\t\t\t\t\tcase 'lambert':\r\n\t\t\t\t\t\tcase 'blinn':\r\n\t\t\t\t\t\tcase 'phong':\r\n\t\t\t\t\t\t\tdata.type = child.nodeName;\r\n\t\t\t\t\t\t\tdata.parameters = parseEffectParameters(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseEffectParameters(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'emission':\r\n\t\t\t\t\t\tcase 'diffuse':\r\n\t\t\t\t\t\tcase 'specular':\r\n\t\t\t\t\t\tcase 'bump':\r\n\t\t\t\t\t\tcase 'ambient':\r\n\t\t\t\t\t\tcase 'shininess':\r\n\t\t\t\t\t\tcase 'transparency':\r\n\t\t\t\t\t\t\tdata[child.nodeName] = parseEffectParameter(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'transparent':\r\n\t\t\t\t\t\t\tdata[child.nodeName] = {\r\n\t\t\t\t\t\t\t\topaque: child.getAttribute('opaque'),\r\n\t\t\t\t\t\t\t\tdata: parseEffectParameter(child)\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseEffectParameter(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'color':\r\n\t\t\t\t\t\t\tdata[child.nodeName] = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'float':\r\n\t\t\t\t\t\t\tdata[child.nodeName] = parseFloat(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'texture':\r\n\t\t\t\t\t\t\tdata[child.nodeName] = {\r\n\t\t\t\t\t\t\t\tid: child.getAttribute('texture'),\r\n\t\t\t\t\t\t\t\textra: parseEffectParameterTexture(child)\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseEffectParameterTexture(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\ttechnique: {}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'extra':\r\n\t\t\t\t\t\t\tparseEffectParameterTextureExtra(child, data);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseEffectParameterTextureExtra(xml, data) {\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'technique':\r\n\t\t\t\t\t\t\tparseEffectParameterTextureExtraTechnique(child, data);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseEffectParameterTextureExtraTechnique(xml, data) {\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'repeatU':\r\n\t\t\t\t\t\tcase 'repeatV':\r\n\t\t\t\t\t\tcase 'offsetU':\r\n\t\t\t\t\t\tcase 'offsetV':\r\n\t\t\t\t\t\t\tdata.technique[child.nodeName] = parseFloat(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'wrapU':\r\n\t\t\t\t\t\tcase 'wrapV':\r\n\t\t\t\t\t\t\t// some files have values for wrapU/wrapV which become NaN via parseInt\r\n\t\t\t\t\t\t\tif (child.textContent.toUpperCase() === 'TRUE') {\r\n\r\n\t\t\t\t\t\t\t\tdata.technique[child.nodeName] = 1;\r\n\r\n\t\t\t\t\t\t\t} else if (child.textContent.toUpperCase() === 'FALSE') {\r\n\r\n\t\t\t\t\t\t\t\tdata.technique[child.nodeName] = 0;\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tdata.technique[child.nodeName] = parseInt(child.textContent);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseEffectExtra(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'technique':\r\n\t\t\t\t\t\t\tdata.technique = parseEffectExtraTechnique(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseEffectExtraTechnique(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'double_sided':\r\n\t\t\t\t\t\t\tdata[child.nodeName] = parseInt(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildEffect(data) {\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getEffect(id) {\r\n\r\n\t\t\t\treturn getBuild(library.effects[id], buildEffect);\r\n\r\n\t\t\t} // material\r\n\r\n\r\n\t\t\tfunction parseMaterial(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tname: xml.getAttribute('name')\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'instance_effect':\r\n\t\t\t\t\t\t\tdata.url = parseId(child.getAttribute('url'));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlibrary.materials[xml.getAttribute('id')] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getTextureLoader(image) {\r\n\r\n\t\t\t\tlet loader;\r\n\t\t\t\tlet extension = image.slice((image.lastIndexOf('.') - 1 >>> 0) + 2); // http://www.jstips.co/en/javascript/get-file-extension/\r\n\r\n\t\t\t\textension = extension.toLowerCase();\r\n\r\n\t\t\t\tswitch (extension) {\r\n\r\n\t\t\t\t\tcase 'tga':\r\n\t\t\t\t\t\tloader = tgaLoader;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tloader = textureLoader;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn loader;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildMaterial(data) {\r\n\r\n\t\t\t\tconst effect = getEffect(data.url);\r\n\t\t\t\tconst technique = effect.profile.technique;\r\n\t\t\t\tconst extra = effect.profile.extra;\r\n\t\t\t\tlet material;\r\n\r\n\t\t\t\tswitch (technique.type) {\r\n\r\n\t\t\t\t\tcase 'phong':\r\n\t\t\t\t\tcase 'blinn':\r\n\t\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'lambert':\r\n\t\t\t\t\t\tmaterial = new THREE.MeshLambertMaterial();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tmaterial = new THREE.MeshBasicMaterial();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterial.name = data.name || '';\r\n\r\n\t\t\t\tfunction getTexture(textureObject) {\r\n\r\n\t\t\t\t\tconst sampler = effect.profile.samplers[textureObject.id];\r\n\t\t\t\t\tlet image = null; // get image\r\n\r\n\t\t\t\t\tif (sampler !== undefined) {\r\n\r\n\t\t\t\t\t\tconst surface = effect.profile.surfaces[sampler.source];\r\n\t\t\t\t\t\timage = getImage(surface.init_from);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530).');\r\n\t\t\t\t\t\timage = getImage(textureObject.id);\r\n\r\n\t\t\t\t\t} // create texture if image is avaiable\r\n\r\n\r\n\t\t\t\t\tif (image !== null) {\r\n\r\n\t\t\t\t\t\tconst loader = getTextureLoader(image);\r\n\r\n\t\t\t\t\t\tif (loader !== undefined) {\r\n\r\n\t\t\t\t\t\t\tconst texture = loader.load(image);\r\n\t\t\t\t\t\t\tconst extra = textureObject.extra;\r\n\r\n\t\t\t\t\t\t\tif (extra !== undefined && extra.technique !== undefined && isEmpty(extra.technique) === false) {\r\n\r\n\t\t\t\t\t\t\t\tconst technique = extra.technique;\r\n\t\t\t\t\t\t\t\ttexture.wrapS = technique.wrapU ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\r\n\t\t\t\t\t\t\t\ttexture.wrapT = technique.wrapV ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\r\n\t\t\t\t\t\t\t\ttexture.offset.set(technique.offsetU || 0, technique.offsetV || 0);\r\n\t\t\t\t\t\t\t\ttexture.repeat.set(technique.repeatU || 1, technique.repeatV || 1);\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\ttexture.wrapS = THREE.RepeatWrapping;\r\n\t\t\t\t\t\t\t\ttexture.wrapT = THREE.RepeatWrapping;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn texture;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: THREE.Loader for texture %s not found.', image);\r\n\t\t\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Couldn\\'t create texture with ID:', textureObject.id);\r\n\t\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst parameters = technique.parameters;\r\n\r\n\t\t\t\tfor (const key in parameters) {\r\n\r\n\t\t\t\t\tconst parameter = parameters[key];\r\n\r\n\t\t\t\t\tswitch (key) {\r\n\r\n\t\t\t\t\t\tcase 'diffuse':\r\n\t\t\t\t\t\t\tif (parameter.color) material.color.fromArray(parameter.color);\r\n\t\t\t\t\t\t\tif (parameter.texture) material.map = getTexture(parameter.texture);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'specular':\r\n\t\t\t\t\t\t\tif (parameter.color && material.specular) material.specular.fromArray(parameter.color);\r\n\t\t\t\t\t\t\tif (parameter.texture) material.specularMap = getTexture(parameter.texture);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'bump':\r\n\t\t\t\t\t\t\tif (parameter.texture) material.normalMap = getTexture(parameter.texture);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'ambient':\r\n\t\t\t\t\t\t\tif (parameter.texture) material.lightMap = getTexture(parameter.texture);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'shininess':\r\n\t\t\t\t\t\t\tif (parameter.float && material.shininess) material.shininess = parameter.float;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'emission':\r\n\t\t\t\t\t\t\tif (parameter.color && material.emissive) material.emissive.fromArray(parameter.color);\r\n\t\t\t\t\t\t\tif (parameter.texture) material.emissiveMap = getTexture(parameter.texture);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} //\r\n\r\n\r\n\t\t\t\tlet transparent = parameters['transparent'];\r\n\t\t\t\tlet transparency = parameters['transparency']; // <transparency> does not exist but <transparent>\r\n\r\n\t\t\t\tif (transparency === undefined && transparent) {\r\n\r\n\t\t\t\t\ttransparency = {\r\n\t\t\t\t\t\tfloat: 1\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t} // <transparent> does not exist but <transparency>\r\n\r\n\r\n\t\t\t\tif (transparent === undefined && transparency) {\r\n\r\n\t\t\t\t\ttransparent = {\r\n\t\t\t\t\t\topaque: 'A_ONE',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tcolor: [1, 1, 1, 1]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (transparent && transparency) {\r\n\r\n\t\t\t\t\t// handle case if a texture exists but no color\r\n\t\t\t\t\tif (transparent.data.texture) {\r\n\r\n\t\t\t\t\t\t// we do not set an alpha map (see #13792)\r\n\t\t\t\t\t\tmaterial.transparent = true;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconst color = transparent.data.color;\r\n\r\n\t\t\t\t\t\tswitch (transparent.opaque) {\r\n\r\n\t\t\t\t\t\t\tcase 'A_ONE':\r\n\t\t\t\t\t\t\t\tmaterial.opacity = color[3] * transparency.float;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 'RGB_ZERO':\r\n\t\t\t\t\t\t\t\tmaterial.opacity = 1 - color[0] * transparency.float;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 'A_ZERO':\r\n\t\t\t\t\t\t\t\tmaterial.opacity = 1 - color[3] * transparency.float;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 'RGB_ONE':\r\n\t\t\t\t\t\t\t\tmaterial.opacity = color[0] * transparency.float;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Invalid opaque type \"%s\" of transparent tag.', transparent.opaque);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (material.opacity < 1) material.transparent = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} //\r\n\r\n\r\n\t\t\t\tif (extra !== undefined && extra.technique !== undefined && extra.technique.double_sided === 1) {\r\n\r\n\t\t\t\t\tmaterial.side = THREE.DoubleSide;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn material;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getMaterial(id) {\r\n\r\n\t\t\t\treturn getBuild(library.materials[id], buildMaterial);\r\n\r\n\t\t\t} // camera\r\n\r\n\r\n\t\t\tfunction parseCamera(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tname: xml.getAttribute('name')\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'optics':\r\n\t\t\t\t\t\t\tdata.optics = parseCameraOptics(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlibrary.cameras[xml.getAttribute('id')] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseCameraOptics(xml) {\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'technique_common':\r\n\t\t\t\t\t\t\treturn parseCameraTechnique(child);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {};\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseCameraTechnique(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'perspective':\r\n\t\t\t\t\t\tcase 'orthographic':\r\n\t\t\t\t\t\t\tdata.technique = child.nodeName;\r\n\t\t\t\t\t\t\tdata.parameters = parseCameraParameters(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseCameraParameters(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'xfov':\r\n\t\t\t\t\t\tcase 'yfov':\r\n\t\t\t\t\t\tcase 'xmag':\r\n\t\t\t\t\t\tcase 'ymag':\r\n\t\t\t\t\t\tcase 'znear':\r\n\t\t\t\t\t\tcase 'zfar':\r\n\t\t\t\t\t\tcase 'aspect_ratio':\r\n\t\t\t\t\t\t\tdata[child.nodeName] = parseFloat(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildCamera(data) {\r\n\r\n\t\t\t\tlet camera;\r\n\r\n\t\t\t\tswitch (data.optics.technique) {\r\n\r\n\t\t\t\t\tcase 'perspective':\r\n\t\t\t\t\t\tcamera = new THREE.PerspectiveCamera(data.optics.parameters.yfov, data.optics.parameters.aspect_ratio, data.optics.parameters.znear, data.optics.parameters.zfar);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'orthographic':\r\n\t\t\t\t\t\tlet ymag = data.optics.parameters.ymag;\r\n\t\t\t\t\t\tlet xmag = data.optics.parameters.xmag;\r\n\t\t\t\t\t\tconst aspectRatio = data.optics.parameters.aspect_ratio;\r\n\t\t\t\t\t\txmag = xmag === undefined ? ymag * aspectRatio : xmag;\r\n\t\t\t\t\t\tymag = ymag === undefined ? xmag / aspectRatio : ymag;\r\n\t\t\t\t\t\txmag *= 0.5;\r\n\t\t\t\t\t\tymag *= 0.5;\r\n\t\t\t\t\t\tcamera = new THREE.OrthographicCamera(- xmag, xmag, ymag, - ymag, // left, right, top, bottom\r\n\t\t\t\t\t\t\tdata.optics.parameters.znear, data.optics.parameters.zfar);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tcamera = new THREE.PerspectiveCamera();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcamera.name = data.name || '';\r\n\t\t\t\treturn camera;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getCamera(id) {\r\n\r\n\t\t\t\tconst data = library.cameras[id];\r\n\r\n\t\t\t\tif (data !== undefined) {\r\n\r\n\t\t\t\t\treturn getBuild(data, buildCamera);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.warn('THREE.ColladaLoader: Couldn\\'t find camera with ID:', id);\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t} // light\r\n\r\n\r\n\t\t\tfunction parseLight(xml) {\r\n\r\n\t\t\t\tlet data = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'technique_common':\r\n\t\t\t\t\t\t\tdata = parseLightTechnique(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlibrary.lights[xml.getAttribute('id')] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseLightTechnique(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'directional':\r\n\t\t\t\t\t\tcase 'point':\r\n\t\t\t\t\t\tcase 'spot':\r\n\t\t\t\t\t\tcase 'ambient':\r\n\t\t\t\t\t\t\tdata.technique = child.nodeName;\r\n\t\t\t\t\t\t\tdata.parameters = parseLightParameters(child);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseLightParameters(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'color':\r\n\t\t\t\t\t\t\tconst array = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tdata.color = new THREE.Color().fromArray(array);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'falloff_angle':\r\n\t\t\t\t\t\t\tdata.falloffAngle = parseFloat(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'quadratic_attenuation':\r\n\t\t\t\t\t\t\tconst f = parseFloat(child.textContent);\r\n\t\t\t\t\t\t\tdata.distance = f ? Math.sqrt(1 / f) : 0;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildLight(data) {\r\n\r\n\t\t\t\tlet light;\r\n\r\n\t\t\t\tswitch (data.technique) {\r\n\r\n\t\t\t\t\tcase 'directional':\r\n\t\t\t\t\t\tlight = new THREE.DirectionalLight();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'point':\r\n\t\t\t\t\t\tlight = new THREE.PointLight();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'spot':\r\n\t\t\t\t\t\tlight = new THREE.SpotLight();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ambient':\r\n\t\t\t\t\t\tlight = new THREE.AmbientLight();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (data.parameters.color) light.color.copy(data.parameters.color);\r\n\t\t\t\tif (data.parameters.distance) light.distance = data.parameters.distance;\r\n\t\t\t\treturn light;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getLight(id) {\r\n\r\n\t\t\t\tconst data = library.lights[id];\r\n\r\n\t\t\t\tif (data !== undefined) {\r\n\r\n\t\t\t\t\treturn getBuild(data, buildLight);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.warn('THREE.ColladaLoader: Couldn\\'t find light with ID:', id);\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t} // geometry\r\n\r\n\r\n\t\t\tfunction parseGeometry(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tname: xml.getAttribute('name'),\r\n\t\t\t\t\tsources: {},\r\n\t\t\t\t\tvertices: {},\r\n\t\t\t\t\tprimitives: []\r\n\t\t\t\t};\r\n\t\t\t\tconst mesh = getElementsByTagName(xml, 'mesh')[0]; // the following tags inside geometry are not supported yet (see https://github.com/mrdoob/three.js/pull/12606): convex_mesh, spline, brep\r\n\r\n\t\t\t\tif (mesh === undefined) return;\r\n\r\n\t\t\t\tfor (let i = 0; i < mesh.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = mesh.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\t\t\t\t\tconst id = child.getAttribute('id');\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'source':\r\n\t\t\t\t\t\t\tdata.sources[id] = parseSource(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'vertices':\r\n\t\t\t\t\t\t\t// data.sources[ id ] = data.sources[ parseId( getElementsByTagName( child, 'input' )[ 0 ].getAttribute( 'source' ) ) ];\r\n\t\t\t\t\t\t\tdata.vertices = parseGeometryVertices(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'polygons':\r\n\t\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Unsupported primitive type: ', child.nodeName);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'lines':\r\n\t\t\t\t\t\tcase 'linestrips':\r\n\t\t\t\t\t\tcase 'polylist':\r\n\t\t\t\t\t\tcase 'triangles':\r\n\t\t\t\t\t\t\tdata.primitives.push(parseGeometryPrimitive(child));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.log(child);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlibrary.geometries[xml.getAttribute('id')] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseSource(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tarray: [],\r\n\t\t\t\t\tstride: 3\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'float_array':\r\n\t\t\t\t\t\t\tdata.array = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'Name_array':\r\n\t\t\t\t\t\t\tdata.array = parseStrings(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'technique_common':\r\n\t\t\t\t\t\t\tconst accessor = getElementsByTagName(child, 'accessor')[0];\r\n\r\n\t\t\t\t\t\t\tif (accessor !== undefined) {\r\n\r\n\t\t\t\t\t\t\t\tdata.stride = parseInt(accessor.getAttribute('stride'));\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseGeometryVertices(xml) {\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\t\t\t\t\tdata[child.getAttribute('semantic')] = parseId(child.getAttribute('source'));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseGeometryPrimitive(xml) {\r\n\r\n\t\t\t\tconst primitive = {\r\n\t\t\t\t\ttype: xml.nodeName,\r\n\t\t\t\t\tmaterial: xml.getAttribute('material'),\r\n\t\t\t\t\tcount: parseInt(xml.getAttribute('count')),\r\n\t\t\t\t\tinputs: {},\r\n\t\t\t\t\tstride: 0,\r\n\t\t\t\t\thasUV: false\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0, l = xml.childNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'input':\r\n\t\t\t\t\t\t\tconst id = parseId(child.getAttribute('source'));\r\n\t\t\t\t\t\t\tconst semantic = child.getAttribute('semantic');\r\n\t\t\t\t\t\t\tconst offset = parseInt(child.getAttribute('offset'));\r\n\t\t\t\t\t\t\tconst set = parseInt(child.getAttribute('set'));\r\n\t\t\t\t\t\t\tconst inputname = set > 0 ? semantic + set : semantic;\r\n\t\t\t\t\t\t\tprimitive.inputs[inputname] = {\r\n\t\t\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\t\t\toffset: offset\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tprimitive.stride = Math.max(primitive.stride, offset + 1);\r\n\t\t\t\t\t\t\tif (semantic === 'TEXCOORD') primitive.hasUV = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'vcount':\r\n\t\t\t\t\t\t\tprimitive.vcount = parseInts(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'p':\r\n\t\t\t\t\t\t\tprimitive.p = parseInts(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn primitive;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction groupPrimitives(primitives) {\r\n\r\n\t\t\t\tconst build = {};\r\n\r\n\t\t\t\tfor (let i = 0; i < primitives.length; i++) {\r\n\r\n\t\t\t\t\tconst primitive = primitives[i];\r\n\t\t\t\t\tif (build[primitive.type] === undefined) build[primitive.type] = [];\r\n\t\t\t\t\tbuild[primitive.type].push(primitive);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn build;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction checkUVCoordinates(primitives) {\r\n\r\n\t\t\t\tlet count = 0;\r\n\r\n\t\t\t\tfor (let i = 0, l = primitives.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst primitive = primitives[i];\r\n\r\n\t\t\t\t\tif (primitive.hasUV === true) {\r\n\r\n\t\t\t\t\t\tcount++;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (count > 0 && count < primitives.length) {\r\n\r\n\t\t\t\t\tprimitives.uvsNeedsFix = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildGeometry(data) {\r\n\r\n\t\t\t\tconst build = {};\r\n\t\t\t\tconst sources = data.sources;\r\n\t\t\t\tconst vertices = data.vertices;\r\n\t\t\t\tconst primitives = data.primitives;\r\n\t\t\t\tif (primitives.length === 0) return {}; // our goal is to create one buffer geometry for a single type of primitives\r\n\t\t\t\t// first, we group all primitives by their type\r\n\r\n\t\t\t\tconst groupedPrimitives = groupPrimitives(primitives);\r\n\r\n\t\t\t\tfor (const type in groupedPrimitives) {\r\n\r\n\t\t\t\t\tconst primitiveType = groupedPrimitives[type]; // second, ensure consistent uv coordinates for each type of primitives (polylist,triangles or lines)\r\n\r\n\t\t\t\t\tcheckUVCoordinates(primitiveType); // third, create a buffer geometry for each type of primitives\r\n\r\n\t\t\t\t\tbuild[type] = buildGeometryType(primitiveType, sources, vertices);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn build;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildGeometryType(primitives, sources, vertices) {\r\n\r\n\t\t\t\tconst build = {};\r\n\t\t\t\tconst position = {\r\n\t\t\t\t\tarray: [],\r\n\t\t\t\t\tstride: 0\r\n\t\t\t\t};\r\n\t\t\t\tconst normal = {\r\n\t\t\t\t\tarray: [],\r\n\t\t\t\t\tstride: 0\r\n\t\t\t\t};\r\n\t\t\t\tconst uv = {\r\n\t\t\t\t\tarray: [],\r\n\t\t\t\t\tstride: 0\r\n\t\t\t\t};\r\n\t\t\t\tconst uv2 = {\r\n\t\t\t\t\tarray: [],\r\n\t\t\t\t\tstride: 0\r\n\t\t\t\t};\r\n\t\t\t\tconst color = {\r\n\t\t\t\t\tarray: [],\r\n\t\t\t\t\tstride: 0\r\n\t\t\t\t};\r\n\t\t\t\tconst skinIndex = {\r\n\t\t\t\t\tarray: [],\r\n\t\t\t\t\tstride: 4\r\n\t\t\t\t};\r\n\t\t\t\tconst skinWeight = {\r\n\t\t\t\t\tarray: [],\r\n\t\t\t\t\tstride: 4\r\n\t\t\t\t};\r\n\t\t\t\tconst geometry = new THREE.BufferGeometry();\r\n\t\t\t\tconst materialKeys = [];\r\n\t\t\t\tlet start = 0;\r\n\r\n\t\t\t\tfor (let p = 0; p < primitives.length; p++) {\r\n\r\n\t\t\t\t\tconst primitive = primitives[p];\r\n\t\t\t\t\tconst inputs = primitive.inputs; // groups\r\n\r\n\t\t\t\t\tlet count = 0;\r\n\r\n\t\t\t\t\tswitch (primitive.type) {\r\n\r\n\t\t\t\t\t\tcase 'lines':\r\n\t\t\t\t\t\tcase 'linestrips':\r\n\t\t\t\t\t\t\tcount = primitive.count * 2;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'triangles':\r\n\t\t\t\t\t\t\tcount = primitive.count * 3;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'polylist':\r\n\t\t\t\t\t\t\tfor (let g = 0; g < primitive.count; g++) {\r\n\r\n\t\t\t\t\t\t\t\tconst vc = primitive.vcount[g];\r\n\r\n\t\t\t\t\t\t\t\tswitch (vc) {\r\n\r\n\t\t\t\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\t\t\t\tcount += 3; // single triangle\r\n\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t\t\t\t\tcount += 6; // quad, subdivided into two triangles\r\n\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\tcount += (vc - 2) * 3; // polylist with more than four vertices\r\n\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Unknow primitive type:', primitive.type);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgeometry.addGroup(start, count, p);\r\n\t\t\t\t\tstart += count; // material\r\n\r\n\t\t\t\t\tif (primitive.material) {\r\n\r\n\t\t\t\t\t\tmaterialKeys.push(primitive.material);\r\n\r\n\t\t\t\t\t} // geometry data\r\n\r\n\r\n\t\t\t\t\tfor (const name in inputs) {\r\n\r\n\t\t\t\t\t\tconst input = inputs[name];\r\n\r\n\t\t\t\t\t\tswitch (name) {\r\n\r\n\t\t\t\t\t\t\tcase 'VERTEX':\r\n\t\t\t\t\t\t\t\tfor (const key in vertices) {\r\n\r\n\t\t\t\t\t\t\t\t\tconst id = vertices[key];\r\n\r\n\t\t\t\t\t\t\t\t\tswitch (key) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'POSITION':\r\n\t\t\t\t\t\t\t\t\t\t\tconst prevLength = position.array.length;\r\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[id], input.offset, position.array);\r\n\t\t\t\t\t\t\t\t\t\t\tposition.stride = sources[id].stride;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif (sources.skinWeights && sources.skinIndices) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources.skinIndices, input.offset, skinIndex.array);\r\n\t\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources.skinWeights, input.offset, skinWeight.array);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t} // see #3803\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif (primitive.hasUV === false && primitives.uvsNeedsFix === true) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst count = (position.array.length - prevLength) / position.stride;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (let i = 0; i < count; i++) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// fill missing uv coordinates\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuv.array.push(0, 0);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'NORMAL':\r\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[id], input.offset, normal.array);\r\n\t\t\t\t\t\t\t\t\t\t\tnormal.stride = sources[id].stride;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'COLOR':\r\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[id], input.offset, color.array);\r\n\t\t\t\t\t\t\t\t\t\t\tcolor.stride = sources[id].stride;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'TEXCOORD':\r\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[id], input.offset, uv.array);\r\n\t\t\t\t\t\t\t\t\t\t\tuv.stride = sources[id].stride;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'TEXCOORD1':\r\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[id], input.offset, uv2.array);\r\n\t\t\t\t\t\t\t\t\t\t\tuv.stride = sources[id].stride;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Semantic \"%s\" not handled in geometry build process.', key);\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 'NORMAL':\r\n\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[input.id], input.offset, normal.array);\r\n\t\t\t\t\t\t\t\tnormal.stride = sources[input.id].stride;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 'COLOR':\r\n\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[input.id], input.offset, color.array);\r\n\t\t\t\t\t\t\t\tcolor.stride = sources[input.id].stride;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 'TEXCOORD':\r\n\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[input.id], input.offset, uv.array);\r\n\t\t\t\t\t\t\t\tuv.stride = sources[input.id].stride;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 'TEXCOORD1':\r\n\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[input.id], input.offset, uv2.array);\r\n\t\t\t\t\t\t\t\tuv2.stride = sources[input.id].stride;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // build geometry\r\n\r\n\r\n\t\t\t\tif (position.array.length > 0) geometry.setAttribute('position', new THREE.Float32BufferAttribute(position.array, position.stride));\r\n\t\t\t\tif (normal.array.length > 0) geometry.setAttribute('normal', new THREE.Float32BufferAttribute(normal.array, normal.stride));\r\n\t\t\t\tif (color.array.length > 0) geometry.setAttribute('color', new THREE.Float32BufferAttribute(color.array, color.stride));\r\n\t\t\t\tif (uv.array.length > 0) geometry.setAttribute('uv', new THREE.Float32BufferAttribute(uv.array, uv.stride));\r\n\t\t\t\tif (uv2.array.length > 0) geometry.setAttribute('uv2', new THREE.Float32BufferAttribute(uv2.array, uv2.stride));\r\n\t\t\t\tif (skinIndex.array.length > 0) geometry.setAttribute('skinIndex', new THREE.Float32BufferAttribute(skinIndex.array, skinIndex.stride));\r\n\t\t\t\tif (skinWeight.array.length > 0) geometry.setAttribute('skinWeight', new THREE.Float32BufferAttribute(skinWeight.array, skinWeight.stride));\r\n\t\t\t\tbuild.data = geometry;\r\n\t\t\t\tbuild.type = primitives[0].type;\r\n\t\t\t\tbuild.materialKeys = materialKeys;\r\n\t\t\t\treturn build;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildGeometryData(primitive, source, offset, array) {\r\n\r\n\t\t\t\tconst indices = primitive.p;\r\n\t\t\t\tconst stride = primitive.stride;\r\n\t\t\t\tconst vcount = primitive.vcount;\r\n\r\n\t\t\t\tfunction pushVector(i) {\r\n\r\n\t\t\t\t\tlet index = indices[i + offset] * sourceStride;\r\n\t\t\t\t\tconst length = index + sourceStride;\r\n\r\n\t\t\t\t\tfor (; index < length; index++) {\r\n\r\n\t\t\t\t\t\tarray.push(sourceArray[index]);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst sourceArray = source.array;\r\n\t\t\t\tconst sourceStride = source.stride;\r\n\r\n\t\t\t\tif (primitive.vcount !== undefined) {\r\n\r\n\t\t\t\t\tlet index = 0;\r\n\r\n\t\t\t\t\tfor (let i = 0, l = vcount.length; i < l; i++) {\r\n\r\n\t\t\t\t\t\tconst count = vcount[i];\r\n\r\n\t\t\t\t\t\tif (count === 4) {\r\n\r\n\t\t\t\t\t\t\tconst a = index + stride * 0;\r\n\t\t\t\t\t\t\tconst b = index + stride * 1;\r\n\t\t\t\t\t\t\tconst c = index + stride * 2;\r\n\t\t\t\t\t\t\tconst d = index + stride * 3;\r\n\t\t\t\t\t\t\tpushVector(a);\r\n\t\t\t\t\t\t\tpushVector(b);\r\n\t\t\t\t\t\t\tpushVector(d);\r\n\t\t\t\t\t\t\tpushVector(b);\r\n\t\t\t\t\t\t\tpushVector(c);\r\n\t\t\t\t\t\t\tpushVector(d);\r\n\r\n\t\t\t\t\t\t} else if (count === 3) {\r\n\r\n\t\t\t\t\t\t\tconst a = index + stride * 0;\r\n\t\t\t\t\t\t\tconst b = index + stride * 1;\r\n\t\t\t\t\t\t\tconst c = index + stride * 2;\r\n\t\t\t\t\t\t\tpushVector(a);\r\n\t\t\t\t\t\t\tpushVector(b);\r\n\t\t\t\t\t\t\tpushVector(c);\r\n\r\n\t\t\t\t\t\t} else if (count > 4) {\r\n\r\n\t\t\t\t\t\t\tfor (let k = 1, kl = count - 2; k <= kl; k++) {\r\n\r\n\t\t\t\t\t\t\t\tconst a = index + stride * 0;\r\n\t\t\t\t\t\t\t\tconst b = index + stride * k;\r\n\t\t\t\t\t\t\t\tconst c = index + stride * (k + 1);\r\n\t\t\t\t\t\t\t\tpushVector(a);\r\n\t\t\t\t\t\t\t\tpushVector(b);\r\n\t\t\t\t\t\t\t\tpushVector(c);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tindex += stride * count;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tfor (let i = 0, l = indices.length; i < l; i += stride) {\r\n\r\n\t\t\t\t\t\tpushVector(i);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getGeometry(id) {\r\n\r\n\t\t\t\treturn getBuild(library.geometries[id], buildGeometry);\r\n\r\n\t\t\t} // kinematics\r\n\r\n\r\n\t\t\tfunction parseKinematicsModel(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tname: xml.getAttribute('name') || '',\r\n\t\t\t\t\tjoints: {},\r\n\t\t\t\t\tlinks: []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'technique_common':\r\n\t\t\t\t\t\t\tparseKinematicsTechniqueCommon(child, data);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlibrary.kinematicsModels[xml.getAttribute('id')] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildKinematicsModel(data) {\r\n\r\n\t\t\t\tif (data.build !== undefined) return data.build;\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getKinematicsModel(id) {\r\n\r\n\t\t\t\treturn getBuild(library.kinematicsModels[id], buildKinematicsModel);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseKinematicsTechniqueCommon(xml, data) {\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'joint':\r\n\t\t\t\t\t\t\tdata.joints[child.getAttribute('sid')] = parseKinematicsJoint(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'link':\r\n\t\t\t\t\t\t\tdata.links.push(parseKinematicsLink(child));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseKinematicsJoint(xml) {\r\n\r\n\t\t\t\tlet data;\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'prismatic':\r\n\t\t\t\t\t\tcase 'revolute':\r\n\t\t\t\t\t\t\tdata = parseKinematicsJointParameter(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseKinematicsJointParameter(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tsid: xml.getAttribute('sid'),\r\n\t\t\t\t\tname: xml.getAttribute('name') || '',\r\n\t\t\t\t\taxis: new THREE.Vector3(),\r\n\t\t\t\t\tlimits: {\r\n\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\tmax: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: xml.nodeName,\r\n\t\t\t\t\tstatic: false,\r\n\t\t\t\t\tzeroPosition: 0,\r\n\t\t\t\t\tmiddlePosition: 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'axis':\r\n\t\t\t\t\t\t\tconst array = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tdata.axis.fromArray(array);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'limits':\r\n\t\t\t\t\t\t\tconst max = child.getElementsByTagName('max')[0];\r\n\t\t\t\t\t\t\tconst min = child.getElementsByTagName('min')[0];\r\n\t\t\t\t\t\t\tdata.limits.max = parseFloat(max.textContent);\r\n\t\t\t\t\t\t\tdata.limits.min = parseFloat(min.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // if min is equal to or greater than max, consider the joint static\r\n\r\n\r\n\t\t\t\tif (data.limits.min >= data.limits.max) {\r\n\r\n\t\t\t\t\tdata.static = true;\r\n\r\n\t\t\t\t} // calculate middle position\r\n\r\n\r\n\t\t\t\tdata.middlePosition = (data.limits.min + data.limits.max) / 2.0;\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseKinematicsLink(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tsid: xml.getAttribute('sid'),\r\n\t\t\t\t\tname: xml.getAttribute('name') || '',\r\n\t\t\t\t\tattachments: [],\r\n\t\t\t\t\ttransforms: []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'attachment_full':\r\n\t\t\t\t\t\t\tdata.attachments.push(parseKinematicsAttachment(child));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'matrix':\r\n\t\t\t\t\t\tcase 'translate':\r\n\t\t\t\t\t\tcase 'rotate':\r\n\t\t\t\t\t\t\tdata.transforms.push(parseKinematicsTransform(child));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseKinematicsAttachment(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tjoint: xml.getAttribute('joint').split('/').pop(),\r\n\t\t\t\t\ttransforms: [],\r\n\t\t\t\t\tlinks: []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'link':\r\n\t\t\t\t\t\t\tdata.links.push(parseKinematicsLink(child));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'matrix':\r\n\t\t\t\t\t\tcase 'translate':\r\n\t\t\t\t\t\tcase 'rotate':\r\n\t\t\t\t\t\t\tdata.transforms.push(parseKinematicsTransform(child));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseKinematicsTransform(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\ttype: xml.nodeName\r\n\t\t\t\t};\r\n\t\t\t\tconst array = parseFloats(xml.textContent);\r\n\r\n\t\t\t\tswitch (data.type) {\r\n\r\n\t\t\t\t\tcase 'matrix':\r\n\t\t\t\t\t\tdata.obj = new THREE.Matrix4();\r\n\t\t\t\t\t\tdata.obj.fromArray(array).transpose();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'translate':\r\n\t\t\t\t\t\tdata.obj = new THREE.Vector3();\r\n\t\t\t\t\t\tdata.obj.fromArray(array);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'rotate':\r\n\t\t\t\t\t\tdata.obj = new THREE.Vector3();\r\n\t\t\t\t\t\tdata.obj.fromArray(array);\r\n\t\t\t\t\t\tdata.angle = THREE.MathUtils.degToRad(array[3]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t} // physics\r\n\r\n\r\n\t\t\tfunction parsePhysicsModel(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tname: xml.getAttribute('name') || '',\r\n\t\t\t\t\trigidBodies: {}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'rigid_body':\r\n\t\t\t\t\t\t\tdata.rigidBodies[child.getAttribute('name')] = {};\r\n\t\t\t\t\t\t\tparsePhysicsRigidBody(child, data.rigidBodies[child.getAttribute('name')]);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlibrary.physicsModels[xml.getAttribute('id')] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parsePhysicsRigidBody(xml, data) {\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'technique_common':\r\n\t\t\t\t\t\t\tparsePhysicsTechniqueCommon(child, data);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parsePhysicsTechniqueCommon(xml, data) {\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'inertia':\r\n\t\t\t\t\t\t\tdata.inertia = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'mass':\r\n\t\t\t\t\t\t\tdata.mass = parseFloats(child.textContent)[0];\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} // scene\r\n\r\n\r\n\t\t\tfunction parseKinematicsScene(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tbindJointAxis: []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'bind_joint_axis':\r\n\t\t\t\t\t\t\tdata.bindJointAxis.push(parseKinematicsBindJointAxis(child));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlibrary.kinematicsScenes[parseId(xml.getAttribute('url'))] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseKinematicsBindJointAxis(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\ttarget: xml.getAttribute('target').split('/').pop()\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'axis':\r\n\t\t\t\t\t\t\tconst param = child.getElementsByTagName('param')[0];\r\n\t\t\t\t\t\t\tdata.axis = param.textContent;\r\n\t\t\t\t\t\t\tconst tmpJointIndex = data.axis.split('inst_').pop().split('axis')[0];\r\n\t\t\t\t\t\t\tdata.jointIndex = tmpJointIndex.substr(0, tmpJointIndex.length - 1);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildKinematicsScene(data) {\r\n\r\n\t\t\t\tif (data.build !== undefined) return data.build;\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getKinematicsScene(id) {\r\n\r\n\t\t\t\treturn getBuild(library.kinematicsScenes[id], buildKinematicsScene);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction setupKinematics() {\r\n\r\n\t\t\t\tconst kinematicsModelId = Object.keys(library.kinematicsModels)[0];\r\n\t\t\t\tconst kinematicsSceneId = Object.keys(library.kinematicsScenes)[0];\r\n\t\t\t\tconst visualSceneId = Object.keys(library.visualScenes)[0];\r\n\t\t\t\tif (kinematicsModelId === undefined || kinematicsSceneId === undefined) return;\r\n\t\t\t\tconst kinematicsModel = getKinematicsModel(kinematicsModelId);\r\n\t\t\t\tconst kinematicsScene = getKinematicsScene(kinematicsSceneId);\r\n\t\t\t\tconst visualScene = getVisualScene(visualSceneId);\r\n\t\t\t\tconst bindJointAxis = kinematicsScene.bindJointAxis;\r\n\t\t\t\tconst jointMap = {};\r\n\r\n\t\t\t\tfor (let i = 0, l = bindJointAxis.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst axis = bindJointAxis[i]; // the result of the following query is an element of type 'translate', 'rotate','scale' or 'matrix'\r\n\r\n\t\t\t\t\tconst targetElement = collada.querySelector('[sid=\"' + axis.target + '\"]');\r\n\r\n\t\t\t\t\tif (targetElement) {\r\n\r\n\t\t\t\t\t\t// get the parent of the transform element\r\n\t\t\t\t\t\tconst parentVisualElement = targetElement.parentElement; // connect the joint of the kinematics model with the element in the visual scene\r\n\r\n\t\t\t\t\t\tconnect(axis.jointIndex, parentVisualElement);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction connect(jointIndex, visualElement) {\r\n\r\n\t\t\t\t\tconst visualElementName = visualElement.getAttribute('name');\r\n\t\t\t\t\tconst joint = kinematicsModel.joints[jointIndex];\r\n\t\t\t\t\tvisualScene.traverse(function (object) {\r\n\r\n\t\t\t\t\t\tif (object.name === visualElementName) {\r\n\r\n\t\t\t\t\t\t\tjointMap[jointIndex] = {\r\n\t\t\t\t\t\t\t\tobject: object,\r\n\t\t\t\t\t\t\t\ttransforms: buildTransformList(visualElement),\r\n\t\t\t\t\t\t\t\tjoint: joint,\r\n\t\t\t\t\t\t\t\tposition: joint.zeroPosition\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst m0 = new THREE.Matrix4();\r\n\t\t\t\tkinematics = {\r\n\t\t\t\t\tjoints: kinematicsModel && kinematicsModel.joints,\r\n\t\t\t\t\tgetJointValue: function (jointIndex) {\r\n\r\n\t\t\t\t\t\tconst jointData = jointMap[jointIndex];\r\n\r\n\t\t\t\t\t\tif (jointData) {\r\n\r\n\t\t\t\t\t\t\treturn jointData.position;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Joint ' + jointIndex + ' doesn\\'t exist.');\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsetJointValue: function (jointIndex, value) {\r\n\r\n\t\t\t\t\t\tconst jointData = jointMap[jointIndex];\r\n\r\n\t\t\t\t\t\tif (jointData) {\r\n\r\n\t\t\t\t\t\t\tconst joint = jointData.joint;\r\n\r\n\t\t\t\t\t\t\tif (value > joint.limits.max || value < joint.limits.min) {\r\n\r\n\t\t\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Joint ' + jointIndex + ' value ' + value + ' outside of limits (min: ' + joint.limits.min + ', max: ' + joint.limits.max + ').');\r\n\r\n\t\t\t\t\t\t\t} else if (joint.static) {\r\n\r\n\t\t\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Joint ' + jointIndex + ' is static.');\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tconst object = jointData.object;\r\n\t\t\t\t\t\t\t\tconst axis = joint.axis;\r\n\t\t\t\t\t\t\t\tconst transforms = jointData.transforms;\r\n\t\t\t\t\t\t\t\tmatrix.identity(); // each update, we have to apply all transforms in the correct order\r\n\r\n\t\t\t\t\t\t\t\tfor (let i = 0; i < transforms.length; i++) {\r\n\r\n\t\t\t\t\t\t\t\t\tconst transform = transforms[i]; // if there is a connection of the transform node with a joint, apply the joint value\r\n\r\n\t\t\t\t\t\t\t\t\tif (transform.sid && transform.sid.indexOf(jointIndex) !== - 1) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tswitch (joint.type) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tcase 'revolute':\r\n\t\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply(m0.makeRotationAxis(axis, THREE.MathUtils.degToRad(value)));\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tcase 'prismatic':\r\n\t\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply(m0.makeTranslation(axis.x * value, axis.y * value, axis.z * value));\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Unknown joint type: ' + joint.type);\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\t\tswitch (transform.type) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tcase 'matrix':\r\n\t\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply(transform.obj);\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tcase 'translate':\r\n\t\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply(m0.makeTranslation(transform.obj.x, transform.obj.y, transform.obj.z));\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tcase 'scale':\r\n\t\t\t\t\t\t\t\t\t\t\t\tmatrix.scale(transform.obj);\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tcase 'rotate':\r\n\t\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply(m0.makeRotationAxis(transform.obj, transform.angle));\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tobject.matrix.copy(matrix);\r\n\t\t\t\t\t\t\t\tobject.matrix.decompose(object.position, object.quaternion, object.scale);\r\n\t\t\t\t\t\t\t\tjointMap[jointIndex].position = value;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tconsole.log('THREE.ColladaLoader: ' + jointIndex + ' does not exist.');\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildTransformList(node) {\r\n\r\n\t\t\t\tconst transforms = [];\r\n\t\t\t\tconst xml = collada.querySelector('[id=\"' + node.id + '\"]');\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\t\t\t\t\tlet array, vector;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'matrix':\r\n\t\t\t\t\t\t\tarray = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tconst matrix = new THREE.Matrix4().fromArray(array).transpose();\r\n\t\t\t\t\t\t\ttransforms.push({\r\n\t\t\t\t\t\t\t\tsid: child.getAttribute('sid'),\r\n\t\t\t\t\t\t\t\ttype: child.nodeName,\r\n\t\t\t\t\t\t\t\tobj: matrix\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'translate':\r\n\t\t\t\t\t\tcase 'scale':\r\n\t\t\t\t\t\t\tarray = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tvector = new THREE.Vector3().fromArray(array);\r\n\t\t\t\t\t\t\ttransforms.push({\r\n\t\t\t\t\t\t\t\tsid: child.getAttribute('sid'),\r\n\t\t\t\t\t\t\t\ttype: child.nodeName,\r\n\t\t\t\t\t\t\t\tobj: vector\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'rotate':\r\n\t\t\t\t\t\t\tarray = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tvector = new THREE.Vector3().fromArray(array);\r\n\t\t\t\t\t\t\tconst angle = THREE.MathUtils.degToRad(array[3]);\r\n\t\t\t\t\t\t\ttransforms.push({\r\n\t\t\t\t\t\t\t\tsid: child.getAttribute('sid'),\r\n\t\t\t\t\t\t\t\ttype: child.nodeName,\r\n\t\t\t\t\t\t\t\tobj: vector,\r\n\t\t\t\t\t\t\t\tangle: angle\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn transforms;\r\n\r\n\t\t\t} // nodes\r\n\r\n\r\n\t\t\tfunction prepareNodes(xml) {\r\n\r\n\t\t\t\tconst elements = xml.getElementsByTagName('node'); // ensure all node elements have id attributes\r\n\r\n\t\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\t\tconst element = elements[i];\r\n\r\n\t\t\t\t\tif (element.hasAttribute('id') === false) {\r\n\r\n\t\t\t\t\t\telement.setAttribute('id', generateId());\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst matrix = new THREE.Matrix4();\r\n\t\t\tconst vector = new THREE.Vector3();\r\n\r\n\t\t\tfunction parseNode(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tname: xml.getAttribute('name') || '',\r\n\t\t\t\t\ttype: xml.getAttribute('type'),\r\n\t\t\t\t\tid: xml.getAttribute('id'),\r\n\t\t\t\t\tsid: xml.getAttribute('sid'),\r\n\t\t\t\t\tmatrix: new THREE.Matrix4(),\r\n\t\t\t\t\tnodes: [],\r\n\t\t\t\t\tinstanceCameras: [],\r\n\t\t\t\t\tinstanceControllers: [],\r\n\t\t\t\t\tinstanceLights: [],\r\n\t\t\t\t\tinstanceGeometries: [],\r\n\t\t\t\t\tinstanceNodes: [],\r\n\t\t\t\t\ttransforms: {}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\t\t\t\t\tif (child.nodeType !== 1) continue;\r\n\t\t\t\t\tlet array;\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'node':\r\n\t\t\t\t\t\t\tdata.nodes.push(child.getAttribute('id'));\r\n\t\t\t\t\t\t\tparseNode(child);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'instance_camera':\r\n\t\t\t\t\t\t\tdata.instanceCameras.push(parseId(child.getAttribute('url')));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'instance_controller':\r\n\t\t\t\t\t\t\tdata.instanceControllers.push(parseNodeInstance(child));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'instance_light':\r\n\t\t\t\t\t\t\tdata.instanceLights.push(parseId(child.getAttribute('url')));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'instance_geometry':\r\n\t\t\t\t\t\t\tdata.instanceGeometries.push(parseNodeInstance(child));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'instance_node':\r\n\t\t\t\t\t\t\tdata.instanceNodes.push(parseId(child.getAttribute('url')));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'matrix':\r\n\t\t\t\t\t\t\tarray = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tdata.matrix.multiply(matrix.fromArray(array).transpose());\r\n\t\t\t\t\t\t\tdata.transforms[child.getAttribute('sid')] = child.nodeName;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'translate':\r\n\t\t\t\t\t\t\tarray = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tvector.fromArray(array);\r\n\t\t\t\t\t\t\tdata.matrix.multiply(matrix.makeTranslation(vector.x, vector.y, vector.z));\r\n\t\t\t\t\t\t\tdata.transforms[child.getAttribute('sid')] = child.nodeName;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'rotate':\r\n\t\t\t\t\t\t\tarray = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tconst angle = THREE.MathUtils.degToRad(array[3]);\r\n\t\t\t\t\t\t\tdata.matrix.multiply(matrix.makeRotationAxis(vector.fromArray(array), angle));\r\n\t\t\t\t\t\t\tdata.transforms[child.getAttribute('sid')] = child.nodeName;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'scale':\r\n\t\t\t\t\t\t\tarray = parseFloats(child.textContent);\r\n\t\t\t\t\t\t\tdata.matrix.scale(vector.fromArray(array));\r\n\t\t\t\t\t\t\tdata.transforms[child.getAttribute('sid')] = child.nodeName;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'extra':\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.log(child);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (hasNode(data.id)) {\r\n\r\n\t\t\t\t\tconsole.warn('THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.', data.id);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tlibrary.nodes[data.id] = data;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseNodeInstance(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tid: parseId(xml.getAttribute('url')),\r\n\t\t\t\t\tmaterials: {},\r\n\t\t\t\t\tskeletons: []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let i = 0; i < xml.childNodes.length; i++) {\r\n\r\n\t\t\t\t\tconst child = xml.childNodes[i];\r\n\r\n\t\t\t\t\tswitch (child.nodeName) {\r\n\r\n\t\t\t\t\t\tcase 'bind_material':\r\n\t\t\t\t\t\t\tconst instances = child.getElementsByTagName('instance_material');\r\n\r\n\t\t\t\t\t\t\tfor (let j = 0; j < instances.length; j++) {\r\n\r\n\t\t\t\t\t\t\t\tconst instance = instances[j];\r\n\t\t\t\t\t\t\t\tconst symbol = instance.getAttribute('symbol');\r\n\t\t\t\t\t\t\t\tconst target = instance.getAttribute('target');\r\n\t\t\t\t\t\t\t\tdata.materials[symbol] = parseId(target);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'skeleton':\r\n\t\t\t\t\t\t\tdata.skeletons.push(parseId(child.textContent));\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildSkeleton(skeletons, joints) {\r\n\r\n\t\t\t\tconst boneData = [];\r\n\t\t\t\tconst sortedBoneData = [];\r\n\t\t\t\tlet i, j, data; // a skeleton can have multiple root bones. collada expresses this\r\n\t\t\t\t// situtation with multiple \"skeleton\" tags per controller instance\r\n\r\n\t\t\t\tfor (i = 0; i < skeletons.length; i++) {\r\n\r\n\t\t\t\t\tconst skeleton = skeletons[i];\r\n\t\t\t\t\tlet root;\r\n\r\n\t\t\t\t\tif (hasNode(skeleton)) {\r\n\r\n\t\t\t\t\t\troot = getNode(skeleton);\r\n\t\t\t\t\t\tbuildBoneHierarchy(root, joints, boneData);\r\n\r\n\t\t\t\t\t} else if (hasVisualScene(skeleton)) {\r\n\r\n\t\t\t\t\t\t// handle case where the skeleton refers to the visual scene (#13335)\r\n\t\t\t\t\t\tconst visualScene = library.visualScenes[skeleton];\r\n\t\t\t\t\t\tconst children = visualScene.children;\r\n\r\n\t\t\t\t\t\tfor (let j = 0; j < children.length; j++) {\r\n\r\n\t\t\t\t\t\t\tconst child = children[j];\r\n\r\n\t\t\t\t\t\t\tif (child.type === 'JOINT') {\r\n\r\n\t\t\t\t\t\t\t\tconst root = getNode(child.id);\r\n\t\t\t\t\t\t\t\tbuildBoneHierarchy(root, joints, boneData);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.error('THREE.ColladaLoader: Unable to find root bone of skeleton with ID:', skeleton);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // sort bone data (the order is defined in the corresponding controller)\r\n\r\n\r\n\t\t\t\tfor (i = 0; i < joints.length; i++) {\r\n\r\n\t\t\t\t\tfor (j = 0; j < boneData.length; j++) {\r\n\r\n\t\t\t\t\t\tdata = boneData[j];\r\n\r\n\t\t\t\t\t\tif (data.bone.name === joints[i].name) {\r\n\r\n\t\t\t\t\t\t\tsortedBoneData[i] = data;\r\n\t\t\t\t\t\t\tdata.processed = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // add unprocessed bone data at the end of the list\r\n\r\n\r\n\t\t\t\tfor (i = 0; i < boneData.length; i++) {\r\n\r\n\t\t\t\t\tdata = boneData[i];\r\n\r\n\t\t\t\t\tif (data.processed === false) {\r\n\r\n\t\t\t\t\t\tsortedBoneData.push(data);\r\n\t\t\t\t\t\tdata.processed = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // setup arrays for skeleton creation\r\n\r\n\r\n\t\t\t\tconst bones = [];\r\n\t\t\t\tconst boneInverses = [];\r\n\r\n\t\t\t\tfor (i = 0; i < sortedBoneData.length; i++) {\r\n\r\n\t\t\t\t\tdata = sortedBoneData[i];\r\n\t\t\t\t\tbones.push(data.bone);\r\n\t\t\t\t\tboneInverses.push(data.boneInverse);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn new THREE.Skeleton(bones, boneInverses);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildBoneHierarchy(root, joints, boneData) {\r\n\r\n\t\t\t\t// setup bone data from visual scene\r\n\t\t\t\troot.traverse(function (object) {\r\n\r\n\t\t\t\t\tif (object.isBone === true) {\r\n\r\n\t\t\t\t\t\tlet boneInverse; // retrieve the boneInverse from the controller data\r\n\r\n\t\t\t\t\t\tfor (let i = 0; i < joints.length; i++) {\r\n\r\n\t\t\t\t\t\t\tconst joint = joints[i];\r\n\r\n\t\t\t\t\t\t\tif (joint.name === object.name) {\r\n\r\n\t\t\t\t\t\t\t\tboneInverse = joint.boneInverse;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (boneInverse === undefined) {\r\n\r\n\t\t\t\t\t\t\t// Unfortunately, there can be joints in the visual scene that are not part of the\r\n\t\t\t\t\t\t\t// corresponding controller. In this case, we have to create a dummy boneInverse matrix\r\n\t\t\t\t\t\t\t// for the respective bone. This bone won't affect any vertices, because there are no skin indices\r\n\t\t\t\t\t\t\t// and weights defined for it. But we still have to add the bone to the sorted bone list in order to\r\n\t\t\t\t\t\t\t// ensure a correct animation of the model.\r\n\t\t\t\t\t\t\tboneInverse = new THREE.Matrix4();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tboneData.push({\r\n\t\t\t\t\t\t\tbone: object,\r\n\t\t\t\t\t\t\tboneInverse: boneInverse,\r\n\t\t\t\t\t\t\tprocessed: false\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildNode(data) {\r\n\r\n\t\t\t\tconst objects = [];\r\n\t\t\t\tconst matrix = data.matrix;\r\n\t\t\t\tconst nodes = data.nodes;\r\n\t\t\t\tconst type = data.type;\r\n\t\t\t\tconst instanceCameras = data.instanceCameras;\r\n\t\t\t\tconst instanceControllers = data.instanceControllers;\r\n\t\t\t\tconst instanceLights = data.instanceLights;\r\n\t\t\t\tconst instanceGeometries = data.instanceGeometries;\r\n\t\t\t\tconst instanceNodes = data.instanceNodes; // nodes\r\n\r\n\t\t\t\tfor (let i = 0, l = nodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tobjects.push(getNode(nodes[i]));\r\n\r\n\t\t\t\t} // instance cameras\r\n\r\n\r\n\t\t\t\tfor (let i = 0, l = instanceCameras.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst instanceCamera = getCamera(instanceCameras[i]);\r\n\r\n\t\t\t\t\tif (instanceCamera !== null) {\r\n\r\n\t\t\t\t\t\tobjects.push(instanceCamera.clone());\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // instance controllers\r\n\r\n\r\n\t\t\t\tfor (let i = 0, l = instanceControllers.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst instance = instanceControllers[i];\r\n\t\t\t\t\tconst controller = getController(instance.id);\r\n\t\t\t\t\tconst geometries = getGeometry(controller.id);\r\n\t\t\t\t\tconst newObjects = buildObjects(geometries, instance.materials);\r\n\t\t\t\t\tconst skeletons = instance.skeletons;\r\n\t\t\t\t\tconst joints = controller.skin.joints;\r\n\t\t\t\t\tconst skeleton = buildSkeleton(skeletons, joints);\r\n\r\n\t\t\t\t\tfor (let j = 0, jl = newObjects.length; j < jl; j++) {\r\n\r\n\t\t\t\t\t\tconst object = newObjects[j];\r\n\r\n\t\t\t\t\t\tif (object.isSkinnedMesh) {\r\n\r\n\t\t\t\t\t\t\tobject.bind(skeleton, controller.skin.bindMatrix);\r\n\t\t\t\t\t\t\tobject.normalizeSkinWeights();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tobjects.push(object);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // instance lights\r\n\r\n\r\n\t\t\t\tfor (let i = 0, l = instanceLights.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst instanceLight = getLight(instanceLights[i]);\r\n\r\n\t\t\t\t\tif (instanceLight !== null) {\r\n\r\n\t\t\t\t\t\tobjects.push(instanceLight.clone());\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // instance geometries\r\n\r\n\r\n\t\t\t\tfor (let i = 0, l = instanceGeometries.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst instance = instanceGeometries[i]; // a single geometry instance in collada can lead to multiple object3Ds.\r\n\t\t\t\t\t// this is the case when primitives are combined like triangles and lines\r\n\r\n\t\t\t\t\tconst geometries = getGeometry(instance.id);\r\n\t\t\t\t\tconst newObjects = buildObjects(geometries, instance.materials);\r\n\r\n\t\t\t\t\tfor (let j = 0, jl = newObjects.length; j < jl; j++) {\r\n\r\n\t\t\t\t\t\tobjects.push(newObjects[j]);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // instance nodes\r\n\r\n\r\n\t\t\t\tfor (let i = 0, l = instanceNodes.length; i < l; i++) {\r\n\r\n\t\t\t\t\tobjects.push(getNode(instanceNodes[i]).clone());\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet object;\r\n\r\n\t\t\t\tif (nodes.length === 0 && objects.length === 1) {\r\n\r\n\t\t\t\t\tobject = objects[0];\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tobject = type === 'JOINT' ? new THREE.Bone() : new THREE.Group();\r\n\r\n\t\t\t\t\tfor (let i = 0; i < objects.length; i++) {\r\n\r\n\t\t\t\t\t\tobject.add(objects[i]);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tobject.name = type === 'JOINT' ? data.sid : data.name;\r\n\t\t\t\tobject.matrix.copy(matrix);\r\n\t\t\t\tobject.matrix.decompose(object.position, object.quaternion, object.scale);\r\n\t\t\t\treturn object;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst fallbackMaterial = new THREE.MeshBasicMaterial({\r\n\t\t\t\tcolor: 0xff00ff\r\n\t\t\t});\r\n\r\n\t\t\tfunction resolveMaterialBinding(keys, instanceMaterials) {\r\n\r\n\t\t\t\tconst materials = [];\r\n\r\n\t\t\t\tfor (let i = 0, l = keys.length; i < l; i++) {\r\n\r\n\t\t\t\t\tconst id = instanceMaterials[keys[i]];\r\n\r\n\t\t\t\t\tif (id === undefined) {\r\n\r\n\t\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Material with key %s not found. Apply fallback material.', keys[i]);\r\n\t\t\t\t\t\tmaterials.push(fallbackMaterial);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmaterials.push(getMaterial(id));\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn materials;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildObjects(geometries, instanceMaterials) {\r\n\r\n\t\t\t\tconst objects = [];\r\n\r\n\t\t\t\tfor (const type in geometries) {\r\n\r\n\t\t\t\t\tconst geometry = geometries[type];\r\n\t\t\t\t\tconst materials = resolveMaterialBinding(geometry.materialKeys, instanceMaterials); // handle case if no materials are defined\r\n\r\n\t\t\t\t\tif (materials.length === 0) {\r\n\r\n\t\t\t\t\t\tif (type === 'lines' || type === 'linestrips') {\r\n\r\n\t\t\t\t\t\t\tmaterials.push(new THREE.LineBasicMaterial());\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tmaterials.push(new THREE.MeshPhongMaterial());\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} // regard skinning\r\n\r\n\r\n\t\t\t\t\tconst skinning = geometry.data.attributes.skinIndex !== undefined; // choose between a single or multi materials (material array)\r\n\r\n\t\t\t\t\tconst material = materials.length === 1 ? materials[0] : materials; // now create a specific 3D object\r\n\r\n\t\t\t\t\tlet object;\r\n\r\n\t\t\t\t\tswitch (type) {\r\n\r\n\t\t\t\t\t\tcase 'lines':\r\n\t\t\t\t\t\t\tobject = new THREE.LineSegments(geometry.data, material);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'linestrips':\r\n\t\t\t\t\t\t\tobject = new THREE.Line(geometry.data, material);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'triangles':\r\n\t\t\t\t\t\tcase 'polylist':\r\n\t\t\t\t\t\t\tif (skinning) {\r\n\r\n\t\t\t\t\t\t\t\tobject = new THREE.SkinnedMesh(geometry.data, material);\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tobject = new THREE.Mesh(geometry.data, material);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tobjects.push(object);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn objects;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction hasNode(id) {\r\n\r\n\t\t\t\treturn library.nodes[id] !== undefined;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getNode(id) {\r\n\r\n\t\t\t\treturn getBuild(library.nodes[id], buildNode);\r\n\r\n\t\t\t} // visual scenes\r\n\r\n\r\n\t\t\tfunction parseVisualScene(xml) {\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tname: xml.getAttribute('name'),\r\n\t\t\t\t\tchildren: []\r\n\t\t\t\t};\r\n\t\t\t\tprepareNodes(xml);\r\n\t\t\t\tconst elements = getElementsByTagName(xml, 'node');\r\n\r\n\t\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\t\tdata.children.push(parseNode(elements[i]));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlibrary.visualScenes[xml.getAttribute('id')] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction buildVisualScene(data) {\r\n\r\n\t\t\t\tconst group = new THREE.Group();\r\n\t\t\t\tgroup.name = data.name;\r\n\t\t\t\tconst children = data.children;\r\n\r\n\t\t\t\tfor (let i = 0; i < children.length; i++) {\r\n\r\n\t\t\t\t\tconst child = children[i];\r\n\t\t\t\t\tgroup.add(getNode(child.id));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn group;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction hasVisualScene(id) {\r\n\r\n\t\t\t\treturn library.visualScenes[id] !== undefined;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getVisualScene(id) {\r\n\r\n\t\t\t\treturn getBuild(library.visualScenes[id], buildVisualScene);\r\n\r\n\t\t\t} // scenes\r\n\r\n\r\n\t\t\tfunction parseScene(xml) {\r\n\r\n\t\t\t\tconst instance = getElementsByTagName(xml, 'instance_visual_scene')[0];\r\n\t\t\t\treturn getVisualScene(parseId(instance.getAttribute('url')));\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction setupAnimations() {\r\n\r\n\t\t\t\tconst clips = library.clips;\r\n\r\n\t\t\t\tif (isEmpty(clips) === true) {\r\n\r\n\t\t\t\t\tif (isEmpty(library.animations) === false) {\r\n\r\n\t\t\t\t\t\t// if there are animations but no clips, we create a default clip for playback\r\n\t\t\t\t\t\tconst tracks = [];\r\n\r\n\t\t\t\t\t\tfor (const id in library.animations) {\r\n\r\n\t\t\t\t\t\t\tconst animationTracks = getAnimation(id);\r\n\r\n\t\t\t\t\t\t\tfor (let i = 0, l = animationTracks.length; i < l; i++) {\r\n\r\n\t\t\t\t\t\t\t\ttracks.push(animationTracks[i]);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tanimations.push(new THREE.AnimationClip('default', - 1, tracks));\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tfor (const id in clips) {\r\n\r\n\t\t\t\t\t\tanimations.push(getAnimationClip(id));\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} // convert the parser error element into text with each child elements text\r\n\t\t\t// separated by new lines.\r\n\r\n\r\n\t\t\tfunction parserErrorToText(parserError) {\r\n\r\n\t\t\t\tlet result = '';\r\n\t\t\t\tconst stack = [parserError];\r\n\r\n\t\t\t\twhile (stack.length) {\r\n\r\n\t\t\t\t\tconst node = stack.shift();\r\n\r\n\t\t\t\t\tif (node.nodeType === Node.TEXT_NODE) {\r\n\r\n\t\t\t\t\t\tresult += node.textContent;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tresult += '\\n';\r\n\t\t\t\t\t\tstack.push.apply(stack, node.childNodes);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn result.trim();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (text.length === 0) {\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tscene: new THREE.Scene()\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst xml = new DOMParser().parseFromString(text, 'application/xml');\r\n\t\t\tconst collada = getElementsByTagName(xml, 'COLLADA')[0];\r\n\t\t\tconst parserError = xml.getElementsByTagName('parsererror')[0];\r\n\r\n\t\t\tif (parserError !== undefined) {\r\n\r\n\t\t\t\t// Chrome will return parser error with a div in it\r\n\t\t\t\tconst errorElement = getElementsByTagName(parserError, 'div')[0];\r\n\t\t\t\tlet errorText;\r\n\r\n\t\t\t\tif (errorElement) {\r\n\r\n\t\t\t\t\terrorText = errorElement.textContent;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\terrorText = parserErrorToText(parserError);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.error('THREE.ColladaLoader: Failed to parse collada file.\\n', errorText);\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t} // metadata\r\n\r\n\r\n\t\t\tconst version = collada.getAttribute('version');\r\n\t\t\tconsole.log('THREE.ColladaLoader: File version', version);\r\n\t\t\tconst asset = parseAsset(getElementsByTagName(collada, 'asset')[0]);\r\n\t\t\tconst textureLoader = new THREE.TextureLoader(this.manager);\r\n\t\t\ttextureLoader.setPath(this.resourcePath || path).setCrossOrigin(this.crossOrigin);\r\n\t\t\tlet tgaLoader;\r\n\r\n\t\t\tif (THREE.TGALoader) {\r\n\r\n\t\t\t\ttgaLoader = new THREE.TGALoader(this.manager);\r\n\t\t\t\ttgaLoader.setPath(this.resourcePath || path);\r\n\r\n\t\t\t} //\r\n\r\n\r\n\t\t\tconst animations = [];\r\n\t\t\tlet kinematics = {};\r\n\t\t\tlet count = 0; //\r\n\r\n\t\t\tconst library = {\r\n\t\t\t\tanimations: {},\r\n\t\t\t\tclips: {},\r\n\t\t\t\tcontrollers: {},\r\n\t\t\t\timages: {},\r\n\t\t\t\teffects: {},\r\n\t\t\t\tmaterials: {},\r\n\t\t\t\tcameras: {},\r\n\t\t\t\tlights: {},\r\n\t\t\t\tgeometries: {},\r\n\t\t\t\tnodes: {},\r\n\t\t\t\tvisualScenes: {},\r\n\t\t\t\tkinematicsModels: {},\r\n\t\t\t\tphysicsModels: {},\r\n\t\t\t\tkinematicsScenes: {}\r\n\t\t\t};\r\n\t\t\tparseLibrary(collada, 'library_animations', 'animation', parseAnimation);\r\n\t\t\tparseLibrary(collada, 'library_animation_clips', 'animation_clip', parseAnimationClip);\r\n\t\t\tparseLibrary(collada, 'library_controllers', 'controller', parseController);\r\n\t\t\tparseLibrary(collada, 'library_images', 'image', parseImage);\r\n\t\t\tparseLibrary(collada, 'library_effects', 'effect', parseEffect);\r\n\t\t\tparseLibrary(collada, 'library_materials', 'material', parseMaterial);\r\n\t\t\tparseLibrary(collada, 'library_cameras', 'camera', parseCamera);\r\n\t\t\tparseLibrary(collada, 'library_lights', 'light', parseLight);\r\n\t\t\tparseLibrary(collada, 'library_geometries', 'geometry', parseGeometry);\r\n\t\t\tparseLibrary(collada, 'library_nodes', 'node', parseNode);\r\n\t\t\tparseLibrary(collada, 'library_visual_scenes', 'visual_scene', parseVisualScene);\r\n\t\t\tparseLibrary(collada, 'library_kinematics_models', 'kinematics_model', parseKinematicsModel);\r\n\t\t\tparseLibrary(collada, 'library_physics_models', 'physics_model', parsePhysicsModel);\r\n\t\t\tparseLibrary(collada, 'scene', 'instance_kinematics_scene', parseKinematicsScene);\r\n\t\t\tbuildLibrary(library.animations, buildAnimation);\r\n\t\t\tbuildLibrary(library.clips, buildAnimationClip);\r\n\t\t\tbuildLibrary(library.controllers, buildController);\r\n\t\t\tbuildLibrary(library.images, buildImage);\r\n\t\t\tbuildLibrary(library.effects, buildEffect);\r\n\t\t\tbuildLibrary(library.materials, buildMaterial);\r\n\t\t\tbuildLibrary(library.cameras, buildCamera);\r\n\t\t\tbuildLibrary(library.lights, buildLight);\r\n\t\t\tbuildLibrary(library.geometries, buildGeometry);\r\n\t\t\tbuildLibrary(library.visualScenes, buildVisualScene);\r\n\t\t\tsetupAnimations();\r\n\t\t\tsetupKinematics();\r\n\t\t\tconst scene = parseScene(getElementsByTagName(collada, 'scene')[0]);\r\n\t\t\tscene.animations = animations;\r\n\r\n\t\t\tif (asset.upAxis === 'Z_UP') {\r\n\r\n\t\t\t\tscene.quaternion.setFromEuler(new THREE.Euler(- Math.PI / 2, 0, 0));\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscene.scale.multiplyScalar(asset.unit);\r\n\t\t\treturn {\r\n\t\t\t\tget animations() {\r\n\r\n\t\t\t\t\tconsole.warn('THREE.ColladaLoader: Please access animations over scene.animations now.');\r\n\t\t\t\t\treturn animations;\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tkinematics: kinematics,\r\n\t\t\t\tlibrary: library,\r\n\t\t\t\tscene: scene\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tTHREE.ColladaLoader = ColladaLoader;\r\n\r\n})();\r\n\r\nmodule.exports = exports = THREE.ColladaLoader;\r\n", "/**\r\n * @author peterqliu / https://github.com/peterqliu\r\n * @author jscastro / https://github.com/jscastro76\r\n */\r\nconst utils = require(\"../utils/utils.js\");\r\nconst Objects = require('./objects.js');\r\nconst OBJLoader = require(\"./loaders/OBJLoader.js\");\r\nconst MTLLoader = require(\"./loaders/MTLLoader.js\");\r\nconst FBXLoader = require(\"./loaders/FBXLoader.js\");\r\nconst GLTFLoader = require(\"./loaders/GLTFLoader.js\");\r\nconst ColladaLoader = require(\"./loaders/ColladaLoader.js\");\r\nconst objLoader = new OBJLoader();\r\nconst materialLoader = new MTLLoader();\r\nconst gltfLoader = new GLTFLoader();\r\nconst fbxLoader = new FBXLoader();\r\nconst daeLoader = new ColladaLoader();\r\n\r\nfunction loadObj(options, cb, promise) {\r\n\r\n\tif (options === undefined) return console.error(\"Invalid options provided to loadObj()\");\r\n\toptions = utils._validate(options, Objects.prototype._defaults.loadObj);\r\n\r\n\tlet loader;\r\n\tif (!options.type) { options.type = 'mtl'; };\r\n\t//[jscastro] support other models\r\n\tswitch (options.type) {\r\n\t\tcase \"mtl\":\r\n\t\t\t// TODO: Support formats other than OBJ/MTL\r\n\t\t\tloader = objLoader;\r\n\t\t\tbreak;\r\n\t\tcase \"gltf\":\r\n\t\tcase \"glb\":\r\n\t\t\t// [jscastro] Support for GLTF/GLB\r\n\t\t\tloader = gltfLoader;\r\n\t\t\tbreak;\r\n\t\tcase \"fbx\":\r\n\t\t\tloader = fbxLoader;\r\n\t\t\tbreak;\r\n\t\tcase \"dae\":\r\n\t\t\tloader = daeLoader;\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tmaterialLoader.load(options.mtl, loadObject, () => (null), error => {\r\n\t\tconsole.warn(\"No material file found \" + error.stack);\r\n\t});\r\n\r\n\tfunction loadObject(materials) {\r\n\r\n\t\tif (materials && options.type == \"mtl\") {\r\n\t\t\tmaterials.preload();\r\n\t\t\tloader.setMaterials(materials);\r\n\t\t}\r\n\r\n\t\tloader.load(options.obj, obj => {\r\n\r\n\t\t\t//[jscastro] MTL/GLTF/FBX models have a different structure\r\n\t\t\tlet animations = [];\r\n\t\t\tswitch (options.type) {\r\n\t\t\t\tcase \"mtl\":\r\n\t\t\t\t\tobj = obj.children[0];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"gltf\":\r\n\t\t\t\tcase \"glb\":\r\n\t\t\t\tcase \"dae\":\r\n\t\t\t\t\tanimations = obj.animations;\r\n\t\t\t\t\tobj = obj.scene;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"fbx\":\r\n\t\t\t\t\tanimations = obj.animations;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tobj.animations = animations;\r\n\t\t\t// [jscastro] options.rotation was wrongly used\r\n\t\t\tconst r = utils.types.rotation(options.rotation, [0, 0, 0]);\r\n\t\t\tconst s = utils.types.scale(options.scale, [1, 1, 1]);\r\n\t\t\tobj.rotation.set(r[0], r[1], r[2]);\r\n\t\t\tobj.scale.set(s[0], s[1], s[2]);\r\n\t\t\t// [jscastro] normalize specular/metalness/shininess from meshes in FBX and GLB model as it would need 5 lights to illuminate them properly\r\n\t\t\tif (options.normalize) { normalizeSpecular(obj); }\r\n\t\t\tobj.name = \"model\";\r\n\t\t\tlet userScaleGroup = Objects.prototype._makeGroup(obj, options);\r\n\t\t\tObjects.prototype._addMethods(userScaleGroup);\r\n\t\t\t//[jscastro] calculate automatically the pivotal center of the object\r\n\t\t\tuserScaleGroup.setAnchor(options.anchor);\r\n\t\t\t//[jscastro] override the center calculated if the object has adjustments\r\n\t\t\tuserScaleGroup.setCenter(options.adjustment);\r\n\t\t\t//[jscastro] if the object is excluded from raycasting\r\n\t\t\tuserScaleGroup.raycasted = options.raycasted;\r\n\t\t\t//[jscastro] return to cache\r\n\t\t\tpromise(userScaleGroup);\r\n\t\t\t//[jscastro] then return to the client-side callback\r\n\t\t\tcb(userScaleGroup);\r\n\t\t\t//[jscastro] apply the fixed zoom scale if needed\r\n\t\t\tuserScaleGroup.setFixedZoom(options.mapScale);\r\n\t\t\t//[jscastro] initialize the default animation to avoid issues with skeleton position\r\n\t\t\tuserScaleGroup.idle();\r\n\r\n\t\t}, () => (null), error => {\r\n\t\t\t\tconsole.error(\"Could not load model file: \" + options.obj + \" \\n \" + error.stack);\r\n\t\t\t\tpromise(\"Error loading the model\");\r\n\t\t});\r\n\r\n\t};\r\n\r\n\t//[jscastro] some FBX/GLTF models have too much specular effects for mapbox\r\n\tfunction normalizeSpecular(model) {\r\n\t\tmodel.traverse(function (c) {\r\n\r\n\t\t\tif (c.isMesh) {\r\n\t\t\t\t//c.castShadow = true;\r\n\t\t\t\tlet specularColor;\r\n\t\t\t\tif (c.material.type == 'MeshStandardMaterial') {\r\n\r\n\t\t\t\t\tif (c.material.metalness) { c.material.metalness *= 0.1; }\r\n\t\t\t\t\tif (c.material.glossiness) { c.material.glossiness *= 0.25; }\r\n\t\t\t\t\tspecularColor = new THREE.Color(12, 12, 12);\r\n\r\n\t\t\t\t} else if (c.material.type == 'MeshPhongMaterial') {\r\n\t\t\t\t\tc.material.shininess = 0.1;\r\n\t\t\t\t\tspecularColor = new THREE.Color(20, 20, 20);\r\n\t\t\t\t}\r\n\t\t\t\tif (c.material.specular && c.material.specular.isColor) {\r\n\t\t\t\t\tc.material.specular = specularColor;\r\n\t\t\t\t}\r\n\t\t\t\t//c.material.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nmodule.exports = exports = loadObj;", "const THREE = require(\"../three.js\");\r\nconst utils = require(\"../utils/utils.js\");\r\nconst Objects = require('./objects.js');\r\n\r\nfunction line(obj){\r\n\r\n\tobj = utils._validate(obj, Objects.prototype._defaults.line);\r\n\r\n\t// Geometry\r\n    var straightProject = utils.lnglatsToWorld(obj.geometry);\r\n\tvar normalized = utils.normalizeVertices(straightProject);\r\n    var flattenedArray = utils.flattenVectors(normalized.vertices);\r\n\t//console.log('line', normalized.vertices)\r\n\r\n\tvar geometry = new THREE.LineGeometry();\r\n\tgeometry.setPositions( flattenedArray );\r\n\r\n\t// Material\r\n\tlet matLine = new THREE.LineMaterial( {\r\n\t\tcolor: obj.color,\r\n\t\tlinewidth: obj.width, // in pixels\r\n\t\tdashed: false,\r\n\t\topacity: obj.opacity\r\n\t} );\r\n\t\r\n\tmatLine.resolution.set( window.innerWidth, window.innerHeight );\r\n\tmatLine.isMaterial = true;\r\n\tmatLine.transparent = true;\r\n\tmatLine.depthWrite = false;\r\n\r\n\t// Mesh\r\n\tline = new THREE.Line2( geometry, matLine );\r\n\tline.position.copy(normalized.position)\r\n\tline.computeLineDistances();\r\n\r\n\treturn line\r\n}\r\n\r\nmodule.exports = exports = line;\r\n\r\n/**\r\n * custom line shader by WestLangley, sourced from https://github.com/mrdoob/three.js/tree/master/examples/js/lines\r\n *\r\n */\r\n\r\n(function () {\r\n\r\n\tconst _box = new THREE.Box3();\r\n\r\n\tconst _vector = new THREE.Vector3();\r\n\r\n\tclass LineSegmentsGeometry extends THREE.InstancedBufferGeometry {\r\n\r\n\t\tconstructor() {\r\n\r\n\t\t\tsuper();\r\n\t\t\tthis.type = 'LineSegmentsGeometry';\r\n\t\t\tconst positions = [- 1, 2, 0, 1, 2, 0, - 1, 1, 0, 1, 1, 0, - 1, 0, 0, 1, 0, 0, - 1, - 1, 0, 1, - 1, 0];\r\n\t\t\tconst uvs = [- 1, 2, 1, 2, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 2, 1, - 2];\r\n\t\t\tconst index = [0, 2, 1, 2, 3, 1, 2, 4, 3, 4, 5, 3, 4, 6, 5, 6, 7, 5];\r\n\t\t\tthis.setIndex(index);\r\n\t\t\tthis.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));\r\n\t\t\tthis.setAttribute('uv', new THREE.Float32BufferAttribute(uvs, 2));\r\n\r\n\t\t}\r\n\r\n\t\tapplyMatrix4(matrix) {\r\n\r\n\t\t\tconst start = this.attributes.instanceStart;\r\n\t\t\tconst end = this.attributes.instanceEnd;\r\n\r\n\t\t\tif (start !== undefined) {\r\n\r\n\t\t\t\tstart.applyMatrix4(matrix);\r\n\t\t\t\tend.applyMatrix4(matrix);\r\n\t\t\t\tstart.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (this.boundingBox !== null) {\r\n\r\n\t\t\t\tthis.computeBoundingBox();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (this.boundingSphere !== null) {\r\n\r\n\t\t\t\tthis.computeBoundingSphere();\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tsetPositions(array) {\r\n\r\n\t\t\tlet lineSegments;\r\n\r\n\t\t\tif (array instanceof Float32Array) {\r\n\r\n\t\t\t\tlineSegments = array;\r\n\r\n\t\t\t} else if (Array.isArray(array)) {\r\n\r\n\t\t\t\tlineSegments = new Float32Array(array);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst instanceBuffer = new THREE.InstancedInterleavedBuffer(lineSegments, 6, 1); // xyz, xyz\r\n\r\n\t\t\tthis.setAttribute('instanceStart', new THREE.InterleavedBufferAttribute(instanceBuffer, 3, 0)); // xyz\r\n\r\n\t\t\tthis.setAttribute('instanceEnd', new THREE.InterleavedBufferAttribute(instanceBuffer, 3, 3)); // xyz\r\n\t\t\t//\r\n\r\n\t\t\tthis.computeBoundingBox();\r\n\t\t\tthis.computeBoundingSphere();\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tsetColors(array) {\r\n\r\n\t\t\tlet colors;\r\n\r\n\t\t\tif (array instanceof Float32Array) {\r\n\r\n\t\t\t\tcolors = array;\r\n\r\n\t\t\t} else if (Array.isArray(array)) {\r\n\r\n\t\t\t\tcolors = new Float32Array(array);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst instanceColorBuffer = new THREE.InstancedInterleavedBuffer(colors, 6, 1); // rgb, rgb\r\n\r\n\t\t\tthis.setAttribute('instanceColorStart', new THREE.InterleavedBufferAttribute(instanceColorBuffer, 3, 0)); // rgb\r\n\r\n\t\t\tthis.setAttribute('instanceColorEnd', new THREE.InterleavedBufferAttribute(instanceColorBuffer, 3, 3)); // rgb\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tfromWireframeGeometry(geometry) {\r\n\r\n\t\t\tthis.setPositions(geometry.attributes.position.array);\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tfromEdgesGeometry(geometry) {\r\n\r\n\t\t\tthis.setPositions(geometry.attributes.position.array);\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tfromMesh(mesh) {\r\n\r\n\t\t\tthis.fromWireframeGeometry(new THREE.WireframeGeometry(mesh.geometry)); // set colors, maybe\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tfromLineSegments(lineSegments) {\r\n\r\n\t\t\tconst geometry = lineSegments.geometry;\r\n\r\n\t\t\tif (geometry.isGeometry) {\r\n\r\n\t\t\t\tconsole.error('THREE.LineSegmentsGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.');\r\n\t\t\t\treturn;\r\n\r\n\t\t\t} else if (geometry.isBufferGeometry) {\r\n\r\n\t\t\t\tthis.setPositions(geometry.attributes.position.array); // assumes non-indexed\r\n\r\n\t\t\t} // set colors, maybe\r\n\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tcomputeBoundingBox() {\r\n\r\n\t\t\tif (this.boundingBox === null) {\r\n\r\n\t\t\t\tthis.boundingBox = new THREE.Box3();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst start = this.attributes.instanceStart;\r\n\t\t\tconst end = this.attributes.instanceEnd;\r\n\r\n\t\t\tif (start !== undefined && end !== undefined) {\r\n\r\n\t\t\t\tthis.boundingBox.setFromBufferAttribute(start);\r\n\r\n\t\t\t\t_box.setFromBufferAttribute(end);\r\n\r\n\t\t\t\tthis.boundingBox.union(_box);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tcomputeBoundingSphere() {\r\n\r\n\t\t\tif (this.boundingSphere === null) {\r\n\r\n\t\t\t\tthis.boundingSphere = new THREE.Sphere();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (this.boundingBox === null) {\r\n\r\n\t\t\t\tthis.computeBoundingBox();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst start = this.attributes.instanceStart;\r\n\t\t\tconst end = this.attributes.instanceEnd;\r\n\r\n\t\t\tif (start !== undefined && end !== undefined) {\r\n\r\n\t\t\t\tconst center = this.boundingSphere.center;\r\n\t\t\t\tthis.boundingBox.getCenter(center);\r\n\t\t\t\tlet maxRadiusSq = 0;\r\n\r\n\t\t\t\tfor (let i = 0, il = start.count; i < il; i++) {\r\n\r\n\t\t\t\t\t_vector.fromBufferAttribute(start, i);\r\n\r\n\t\t\t\t\tmaxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector));\r\n\r\n\t\t\t\t\t_vector.fromBufferAttribute(end, i);\r\n\r\n\t\t\t\t\tmaxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt(maxRadiusSq);\r\n\r\n\t\t\t\tif (isNaN(this.boundingSphere.radius)) {\r\n\r\n\t\t\t\t\tconsole.error('THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.', this);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\ttoJSON() { // todo\r\n\t\t}\r\n\r\n\t\tapplyMatrix(matrix) {\r\n\r\n\t\t\tconsole.warn('THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4().');\r\n\t\t\treturn this.applyMatrix4(matrix);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tLineSegmentsGeometry.prototype.isLineSegmentsGeometry = true;\r\n\r\n\tTHREE.LineSegmentsGeometry = LineSegmentsGeometry;\r\n\r\n})();\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n */\r\n\r\n(function () {\r\n\r\n\tclass LineGeometry extends THREE.LineSegmentsGeometry {\r\n\r\n\t\tconstructor() {\r\n\r\n\t\t\tsuper();\r\n\t\t\tthis.type = 'LineGeometry';\r\n\r\n\t\t}\r\n\r\n\t\tsetPositions(array) {\r\n\r\n\t\t\t// converts [ x1, y1, z1,  x2, y2, z2, ... ] to pairs format\r\n\t\t\tvar length = array.length - 3;\r\n\t\t\tvar points = new Float32Array(2 * length);\r\n\r\n\t\t\tfor (var i = 0; i < length; i += 3) {\r\n\r\n\t\t\t\tpoints[2 * i] = array[i];\r\n\t\t\t\tpoints[2 * i + 1] = array[i + 1];\r\n\t\t\t\tpoints[2 * i + 2] = array[i + 2];\r\n\t\t\t\tpoints[2 * i + 3] = array[i + 3];\r\n\t\t\t\tpoints[2 * i + 4] = array[i + 4];\r\n\t\t\t\tpoints[2 * i + 5] = array[i + 5];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tsuper.setPositions(points);\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tsetColors(array) {\r\n\r\n\t\t\t// converts [ r1, g1, b1,  r2, g2, b2, ... ] to pairs format\r\n\t\t\tvar length = array.length - 3;\r\n\t\t\tvar colors = new Float32Array(2 * length);\r\n\r\n\t\t\tfor (var i = 0; i < length; i += 3) {\r\n\r\n\t\t\t\tcolors[2 * i] = array[i];\r\n\t\t\t\tcolors[2 * i + 1] = array[i + 1];\r\n\t\t\t\tcolors[2 * i + 2] = array[i + 2];\r\n\t\t\t\tcolors[2 * i + 3] = array[i + 3];\r\n\t\t\t\tcolors[2 * i + 4] = array[i + 4];\r\n\t\t\t\tcolors[2 * i + 5] = array[i + 5];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tsuper.setColors(colors);\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tfromLine(line) {\r\n\r\n\t\t\tvar geometry = line.geometry;\r\n\r\n\t\t\tif (geometry.isGeometry) {\r\n\r\n\t\t\t\tconsole.error('THREE.LineGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.');\r\n\t\t\t\treturn;\r\n\r\n\t\t\t} else if (geometry.isBufferGeometry) {\r\n\r\n\t\t\t\tthis.setPositions(geometry.attributes.position.array); // assumes non-indexed\r\n\r\n\t\t\t} // set colors, maybe\r\n\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tLineGeometry.prototype.isLineGeometry = true;\r\n\r\n\tTHREE.LineGeometry = LineGeometry;\r\n\r\n})();\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n */\r\n\r\n(function () {\r\n\r\n\tclass WireframeGeometry2 extends THREE.LineSegmentsGeometry {\r\n\r\n\t\tconstructor(geometry) {\r\n\r\n\t\t\tsuper();\r\n\t\t\tthis.type = 'WireframeGeometry2';\r\n\t\t\tthis.fromWireframeGeometry(new THREE.WireframeGeometry(geometry)); // set colors, maybe\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tWireframeGeometry2.prototype.isWireframeGeometry2 = true;\r\n\r\n\tTHREE.WireframeGeometry2 = WireframeGeometry2;\r\n\r\n})();\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  linewidth: <float>,\r\n *  dashed: <boolean>,\r\n *  dashScale: <float>,\r\n *  dashSize: <float>,\r\n *  gapSize: <float>,\r\n *  resolution: <Vector2>, // to be set by renderer\r\n * }\r\n */\r\n\r\n(function () {\r\n\r\n\t/**\r\n * parameters = {\r\n *  color: <hex>,\r\n *  linewidth: <float>,\r\n *  dashed: <boolean>,\r\n *  dashScale: <float>,\r\n *  dashSize: <float>,\r\n *  gapSize: <float>,\r\n *  resolution: <Vector2>, // to be set by renderer\r\n * }\r\n */\r\n\tTHREE.UniformsLib.line = {\r\n\t\tworldUnits: {\r\n\t\t\tvalue: 1\r\n\t\t},\r\n\t\tlinewidth: {\r\n\t\t\tvalue: 1\r\n\t\t},\r\n\t\tresolution: {\r\n\t\t\tvalue: new THREE.Vector2(1, 1)\r\n\t\t},\r\n\t\tdashScale: {\r\n\t\t\tvalue: 1\r\n\t\t},\r\n\t\tdashSize: {\r\n\t\t\tvalue: 1\r\n\t\t},\r\n\t\tgapSize: {\r\n\t\t\tvalue: 1\r\n\t\t} // todo FIX - maybe change to totalSize\r\n\r\n\t};\r\n\tTHREE.ShaderLib['line'] = {\r\n\t\tuniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.fog, THREE.UniformsLib.line]),\r\n\t\tvertexShader:\r\n\t\t\t/* glsl */\r\n\t\t\t`\r\n\t\t#include <common>\r\n\t\t#include <color_pars_vertex>\r\n\t\t#include <fog_pars_vertex>\r\n\t\t#include <logdepthbuf_pars_vertex>\r\n\t\t#include <clipping_planes_pars_vertex>\r\n\r\n\t\tuniform float linewidth;\r\n\t\tuniform vec2 resolution;\r\n\r\n\t\tattribute vec3 instanceStart;\r\n\t\tattribute vec3 instanceEnd;\r\n\r\n\t\tattribute vec3 instanceColorStart;\r\n\t\tattribute vec3 instanceColorEnd;\r\n\r\n\t\tvarying vec2 vUv;\r\n\t\tvarying vec4 worldPos;\r\n\t\tvarying vec3 worldStart;\r\n\t\tvarying vec3 worldEnd;\r\n\r\n\t\t#ifdef USE_DASH\r\n\r\n\t\t\tuniform float dashScale;\r\n\t\t\tattribute float instanceDistanceStart;\r\n\t\t\tattribute float instanceDistanceEnd;\r\n\t\t\tvarying float vLineDistance;\r\n\r\n\t\t#endif\r\n\r\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\r\n\r\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\r\n\r\n\t\t\t// conservative estimate of the near plane\r\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\r\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\r\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\r\n\r\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\r\n\r\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\r\n\r\n\t\t}\r\n\r\n\t\tvoid main() {\r\n\r\n\t\t\t#ifdef USE_COLOR\r\n\r\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\r\n\r\n\t\t\t#endif\r\n\r\n\t\t\t#ifdef USE_DASH\r\n\r\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\r\n\r\n\t\t\t#endif\r\n\r\n\t\t\tfloat aspect = resolution.x / resolution.y;\r\n\r\n\t\t\tvUv = uv;\r\n\r\n\t\t\t// camera space\r\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\r\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\r\n\r\n\t\t\tworldStart = start.xyz;\r\n\t\t\tworldEnd = end.xyz;\r\n\r\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\r\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\r\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\r\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\r\n\r\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\r\n\r\n\t\t\tif ( perspective ) {\r\n\r\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\r\n\r\n\t\t\t\t\ttrimSegment( start, end );\r\n\r\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\r\n\r\n\t\t\t\t\ttrimSegment( end, start );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// clip space\r\n\t\t\tvec4 clipStart = projectionMatrix * start;\r\n\t\t\tvec4 clipEnd = projectionMatrix * end;\r\n\r\n\t\t\t// ndc space\r\n\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\r\n\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\r\n\r\n\t\t\t// direction\r\n\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\r\n\r\n\t\t\t// account for clip-space aspect ratio\r\n\t\t\tdir.x *= aspect;\r\n\t\t\tdir = normalize( dir );\r\n\r\n\t\t\t#ifdef WORLD_UNITS\r\n\r\n\t\t\t\t// get the offset direction as perpendicular to the view vector\r\n\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\r\n\t\t\t\tvec3 offset;\r\n\t\t\t\tif ( position.y < 0.5 ) {\r\n\r\n\t\t\t\t\toffset = normalize( cross( start.xyz, worldDir ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\toffset = normalize( cross( end.xyz, worldDir ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// sign flip\r\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\r\n\r\n\t\t\t\tfloat forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\r\n\r\n\t\t\t\t// don't extend the line if we're rendering dashes because we\r\n\t\t\t\t// won't be rendering the endcaps\r\n\t\t\t\t#ifndef USE_DASH\r\n\r\n\t\t\t\t\t// extend the line bounds to encompass  endcaps\r\n\t\t\t\t\tstart.xyz += - worldDir * linewidth * 0.5;\r\n\t\t\t\t\tend.xyz += worldDir * linewidth * 0.5;\r\n\r\n\t\t\t\t\t// shift the position of the quad so it hugs the forward edge of the line\r\n\t\t\t\t\toffset.xy -= dir * forwardOffset;\r\n\t\t\t\t\toffset.z += 0.5;\r\n\r\n\t\t\t\t#endif\r\n\r\n\t\t\t\t// endcaps\r\n\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\r\n\r\n\t\t\t\t\toffset.xy += dir * 2.0 * forwardOffset;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// adjust for linewidth\r\n\t\t\t\toffset *= linewidth * 0.5;\r\n\r\n\t\t\t\t// set the world position\r\n\t\t\t\tworldPos = ( position.y < 0.5 ) ? start : end;\r\n\t\t\t\tworldPos.xyz += offset;\r\n\r\n\t\t\t\t// project the worldpos\r\n\t\t\t\tvec4 clip = projectionMatrix * worldPos;\r\n\r\n\t\t\t\t// shift the depth of the projected points so the line\r\n\t\t\t\t// segements overlap neatly\r\n\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\r\n\t\t\t\tclip.z = clipPose.z * clip.w;\r\n\r\n\t\t\t#else\r\n\r\n\t\t\t\tvec2 offset = vec2( dir.y, - dir.x );\r\n\t\t\t\t// undo aspect ratio adjustment\r\n\t\t\t\tdir.x /= aspect;\r\n\t\t\t\toffset.x /= aspect;\r\n\r\n\t\t\t\t// sign flip\r\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\r\n\r\n\t\t\t\t// endcaps\r\n\t\t\t\tif ( position.y < 0.0 ) {\r\n\r\n\t\t\t\t\toffset += - dir;\r\n\r\n\t\t\t\t} else if ( position.y > 1.0 ) {\r\n\r\n\t\t\t\t\toffset += dir;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// adjust for linewidth\r\n\t\t\t\toffset *= linewidth;\r\n\r\n\t\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\r\n\t\t\t\toffset /= resolution.y;\r\n\r\n\t\t\t\t// select end\r\n\t\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\r\n\r\n\t\t\t\t// back to clip space\r\n\t\t\t\toffset *= clip.w;\r\n\r\n\t\t\t\tclip.xy += offset;\r\n\r\n\t\t\t#endif\r\n\r\n\t\t\tgl_Position = clip;\r\n\r\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\r\n\r\n\t\t\t#include <logdepthbuf_vertex>\r\n\t\t\t#include <clipping_planes_vertex>\r\n\t\t\t#include <fog_vertex>\r\n\r\n\t\t}\r\n\t\t`,\r\n\t\tfragmentShader:\r\n\t\t\t/* glsl */\r\n\t\t\t`\r\n\t\tuniform vec3 diffuse;\r\n\t\tuniform float opacity;\r\n\t\tuniform float linewidth;\r\n\r\n\t\t#ifdef USE_DASH\r\n\r\n\t\t\tuniform float dashSize;\r\n\t\t\tuniform float gapSize;\r\n\r\n\t\t#endif\r\n\r\n\t\tvarying float vLineDistance;\r\n\t\tvarying vec4 worldPos;\r\n\t\tvarying vec3 worldStart;\r\n\t\tvarying vec3 worldEnd;\r\n\r\n\t\t#include <common>\r\n\t\t#include <color_pars_fragment>\r\n\t\t#include <fog_pars_fragment>\r\n\t\t#include <logdepthbuf_pars_fragment>\r\n\t\t#include <clipping_planes_pars_fragment>\r\n\r\n\t\tvarying vec2 vUv;\r\n\r\n\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\r\n\r\n\t\t\tfloat mua;\r\n\t\t\tfloat mub;\r\n\r\n\t\t\tvec3 p13 = p1 - p3;\r\n\t\t\tvec3 p43 = p4 - p3;\r\n\r\n\t\t\tvec3 p21 = p2 - p1;\r\n\r\n\t\t\tfloat d1343 = dot( p13, p43 );\r\n\t\t\tfloat d4321 = dot( p43, p21 );\r\n\t\t\tfloat d1321 = dot( p13, p21 );\r\n\t\t\tfloat d4343 = dot( p43, p43 );\r\n\t\t\tfloat d2121 = dot( p21, p21 );\r\n\r\n\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\r\n\r\n\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\r\n\r\n\t\t\tmua = numer / denom;\r\n\t\t\tmua = clamp( mua, 0.0, 1.0 );\r\n\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\r\n\t\t\tmub = clamp( mub, 0.0, 1.0 );\r\n\r\n\t\t\treturn vec2( mua, mub );\r\n\r\n\t\t}\r\n\r\n\t\tvoid main() {\r\n\r\n\t\t\t#include <clipping_planes_fragment>\r\n\r\n\t\t\t#ifdef USE_DASH\r\n\r\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\r\n\r\n\t\t\t\tif ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\r\n\r\n\t\t\t#endif\r\n\r\n\t\t\tfloat alpha = opacity;\r\n\r\n\t\t\t#ifdef WORLD_UNITS\r\n\r\n\t\t\t\t// Find the closest points on the view ray and the line segment\r\n\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\r\n\t\t\t\tvec3 lineDir = worldEnd - worldStart;\r\n\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\r\n\r\n\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\r\n\t\t\t\tvec3 p2 = rayEnd * params.y;\r\n\t\t\t\tvec3 delta = p1 - p2;\r\n\t\t\t\tfloat len = length( delta );\r\n\t\t\t\tfloat norm = len / linewidth;\r\n\r\n\t\t\t\t#ifndef USE_DASH\r\n\r\n\t\t\t\t\t#ifdef ALPHA_TO_COVERAGE\r\n\r\n\t\t\t\t\t\tfloat dnorm = fwidth( norm );\r\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\r\n\r\n\t\t\t\t\t#else\r\n\r\n\t\t\t\t\t\tif ( norm > 0.5 ) {\r\n\r\n\t\t\t\t\t\t\tdiscard;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t#endif\r\n\r\n\t\t\t\t#endif\r\n\r\n\t\t\t#else\r\n\r\n\t\t\t\t#ifdef ALPHA_TO_COVERAGE\r\n\r\n\t\t\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\r\n\t\t\t\t\tfloat a = vUv.x;\r\n\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\r\n\t\t\t\t\tfloat len2 = a * a + b * b;\r\n\t\t\t\t\tfloat dlen = fwidth( len2 );\r\n\r\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\r\n\r\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t#else\r\n\r\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\r\n\r\n\t\t\t\t\t\tfloat a = vUv.x;\r\n\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\r\n\t\t\t\t\t\tfloat len2 = a * a + b * b;\r\n\r\n\t\t\t\t\t\tif ( len2 > 1.0 ) discard;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t#endif\r\n\r\n\t\t\t#endif\r\n\r\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\r\n\r\n\t\t\t#include <logdepthbuf_fragment>\r\n\t\t\t#include <color_fragment>\r\n\r\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\r\n\r\n\t\t\t#include <tonemapping_fragment>\r\n\t\t\t#include <encodings_fragment>\r\n\t\t\t#include <fog_fragment>\r\n\t\t\t#include <premultiplied_alpha_fragment>\r\n\r\n\t\t}\r\n\t\t`\r\n\t};\r\n\r\n\tclass LineMaterial extends THREE.ShaderMaterial {\r\n\r\n\t\tconstructor(parameters) {\r\n\r\n\t\t\tsuper({\r\n\t\t\t\ttype: 'LineMaterial',\r\n\t\t\t\tuniforms: THREE.UniformsUtils.clone(THREE.ShaderLib['line'].uniforms),\r\n\t\t\t\tvertexShader: THREE.ShaderLib['line'].vertexShader,\r\n\t\t\t\tfragmentShader: THREE.ShaderLib['line'].fragmentShader,\r\n\t\t\t\tclipping: true // required for clipping support\r\n\r\n\t\t\t});\r\n\t\t\tObject.defineProperties(this, {\r\n\t\t\t\tcolor: {\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this.uniforms.diffuse.value;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (value) {\r\n\r\n\t\t\t\t\t\tthis.uniforms.diffuse.value = value;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tworldUnits: {\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn 'WORLD_UNITS' in this.defines;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (value) {\r\n\r\n\t\t\t\t\t\tif (value === true) {\r\n\r\n\t\t\t\t\t\t\tthis.defines.WORLD_UNITS = '';\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdelete this.defines.WORLD_UNITS;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlinewidth: {\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this.uniforms.linewidth.value;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (value) {\r\n\r\n\t\t\t\t\t\tthis.uniforms.linewidth.value = value;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdashed: {\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn Boolean('USE_DASH' in this.defines);\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tset(value) {\r\n\r\n\t\t\t\t\t\tif (Boolean(value) !== Boolean('USE_DASH' in this.defines)) {\r\n\r\n\t\t\t\t\t\t\tthis.needsUpdate = true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (value === true) {\r\n\r\n\t\t\t\t\t\t\tthis.defines.USE_DASH = '';\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdelete this.defines.USE_DASH;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\t\t\t\tdashScale: {\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this.uniforms.dashScale.value;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (value) {\r\n\r\n\t\t\t\t\t\tthis.uniforms.dashScale.value = value;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdashSize: {\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this.uniforms.dashSize.value;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (value) {\r\n\r\n\t\t\t\t\t\tthis.uniforms.dashSize.value = value;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdashOffset: {\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this.uniforms.dashOffset.value;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (value) {\r\n\r\n\t\t\t\t\t\tthis.uniforms.dashOffset.value = value;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tgapSize: {\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this.uniforms.gapSize.value;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (value) {\r\n\r\n\t\t\t\t\t\tthis.uniforms.gapSize.value = value;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\topacity: {\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this.uniforms.opacity.value;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (value) {\r\n\r\n\t\t\t\t\t\tthis.uniforms.opacity.value = value;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolution: {\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this.uniforms.resolution.value;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (value) {\r\n\r\n\t\t\t\t\t\tthis.uniforms.resolution.value.copy(value);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\talphaToCoverage: {\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn Boolean('ALPHA_TO_COVERAGE' in this.defines);\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function (value) {\r\n\r\n\t\t\t\t\t\tif (Boolean(value) !== Boolean('ALPHA_TO_COVERAGE' in this.defines)) {\r\n\r\n\t\t\t\t\t\t\tthis.needsUpdate = true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (value === true) {\r\n\r\n\t\t\t\t\t\t\tthis.defines.ALPHA_TO_COVERAGE = '';\r\n\t\t\t\t\t\t\tthis.extensions.derivatives = true;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdelete this.defines.ALPHA_TO_COVERAGE;\r\n\t\t\t\t\t\t\tthis.extensions.derivatives = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.setValues(parameters);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tLineMaterial.prototype.isLineMaterial = true;\r\n\r\n\tTHREE.LineMaterial = LineMaterial;\r\n\r\n})();\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n */\r\n\r\n(function () {\r\n\r\n\tconst _start = new THREE.Vector3();\r\n\r\n\tconst _end = new THREE.Vector3();\r\n\r\n\tconst _start4 = new THREE.Vector4();\r\n\r\n\tconst _end4 = new THREE.Vector4();\r\n\r\n\tconst _ssOrigin = new THREE.Vector4();\r\n\r\n\tconst _ssOrigin3 = new THREE.Vector3();\r\n\r\n\tconst _mvMatrix = new THREE.Matrix4();\r\n\r\n\tconst _line = new THREE.Line3();\r\n\r\n\tconst _closestPoint = new THREE.Vector3();\r\n\r\n\tconst _box = new THREE.Box3();\r\n\r\n\tconst _sphere = new THREE.Sphere();\r\n\r\n\tconst _clipToWorldVector = new THREE.Vector4();\r\n\r\n\tclass LineSegments2 extends THREE.Mesh {\r\n\r\n\t\tconstructor(geometry = new THREE.LineSegmentsGeometry(), material = new THREE.LineMaterial({\r\n\t\t\tcolor: Math.random() * 0xffffff\r\n\t\t})) {\r\n\r\n\t\t\tsuper(geometry, material);\r\n\t\t\tthis.type = 'LineSegments2';\r\n\r\n\t\t} // for backwards-compatability, but could be a method of THREE.LineSegmentsGeometry...\r\n\r\n\r\n\t\tcomputeLineDistances() {\r\n\r\n\t\t\tconst geometry = this.geometry;\r\n\t\t\tconst instanceStart = geometry.attributes.instanceStart;\r\n\t\t\tconst instanceEnd = geometry.attributes.instanceEnd;\r\n\t\t\tconst lineDistances = new Float32Array(2 * instanceStart.count);\r\n\r\n\t\t\tfor (let i = 0, j = 0, l = instanceStart.count; i < l; i++, j += 2) {\r\n\r\n\t\t\t\t_start.fromBufferAttribute(instanceStart, i);\r\n\r\n\t\t\t\t_end.fromBufferAttribute(instanceEnd, i);\r\n\r\n\t\t\t\tlineDistances[j] = j === 0 ? 0 : lineDistances[j - 1];\r\n\t\t\t\tlineDistances[j + 1] = lineDistances[j] + _start.distanceTo(_end);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst instanceDistanceBuffer = new THREE.InstancedInterleavedBuffer(lineDistances, 2, 1); // d0, d1\r\n\r\n\t\t\tgeometry.setAttribute('instanceDistanceStart', new THREE.InterleavedBufferAttribute(instanceDistanceBuffer, 1, 0)); // d0\r\n\r\n\t\t\tgeometry.setAttribute('instanceDistanceEnd', new THREE.InterleavedBufferAttribute(instanceDistanceBuffer, 1, 1)); // d1\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\traycast(raycaster, intersects) {\r\n\r\n\t\t\tif (raycaster.camera === null) {\r\n\r\n\t\t\t\tconsole.error('LineSegments2: \"Raycaster.camera\" needs to be set in order to raycast against LineSegments2.');\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst threshold = raycaster.params.Line2 !== undefined ? raycaster.params.Line2.threshold || 0 : 0;\r\n\t\t\tconst ray = raycaster.ray;\r\n\t\t\tconst camera = raycaster.camera;\r\n\t\t\tconst projectionMatrix = camera.projectionMatrix;\r\n\t\t\tconst matrixWorld = this.matrixWorld;\r\n\t\t\tconst geometry = this.geometry;\r\n\t\t\tconst material = this.material;\r\n\t\t\tconst resolution = material.resolution;\r\n\t\t\tconst lineWidth = material.linewidth + threshold;\r\n\t\t\tconst instanceStart = geometry.attributes.instanceStart;\r\n\t\t\tconst instanceEnd = geometry.attributes.instanceEnd; // camera forward is negative\r\n\r\n\t\t\tconst near = - camera.near; // clip space is [ - 1, 1 ] so multiply by two to get the full\r\n\t\t\t// width in clip space\r\n\r\n\t\t\tconst ssMaxWidth = 2.0 * Math.max(lineWidth / resolution.width, lineWidth / resolution.height); //\r\n\t\t\t// check if we intersect the sphere bounds\r\n\r\n\t\t\tif (geometry.boundingSphere === null) {\r\n\r\n\t\t\t\tgeometry.computeBoundingSphere();\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_sphere.copy(geometry.boundingSphere).applyMatrix4(matrixWorld);\r\n\r\n\t\t\tconst distanceToSphere = Math.max(camera.near, _sphere.distanceToPoint(ray.origin)); // get the w component to scale the world space line width\r\n\r\n\t\t\t_clipToWorldVector.set(0, 0, - distanceToSphere, 1.0).applyMatrix4(camera.projectionMatrix);\r\n\r\n\t\t\t_clipToWorldVector.multiplyScalar(1.0 / _clipToWorldVector.w);\r\n\r\n\t\t\t_clipToWorldVector.applyMatrix4(camera.projectionMatrixInverse); // increase the sphere bounds by the worst case line screen space width\r\n\r\n\r\n\t\t\tconst sphereMargin = Math.abs(ssMaxWidth / _clipToWorldVector.w) * 0.5;\r\n\t\t\t_sphere.radius += sphereMargin;\r\n\r\n\t\t\tif (raycaster.ray.intersectsSphere(_sphere) === false) {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t} //\r\n\t\t\t// check if we intersect the box bounds\r\n\r\n\r\n\t\t\tif (geometry.boundingBox === null) {\r\n\r\n\t\t\t\tgeometry.computeBoundingBox();\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_box.copy(geometry.boundingBox).applyMatrix4(matrixWorld);\r\n\r\n\t\t\tconst distanceToBox = Math.max(camera.near, _box.distanceToPoint(ray.origin)); // get the w component to scale the world space line width\r\n\r\n\t\t\t_clipToWorldVector.set(0, 0, - distanceToBox, 1.0).applyMatrix4(camera.projectionMatrix);\r\n\r\n\t\t\t_clipToWorldVector.multiplyScalar(1.0 / _clipToWorldVector.w);\r\n\r\n\t\t\t_clipToWorldVector.applyMatrix4(camera.projectionMatrixInverse); // increase the sphere bounds by the worst case line screen space width\r\n\r\n\r\n\t\t\tconst boxMargin = Math.abs(ssMaxWidth / _clipToWorldVector.w) * 0.5;\r\n\t\t\t_box.max.x += boxMargin;\r\n\t\t\t_box.max.y += boxMargin;\r\n\t\t\t_box.max.z += boxMargin;\r\n\t\t\t_box.min.x -= boxMargin;\r\n\t\t\t_box.min.y -= boxMargin;\r\n\t\t\t_box.min.z -= boxMargin;\r\n\r\n\t\t\tif (raycaster.ray.intersectsBox(_box) === false) {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t} //\r\n\t\t\t// pick a point 1 unit out along the ray to avoid the ray origin\r\n\t\t\t// sitting at the camera origin which will cause \"w\" to be 0 when\r\n\t\t\t// applying the projection matrix.\r\n\r\n\r\n\t\t\tray.at(1, _ssOrigin); // ndc space [ - 1.0, 1.0 ]\r\n\r\n\t\t\t_ssOrigin.w = 1;\r\n\r\n\t\t\t_ssOrigin.applyMatrix4(camera.matrixWorldInverse);\r\n\r\n\t\t\t_ssOrigin.applyMatrix4(projectionMatrix);\r\n\r\n\t\t\t_ssOrigin.multiplyScalar(1 / _ssOrigin.w); // screen space\r\n\r\n\r\n\t\t\t_ssOrigin.x *= resolution.x / 2;\r\n\t\t\t_ssOrigin.y *= resolution.y / 2;\r\n\t\t\t_ssOrigin.z = 0;\r\n\r\n\t\t\t_ssOrigin3.copy(_ssOrigin);\r\n\r\n\t\t\t_mvMatrix.multiplyMatrices(camera.matrixWorldInverse, matrixWorld);\r\n\r\n\t\t\tfor (let i = 0, l = instanceStart.count; i < l; i++) {\r\n\r\n\t\t\t\t_start4.fromBufferAttribute(instanceStart, i);\r\n\r\n\t\t\t\t_end4.fromBufferAttribute(instanceEnd, i);\r\n\r\n\t\t\t\t_start4.w = 1;\r\n\t\t\t\t_end4.w = 1; // camera space\r\n\r\n\t\t\t\t_start4.applyMatrix4(_mvMatrix);\r\n\r\n\t\t\t\t_end4.applyMatrix4(_mvMatrix); // skip the segment if it's entirely behind the camera\r\n\r\n\r\n\t\t\t\tvar isBehindCameraNear = _start4.z > near && _end4.z > near;\r\n\r\n\t\t\t\tif (isBehindCameraNear) {\r\n\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t} // trim the segment if it extends behind camera near\r\n\r\n\r\n\t\t\t\tif (_start4.z > near) {\r\n\r\n\t\t\t\t\tconst deltaDist = _start4.z - _end4.z;\r\n\t\t\t\t\tconst t = (_start4.z - near) / deltaDist;\r\n\r\n\t\t\t\t\t_start4.lerp(_end4, t);\r\n\r\n\t\t\t\t} else if (_end4.z > near) {\r\n\r\n\t\t\t\t\tconst deltaDist = _end4.z - _start4.z;\r\n\t\t\t\t\tconst t = (_end4.z - near) / deltaDist;\r\n\r\n\t\t\t\t\t_end4.lerp(_start4, t);\r\n\r\n\t\t\t\t} // clip space\r\n\r\n\r\n\t\t\t\t_start4.applyMatrix4(projectionMatrix);\r\n\r\n\t\t\t\t_end4.applyMatrix4(projectionMatrix); // ndc space [ - 1.0, 1.0 ]\r\n\r\n\r\n\t\t\t\t_start4.multiplyScalar(1 / _start4.w);\r\n\r\n\t\t\t\t_end4.multiplyScalar(1 / _end4.w); // screen space\r\n\r\n\r\n\t\t\t\t_start4.x *= resolution.x / 2;\r\n\t\t\t\t_start4.y *= resolution.y / 2;\r\n\t\t\t\t_end4.x *= resolution.x / 2;\r\n\t\t\t\t_end4.y *= resolution.y / 2; // create 2d segment\r\n\r\n\t\t\t\t_line.start.copy(_start4);\r\n\r\n\t\t\t\t_line.start.z = 0;\r\n\r\n\t\t\t\t_line.end.copy(_end4);\r\n\r\n\t\t\t\t_line.end.z = 0; // get closest point on ray to segment\r\n\r\n\t\t\t\tconst param = _line.closestPointToPointParameter(_ssOrigin3, true);\r\n\r\n\t\t\t\t_line.at(param, _closestPoint); // check if the intersection point is within clip space\r\n\r\n\r\n\t\t\t\tconst zPos = THREE.MathUtils.lerp(_start4.z, _end4.z, param);\r\n\t\t\t\tconst isInClipSpace = zPos >= - 1 && zPos <= 1;\r\n\t\t\t\tconst isInside = _ssOrigin3.distanceTo(_closestPoint) < lineWidth * 0.5;\r\n\r\n\t\t\t\tif (isInClipSpace && isInside) {\r\n\r\n\t\t\t\t\t_line.start.fromBufferAttribute(instanceStart, i);\r\n\r\n\t\t\t\t\t_line.end.fromBufferAttribute(instanceEnd, i);\r\n\r\n\t\t\t\t\t_line.start.applyMatrix4(matrixWorld);\r\n\r\n\t\t\t\t\t_line.end.applyMatrix4(matrixWorld);\r\n\r\n\t\t\t\t\tconst pointOnLine = new THREE.Vector3();\r\n\t\t\t\t\tconst point = new THREE.Vector3();\r\n\t\t\t\t\tray.distanceSqToSegment(_line.start, _line.end, point, pointOnLine);\r\n\t\t\t\t\tintersects.push({\r\n\t\t\t\t\t\tpoint: point,\r\n\t\t\t\t\t\tpointOnLine: pointOnLine,\r\n\t\t\t\t\t\tdistance: ray.origin.distanceTo(point),\r\n\t\t\t\t\t\tobject: this,\r\n\t\t\t\t\t\tface: null,\r\n\t\t\t\t\t\tfaceIndex: i,\r\n\t\t\t\t\t\tuv: null,\r\n\t\t\t\t\t\tuv2: null\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tLineSegments2.prototype.LineSegments2 = true;\r\n\r\n\tTHREE.LineSegments2 = LineSegments2;\r\n\r\n})();\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n */\r\n\r\n(function () {\r\n\r\n\tclass Line2 extends THREE.LineSegments2 {\r\n\r\n\t\tconstructor(geometry = new THREE.LineGeometry(), material = new THREE.LineMaterial({\r\n\t\t\tcolor: Math.random() * 0xffffff\r\n\t\t})) {\r\n\r\n\t\t\tsuper(geometry, material);\r\n\t\t\tthis.type = 'Line2';\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tLine2.prototype.isLine2 = true;\r\n\r\n\tTHREE.Line2 = Line2;\r\n\r\n})();\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n */\r\n\r\n(function () {\r\n\r\n\tconst _start = new THREE.Vector3();\r\n\r\n\tconst _end = new THREE.Vector3();\r\n\r\n\tclass Wireframe extends THREE.Mesh {\r\n\r\n\t\tconstructor(geometry = new THREE.LineSegmentsGeometry(), material = new THREE.LineMaterial({\r\n\t\t\tcolor: Math.random() * 0xffffff\r\n\t\t})) {\r\n\r\n\t\t\tsuper(geometry, material);\r\n\t\t\tthis.type = 'Wireframe';\r\n\r\n\t\t} // for backwards-compatability, but could be a method of THREE.LineSegmentsGeometry...\r\n\r\n\r\n\t\tcomputeLineDistances() {\r\n\r\n\t\t\tconst geometry = this.geometry;\r\n\t\t\tconst instanceStart = geometry.attributes.instanceStart;\r\n\t\t\tconst instanceEnd = geometry.attributes.instanceEnd;\r\n\t\t\tconst lineDistances = new Float32Array(2 * instanceStart.count);\r\n\r\n\t\t\tfor (let i = 0, j = 0, l = instanceStart.count; i < l; i++, j += 2) {\r\n\r\n\t\t\t\t_start.fromBufferAttribute(instanceStart, i);\r\n\r\n\t\t\t\t_end.fromBufferAttribute(instanceEnd, i);\r\n\r\n\t\t\t\tlineDistances[j] = j === 0 ? 0 : lineDistances[j - 1];\r\n\t\t\t\tlineDistances[j + 1] = lineDistances[j] + _start.distanceTo(_end);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst instanceDistanceBuffer = new THREE.InstancedInterleavedBuffer(lineDistances, 2, 1); // d0, d1\r\n\r\n\t\t\tgeometry.setAttribute('instanceDistanceStart', new THREE.InterleavedBufferAttribute(instanceDistanceBuffer, 1, 0)); // d0\r\n\r\n\t\t\tgeometry.setAttribute('instanceDistanceEnd', new THREE.InterleavedBufferAttribute(instanceDistanceBuffer, 1, 1)); // d1\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tWireframe.prototype.isWireframe = true;\r\n\r\n\tTHREE.Wireframe = Wireframe;\r\n\r\n})();\r\n", "/**\r\n * @author peterqliu / https://github.com/peterqliu\r\n * @author jscastro / https://github.com/jscastro76\r\n*/\r\nconst utils = require(\"../utils/utils.js\");\r\nconst material = require(\"../utils/material.js\");\r\nconst Objects = require('./objects.js');\r\nconst THREE = require(\"../three.js\");\r\nconst Object3D = require('./Object3D.js');\r\n\r\nfunction tube(opt, world){\r\n\r\n\t// validate and prep input geometry\r\n\topt = utils._validate(opt, Objects.prototype._defaults.tube);\r\n\r\n\tlet points = []\r\n\topt.geometry.forEach(p => {\r\n\t\tpoints.push(new THREE.Vector3(p[0], p[1], p[2]));\r\n\t})\r\n\tconst curve = new THREE.CatmullRomCurve3(points);\r\n\tlet tube = new THREE.TubeGeometry(curve, points.length, opt.radius, opt.sides, false);\r\n\tlet mat = material(opt);\r\n\tlet obj = new THREE.Mesh(tube, mat);\r\n\t//[jscastro] we convert it in Object3D to add methods, bounding box, model, tooltip...\r\n\treturn new Object3D({ obj: obj, units: opt.units, anchor: opt.anchor, adjustment: opt.adjustment, bbox: opt.bbox, tooltip: opt.tooltip, raycasted: opt.raycasted });\r\n}\r\n\r\nmodule.exports = exports = tube;\r\n\r\n", "/**\r\n * @author jscastro / https://github.com/jscastro76\r\n */\r\n\r\nconst THREE = require(\"./CSS2DRenderer.js\");\r\n\r\nfunction LabelRenderer(map) {\r\n\r\n\tthis.map = map;\r\n\r\n\tthis.renderer = new THREE.CSS2DRenderer();\r\n\r\n\tthis.renderer.setSize(this.map.getCanvas().clientWidth, this.map.getCanvas().clientHeight);\r\n\tthis.renderer.domElement.style.position = 'absolute';\r\n\tthis.renderer.domElement.id = 'labelCanvas'; //TODO: this value must come by parameter\r\n\tthis.renderer.domElement.style.top = 0;\r\n\tthis.renderer.domElement.style.zIndex = \"0\";\r\n\tthis.map.getCanvasContainer().appendChild(this.renderer.domElement);\r\n\r\n\tthis.scene, this.camera;\r\n\r\n\tthis.dispose = function () {\r\n\t\tthis.map.getCanvasContainer().removeChild(this.renderer.domElement)\r\n\t\tthis.renderer.domElement.remove();\r\n\t\tthis.renderer = {};\r\n\t}\r\n\r\n\tthis.setSize = function (width, height) {\r\n\t\tthis.renderer.setSize(width, height);\r\n\t}\r\n\r\n\tthis.map.on('resize', function () {\r\n\t\tthis.renderer.setSize(this.map.getCanvas().clientWidth, this.map.getCanvas().clientHeight);\r\n\t}.bind(this));\r\n\r\n\tthis.state = {\r\n\t\treset: function () {\r\n\t\t\t//TODO: Implement a good state reset, check out what is made in WebGlRenderer\r\n\t\t}\r\n\t}\r\n\r\n\tthis.render = async function (scene, camera) {\r\n\t\tthis.scene = scene;\r\n\t\tthis.camera = camera;\r\n\t\treturn new Promise((resolve) => { resolve(this.renderer.render(scene, camera)) }); \r\n\t}\r\n\r\n\t//[jscastro] method to toggle Layer visibility\r\n\tthis.toggleLabels = async function (layerId, visible) {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tresolve(this.setVisibility(layerId, visible, this.scene, this.camera, this.renderer));\r\n\t\t}) \r\n\t};\r\n\r\n\t//[jscastro] method to set visibility\r\n\tthis.setVisibility = function (layerId, visible, scene, camera, renderer) {\r\n\t\tvar cache = this.renderer.cacheList;\r\n\t\tcache.forEach(function (l) {\r\n\t\t\tif (l.visible != visible && l.layer === layerId) {\r\n\t\t\t\tif ((visible && l.alwaysVisible) || !visible) {\r\n\t\t\t\t\tl.visible = visible;\r\n\t\t\t\t\trenderer.renderObject(l, scene, camera);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n}\r\n\r\nmodule.exports = exports = LabelRenderer;", "const SunCalc = require('../../utils/suncalc.js');\r\n\r\nclass BuildingShadows {\r\n\tconstructor(options, threebox) {\r\n\t\tthis.id = options.layerId;\r\n\t\tthis.type = 'custom';\r\n\t\tthis.renderingMode = '3d';\r\n\t\tthis.opacity = 0.5;\r\n\t\tthis.buildingsLayerId = options.buildingsLayerId;\r\n\t\tthis.minAltitude = options.minAltitude || 0.10;\r\n\t\tthis.tb = threebox;\r\n\t}\r\n\tonAdd(map, gl) {\r\n\t\tthis.map = map;\r\n\t\tconst vertexSource = `\r\n\t\t\tuniform mat4 u_matrix;\r\n\t\t\tuniform float u_height_factor;\r\n\t\t\tuniform float u_altitude;\r\n\t\t\tuniform float u_azimuth;\r\n\t\t\tattribute vec2 a_pos;\r\n\t\t\tattribute vec4 a_normal_ed;\r\n\t\t\tattribute lowp vec2 a_base;\r\n\t\t\tattribute lowp vec2 a_height;\r\n\t\t\tvoid main() {\r\n\t\t\t\tfloat base = max(0.0, a_base.x);\r\n\t\t\t\tfloat height = max(0.0, a_height.x);\r\n\t\t\t\tfloat t = mod(a_normal_ed.x, 2.0);\r\n\t\t\t\tvec4 pos = vec4(a_pos, t > 0.0 ? height : base, 1);\r\n\t\t\t\tfloat len = pos.z * u_height_factor / tan(u_altitude);\r\n\t\t\t\tpos.x += cos(u_azimuth) * len;\r\n\t\t\t\tpos.y += sin(u_azimuth) * len;\r\n\t\t\t\tpos.z = 0.0;\r\n\t\t\t\tgl_Position = u_matrix * pos;\r\n\t\t\t}\r\n\t\t\t`;\r\n\t\tconst fragmentSource = `\r\n\t\t\tvoid main() {\r\n\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 0.7);\r\n\t\t\t}\r\n\t\t\t`;\r\n\t\tconst vertexShader = gl.createShader(gl.VERTEX_SHADER);\r\n\t\tgl.shaderSource(vertexShader, vertexSource);\r\n\t\tgl.compileShader(vertexShader);\r\n\t\tconst fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\r\n\t\tgl.shaderSource(fragmentShader, fragmentSource);\r\n\t\tgl.compileShader(fragmentShader);\r\n\t\tthis.program = gl.createProgram();\r\n\t\tgl.attachShader(this.program, vertexShader);\r\n\t\tgl.attachShader(this.program, fragmentShader);\r\n\t\tgl.linkProgram(this.program);\r\n\t\tgl.validateProgram(this.program);\r\n\t\tthis.uMatrix = gl.getUniformLocation(this.program, \"u_matrix\");\r\n\t\tthis.uHeightFactor = gl.getUniformLocation(this.program, \"u_height_factor\");\r\n\t\tthis.uAltitude = gl.getUniformLocation(this.program, \"u_altitude\");\r\n\t\tthis.uAzimuth = gl.getUniformLocation(this.program, \"u_azimuth\");\r\n\t\tthis.aPos = gl.getAttribLocation(this.program, \"a_pos\");\r\n\t\tthis.aNormal = gl.getAttribLocation(this.program, \"a_normal_ed\");\r\n\t\tthis.aBase = gl.getAttribLocation(this.program, \"a_base\");\r\n\t\tthis.aHeight = gl.getAttribLocation(this.program, \"a_height\");\r\n\t}\r\n\trender(gl, matrix) {\r\n\t\tgl.useProgram(this.program);\r\n\t\tconst source = this.map.style.sourceCaches['composite'];\r\n\t\tconst coords = source.getVisibleCoordinates().reverse();\r\n\t\tconst buildingsLayer = this.map.getLayer(this.buildingsLayerId);\r\n\t\tconst context = this.map.painter.context;\r\n\t\tconst { lng, lat } = this.map.getCenter();\r\n\t\tconst pos = this.tb.getSunPosition(this.tb.lightDateTime, [lng, lat]);\r\n\t\tgl.uniform1f(this.uAltitude, (pos.altitude > this.minAltitude ? pos.altitude : 0));\r\n\t\tgl.uniform1f(this.uAzimuth, pos.azimuth + 3 * Math.PI / 2);\r\n\t\t//this.opacity = Math.sin(Math.max(pos.altitude, 0)) * 0.6;\r\n\t\tgl.enable(gl.BLEND);\r\n\t\t//gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.DST_ALPHA, gl.SRC_ALPHA);\r\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA)\r\n\t\tvar ext = gl.getExtension('EXT_blend_minmax');\r\n\t\t//gl.blendEquationSeparate(gl.FUNC_SUBTRACT, ext.MIN_EXT);\r\n\t\t//gl.blendEquation(gl.FUNC_ADD);\r\n\t\tgl.disable(gl.DEPTH_TEST);\r\n\t\tfor (const coord of coords) {\r\n\t\t\tconst tile = source.getTile(coord);\r\n\t\t\tconst bucket = tile.getBucket(buildingsLayer);\r\n\t\t\tif (!bucket) continue;\r\n\t\t\tconst [heightBuffer, baseBuffer] = bucket.programConfigurations.programConfigurations[this.buildingsLayerId]._buffers;\r\n\t\t\tgl.uniformMatrix4fv(this.uMatrix, false, coord.posMatrix);\r\n\t\t\tgl.uniform1f(this.uHeightFactor, Math.pow(2, coord.overscaledZ) / tile.tileSize / 8);\r\n\t\t\tfor (const segment of bucket.segments.get()) {\r\n\t\t\t\tconst numPrevAttrib = context.currentNumAttributes || 0;\r\n\t\t\t\tconst numNextAttrib = 2;\r\n\t\t\t\tfor (let i = numNextAttrib; i < numPrevAttrib; i++) gl.disableVertexAttribArray(i);\r\n\t\t\t\tconst vertexOffset = segment.vertexOffset || 0;\r\n\t\t\t\tgl.enableVertexAttribArray(this.aPos);\r\n\t\t\t\tgl.enableVertexAttribArray(this.aNormal);\r\n\t\t\t\tgl.enableVertexAttribArray(this.aHeight);\r\n\t\t\t\tgl.enableVertexAttribArray(this.aBase);\r\n\t\t\t\tbucket.layoutVertexBuffer.bind();\r\n\t\t\t\tgl.vertexAttribPointer(this.aPos, 2, gl.SHORT, false, 12, 12 * vertexOffset);\r\n\t\t\t\tgl.vertexAttribPointer(this.aNormal, 4, gl.SHORT, false, 12, 4 + 12 * vertexOffset);\r\n\t\t\t\theightBuffer.bind();\r\n\t\t\t\tgl.vertexAttribPointer(this.aHeight, 1, gl.FLOAT, false, 4, 4 * vertexOffset);\r\n\t\t\t\tbaseBuffer.bind();\r\n\t\t\t\tgl.vertexAttribPointer(this.aBase, 1, gl.FLOAT, false, 4, 4 * vertexOffset);\r\n\t\t\t\tbucket.indexBuffer.bind();\r\n\t\t\t\tcontext.currentNumAttributes = numNextAttrib;\r\n\t\t\t\tgl.drawElements(gl.TRIANGLES, segment.primitiveLength * 3, gl.UNSIGNED_SHORT, segment.primitiveOffset * 3 * 2);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nmodule.exports = exports = BuildingShadows;", "/**\r\n * @author peterqliu / https://github.com/peterqliu\r\n * @author jscastro / https://github.com/jscastro76\r\n */\r\n\r\nconst THREE = require(\"./three.js\");\r\nconst CameraSync = require(\"./camera/CameraSync.js\");\r\nconst utils = require(\"./utils/utils.js\");\r\nconst SunCalc = require(\"./utils/suncalc.js\");\r\nconst ThreeboxConstants = require(\"./utils/constants.js\");\r\nconst Objects = require(\"./objects/objects.js\");\r\nconst material = require(\"./utils/material.js\");\r\nconst sphere = require(\"./objects/sphere.js\");\r\nconst extrusion = require(\"./objects/extrusion.js\");\r\nconst label = require(\"./objects/label.js\");\r\nconst tooltip = require(\"./objects/tooltip.js\");\r\nconst loader = require(\"./objects/loadObj.js\");\r\nconst Object3D = require(\"./objects/Object3D.js\");\r\nconst line = require(\"./objects/line.js\");\r\nconst tube = require(\"./objects/tube.js\");\r\nconst LabelRenderer = require(\"./objects/LabelRenderer.js\");\r\nconst BuildingShadows = require(\"./objects/effects/BuildingShadows.js\");\r\n\r\nfunction Threebox(map, glContext, options){\r\n\r\n    this.init(map, glContext, options);\r\n\r\n};\r\n\r\nThreebox.prototype = {\r\n\r\n\trepaint: function () {\r\n\t\tthis.map.repaint = true;\r\n\t},\r\n\r\n\t/**\r\n\t * Threebox constructor init method\r\n\t * @param {mapboxgl.map} map\r\n\t * @param {WebGLRenderingContext} glContext\r\n\t * @param {defaultOptions} options\r\n\t */\r\n\tinit: function (map, glContext, options) {\r\n\r\n\t\t// apply starter options\r\n\t\tthis.options = utils._validate(options || {}, defaultOptions);\r\n\r\n\t\tthis.map = map;\r\n\t\tthis.map.tb = this; //[jscastro] needed if we want to queryRenderedFeatures from map.onload\r\n\r\n\t\tthis.objects = new Objects();\r\n\r\n\t\tthis.mapboxVersion = parseFloat(this.map.version); \r\n\r\n\t\t// Set up a THREE.js scene\r\n\t\tthis.renderer = new THREE.WebGLRenderer({\r\n\t\t\talpha: true,\r\n\t\t\tantialias: true,\r\n\t\t\tpreserveDrawingBuffer: options.preserveDrawingBuffer,\r\n\t\t\tcanvas: map.getCanvas(),\r\n\t\t\tcontext: glContext\r\n\t\t});\r\n\r\n\t\tthis.renderer.setPixelRatio(window.devicePixelRatio);\r\n\t\tthis.renderer.setSize(this.map.getCanvas().clientWidth, this.map.getCanvas().clientHeight);\r\n\t\tthis.renderer.outputEncoding = THREE.sRGBEncoding;\r\n\t\tthis.renderer.autoClear = false;\r\n\r\n\t\t// [jscastro] set labelRendered\r\n\t\tthis.labelRenderer = new LabelRenderer(this.map);\r\n\r\n\t\tthis.scene = new THREE.Scene();\r\n\t\tthis.world = new THREE.Group();\r\n\t\tthis.world.name = \"world\";\r\n\t\tthis.scene.add(this.world);\r\n\r\n\t\tthis.objectsCache = new Map();\r\n\t\tthis.zoomLayers = [];\r\n\r\n\t\tthis.fov = this.options.fov;\r\n\t\tthis.orthographic = this.options.orthographic || false;\r\n\r\n\t\t//raycaster for mouse events\r\n\t\tthis.raycaster = new THREE.Raycaster();\r\n\t\tthis.raycaster.layers.set(0);\r\n\t\t//this.raycaster.params.Points.threshold = 100;\r\n\r\n\t\tthis.mapCenter = this.map.getCenter();\r\n\t\tthis.mapCenterUnits = utils.projectToWorld([this.mapCenter.lng, this.mapCenter.lat]);\r\n\t\tthis.lightDateTime = new Date();\r\n\t\tthis.lightLng = this.mapCenter.lng;\r\n\t\tthis.lightLat = this.mapCenter.lat;\r\n\t\tthis.sunPosition;\r\n\t\tthis.rotationStep = 5;// degrees step size for rotation\r\n\t\tthis.gridStep = 6;// decimals to adjust the lnglat grid step, 6 = 11.1cm\r\n\t\tthis.altitudeStep = 0.1; // 1px = 0.1m = 10cm\r\n\t\tthis.defaultCursor = 'default';\r\n\r\n\t\tthis.lights = this.initLights;\r\n\t\tif (this.options.defaultLights) this.defaultLights();\r\n\t\tif (this.options.realSunlight) this.realSunlight(this.options.realSunlightHelper);\r\n\t\tthis.skyLayerName = 'sky-layer';\r\n\t\tthis.terrainSourceName = 'mapbox-dem';\r\n\t\tthis.terrainExaggeration = 1.0;\r\n\t\tthis.terrainLayerName = '';\r\n\t\tthis.enableSelectingFeatures = this.options.enableSelectingFeatures || false;\r\n\t\tthis.enableSelectingObjects = this.options.enableSelectingObjects || false;\r\n\t\tthis.enableDraggingObjects = this.options.enableDraggingObjects || false;\r\n\t\tthis.enableRotatingObjects = this.options.enableRotatingObjects || false;\r\n\t\tthis.enableTooltips = this.options.enableTooltips || false;\r\n\t\tthis.multiLayer = this.options.multiLayer || false;\r\n\t\tthis.enableHelpTooltips = this.options.enableHelpTooltips || false;\r\n\r\n\t\tthis.map.on('style.load', function () {\r\n\t\t\tthis.tb.zoomLayers = [];\r\n\t\t\t//[jscastro] if multiLayer, create a by default layer in the map, so tb.update won't be needed in client side to avoid duplicating calls to render\r\n\t\t\tif (this.tb.options.multiLayer) this.addLayer({ id: \"threebox_layer\", type: 'custom', renderingMode: '3d', map: this, onAdd: function (map, gl) { }, render: function (gl, matrix) { this.map.tb.update(); } })\r\n\r\n\t\t\tthis.once('idle', () => {\r\n\t\t\t\tthis.tb.setObjectsScale();\r\n\t\t\t});\r\n\r\n\t\t\tif (this.tb.options.sky) {\r\n\t\t\t\tthis.tb.sky = true;\r\n\t\t\t}\r\n\t\t\tif (this.tb.options.terrain) {\r\n\t\t\t\tthis.tb.terrain = true;\r\n\t\t\t}\r\n\t\t\tlet rasterLayers = ['satellite', 'mapbox-mapbox-satellite', 'satelliteLayer'];\r\n\t\t\trasterLayers.forEach((l) => {\r\n\t\t\t\tif (this.getLayer(l)) this.tb.terrainLayerName = l;\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t\t//[jscastro] new event map on load\r\n\t\tthis.map.on('load', function () {\r\n\r\n\t\t\t//[jscastro] new fields to manage events on map\r\n\t\t\tthis.selectedObject; //selected object through click\r\n\t\t\tthis.selectedFeature;//selected state id for extrusion layer features\r\n\t\t\tthis.draggedObject; //dragged object through mousedown + mousemove\r\n\t\t\tlet draggedAction; //dragged action to notify frontend\r\n\t\t\tthis.overedObject; //overed object through mouseover\r\n\t\t\tthis.overedFeature; //overed state for extrusion layer features\r\n\r\n\t\t\tlet canvas = this.getCanvasContainer();\r\n\t\t\tthis.getCanvasContainer().style.cursor = this.tb.defaultCursor;\r\n\t\t\t// Variable to hold the starting xy coordinates\r\n\t\t\t// when 'mousedown' occured.\r\n\t\t\tlet start;\r\n\r\n\t\t\t//when object selected\r\n\t\t\tlet startCoords = [];\r\n\r\n\t\t\tlet lngDiff; // difference between cursor and model left corner\r\n\t\t\tlet latDiff; // difference between cursor and model bottom corner\r\n\t\t\tlet altDiff; // difference between cursor and model height\r\n\t\t\tlet rotationDiff; \r\n\r\n\t\t\t// Return the xy coordinates of the mouse position\r\n\t\t\tfunction mousePos(e) {\r\n\t\t\t\tvar rect = canvas.getBoundingClientRect();\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: e.originalEvent.clientX - rect.left - canvas.clientLeft,\r\n\t\t\t\t\ty: e.originalEvent.clientY - rect.top - canvas.clientTop\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.unselectObject = function () {\r\n\t\t\t\t//deselect, reset and return\r\n\t\t\t\tthis.selectedObject.selected = false;\r\n\t\t\t\tthis.selectedObject = null;\r\n\t\t\t}\r\n\r\n\t\t\tthis.outObject = function () {\r\n\t\t\t\tthis.overedObject.over = false;\r\n\t\t\t\tthis.overedObject = null;\r\n\t\t\t}\r\n\r\n\t\t\tthis.unselectFeature = function (f) {\r\n\t\t\t\tif (typeof f.id == 'undefined') return;\r\n\t\t\t\tthis.setFeatureState(\r\n\t\t\t\t\t{ source: f.source, sourceLayer: f.sourceLayer, id: f.id },\r\n\t\t\t\t\t{ select: false }\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.removeTooltip(f);\r\n\t\t\t\tf = this.queryRenderedFeatures({ layers: [f.layer.id], filter: [\"==\", ['id'], f.id] })[0];\r\n\t\t\t\t// Dispatch new event f for unselected\r\n\t\t\t\tif (f) this.fire('SelectedFeatureChange', { detail: f });\r\n\t\t\t\tthis.selectedFeature = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.selectFeature = function(f) {\r\n\t\t\t\tthis.selectedFeature = f;\r\n\t\t\t\tthis.setFeatureState(\r\n\t\t\t\t\t{ source: this.selectedFeature.source, sourceLayer: this.selectedFeature.sourceLayer, id: this.selectedFeature.id },\r\n\t\t\t\t\t{ select: true }\r\n\t\t\t\t);\r\n\t\t\t\tthis.selectedFeature = this.queryRenderedFeatures({ layers: [this.selectedFeature.layer.id], filter: [\"==\", ['id'], this.selectedFeature.id] })[0];\r\n\t\t\t\tthis.addTooltip(this.selectedFeature);\r\n\t\t\t\t// Dispatch new event SelectedFeature for selected\r\n\t\t\t\tthis.fire('SelectedFeatureChange', { detail: this.selectedFeature });\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.outFeature = function(f) {\r\n\t\t\t\tif (this.overedFeature && typeof this.overedFeature != 'undefined' && this.overedFeature.id != f) {\r\n\t\t\t\t\tmap.setFeatureState(\r\n\t\t\t\t\t\t{ source: this.overedFeature.source, sourceLayer: this.overedFeature.sourceLayer, id: this.overedFeature.id },\r\n\t\t\t\t\t\t{ hover: false }\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.removeTooltip(this.overedFeature);\r\n\t\t\t\t\tthis.overedFeature = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.addTooltip = function(f) {\r\n\t\t\t\tif (!this.tb.enableTooltips) return;\r\n\t\t\t\tlet coordinates = this.tb.getFeatureCenter(f);\r\n\t\t\t\tlet t = this.tb.tooltip({\r\n\t\t\t\t\ttext: f.properties.name || f.id || f.type,\r\n\t\t\t\t\tmapboxStyle: true,\r\n\t\t\t\t\tfeature: f\r\n\t\t\t\t});\r\n\t\t\t\tt.setCoords(coordinates);\r\n\t\t\t\tthis.tb.add(t, f.layer.id);\r\n\t\t\t\tf.tooltip = t;\r\n\t\t\t\tf.tooltip.tooltip.visible = true;\r\n\t\t\t}\r\n\r\n\t\t\tthis.removeTooltip = function(f) {\r\n\t\t\t\tif (f.tooltip) {\r\n\t\t\t\t\tf.tooltip.visibility = false;\r\n\t\t\t\t\tthis.tb.remove(f.tooltip);\r\n\t\t\t\t\tf.tooltip = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tmap.onContextMenu = function (e) {\r\n\t\t\t\talert('contextMenu'); //TODO: implement a callback\r\n\t\t\t}\r\n\r\n\t\t\t// onclick function\r\n\t\t\tthis.onClick = function (e) {\r\n\t\t\t\tlet intersectionExists\r\n\t\t\t\tlet intersects = [];\r\n\t\t\t\tif (map.tb.enableSelectingObjects) {\r\n\t\t\t\t\t//raycast only if we are in a custom layer, for other layers go to the else, this avoids duplicated calls to raycaster\r\n\t\t\t\t\tintersects = this.tb.queryRenderedFeatures(e.point);\r\n\t\t\t\t}\r\n\t\t\t\tintersectionExists = typeof intersects[0] == 'object';\r\n\t\t\t\t// if intersect exists, highlight it\r\n\t\t\t\tif (intersectionExists) {\r\n\r\n\t\t\t\t\tlet nearestObject = Threebox.prototype.findParent3DObject(intersects[0]);\r\n\r\n\t\t\t\t\tif (nearestObject) {\r\n\t\t\t\t\t\t//if extrusion object selected, unselect\r\n\t\t\t\t\t\tif (this.selectedFeature) {\r\n\t\t\t\t\t\t\tthis.unselectFeature(this.selectedFeature);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//if not selected yet, select it\r\n\t\t\t\t\t\tif (!this.selectedObject) {\r\n\t\t\t\t\t\t\tthis.selectedObject = nearestObject;\r\n\t\t\t\t\t\t\tthis.selectedObject.selected = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (this.selectedObject.uuid != nearestObject.uuid) {\r\n\t\t\t\t\t\t\t//it's a different object, restore the previous and select the new one\r\n\t\t\t\t\t\t\tthis.selectedObject.selected = false;\r\n\t\t\t\t\t\t\tnearestObject.selected = true;\r\n\t\t\t\t\t\t\tthis.selectedObject = nearestObject;\r\n\r\n\t\t\t\t\t\t} else if (this.selectedObject.uuid == nearestObject.uuid) {\r\n\t\t\t\t\t\t\t//deselect, reset and return\r\n\t\t\t\t\t\t\tthis.unselectObject();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// fire the Wireframed event to notify UI status change\r\n\t\t\t\t\t\tthis.selectedObject.dispatchEvent({ type: 'Wireframed', detail: this.selectedObject });\r\n\t\t\t\t\t\tthis.selectedObject.dispatchEvent({ type: 'IsPlayingChanged', detail: this.selectedObject });\r\n\r\n\t\t\t\t\t\tthis.repaint = true;\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlet features = [];\r\n\t\t\t\t\tif (map.tb.enableSelectingFeatures) {\r\n\t\t\t\t\t\tfeatures = this.queryRenderedFeatures(e.point);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//now let's check the extrusion layer objects\r\n\t\t\t\t\tif (features.length > 0) {\r\n\r\n\t\t\t\t\t\tif (features[0].layer.type == 'fill-extrusion' && typeof features[0].id != 'undefined') {\r\n\r\n\t\t\t\t\t\t\t//if 3D object selected, unselect\r\n\t\t\t\t\t\t\tif (this.selectedObject) {\r\n\t\t\t\t\t\t\t\tthis.unselectObject();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t//if not selected yet, select it\r\n\t\t\t\t\t\t\tif (!this.selectedFeature) {\r\n\t\t\t\t\t\t\t\tthis.selectFeature(features[0])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (this.selectedFeature.id != features[0].id) {\r\n\t\t\t\t\t\t\t\t//it's a different feature, restore the previous and select the new one\r\n\t\t\t\t\t\t\t\tthis.unselectFeature(this.selectedFeature);\r\n\t\t\t\t\t\t\t\tthis.selectFeature(features[0])\r\n\r\n\t\t\t\t\t\t\t} else if (this.selectedFeature.id == features[0].id) {\r\n\t\t\t\t\t\t\t\t//deselect, reset and return\r\n\t\t\t\t\t\t\t\tthis.unselectFeature(this.selectedFeature);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.onMouseMove = function (e) {\r\n\r\n\t\t\t\t// Capture the ongoing xy coordinates\r\n\t\t\t\tlet current = mousePos(e);\r\n\r\n\t\t\t\tthis.getCanvasContainer().style.cursor = this.tb.defaultCursor;\r\n\t\t\t\t//check if being rotated\r\n\t\t\t\tif (e.originalEvent.altKey && this.draggedObject) {\r\n\r\n\t\t\t\t\tif (!map.tb.enableRotatingObjects) return;\r\n\t\t\t\t\tdraggedAction = 'rotate';\r\n\t\t\t\t\t// Set a UI indicator for dragging.\r\n\t\t\t\t\tthis.getCanvasContainer().style.cursor = 'move';\r\n\t\t\t\t\tvar minX = Math.min(start.x, current.x),\r\n\t\t\t\t\t\tmaxX = Math.max(start.x, current.x),\r\n\t\t\t\t\t\tminY = Math.min(start.y, current.y),\r\n\t\t\t\t\t\tmaxY = Math.max(start.y, current.y);\r\n\t\t\t\t\t//set the movement fluid we rotate only every 10px moved, in steps of 10 degrees up to 360\r\n\t\t\t\t\tlet rotation = { x: 0, y: 0, z: (Math.round(rotationDiff[2] + (~~((current.x - start.x) / this.tb.rotationStep) % 360 * this.tb.rotationStep) % 360)) };\r\n\t\t\t\t\t//now rotate the model depending the axis\r\n\t\t\t\t\tthis.draggedObject.setRotation(rotation);\r\n\t\t\t\t\tif (map.tb.enableHelpTooltips) this.draggedObject.addHelp(\"rot: \" + rotation.z + \"&#176;\");\r\n\t\t\t\t\t//this.draggedObject.setRotationAxis(rotation);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//check if being moved\r\n\t\t\t\tif (e.originalEvent.shiftKey && this.draggedObject) {\r\n\t\t\t\t\tif (!map.tb.enableDraggingObjects) return;\r\n\r\n\t\t\t\t\tdraggedAction = 'translate';\r\n\t\t\t\t\t// Set a UI indicator for dragging.\r\n\t\t\t\t\tthis.getCanvasContainer().style.cursor = 'move';\r\n\t\t\t\t\t// Capture the first xy coordinates, height must be the same to move on the same plane\r\n\t\t\t\t\tlet coords = e.lngLat;\r\n\t\t\t\t\tlet options = [Number((coords.lng + lngDiff).toFixed(this.tb.gridStep)), Number((coords.lat + latDiff).toFixed(this.tb.gridStep)), this.draggedObject.modelHeight];\r\n\t\t\t\t\tthis.draggedObject.setCoords(options);\r\n\t\t\t\t\tif (map.tb.enableHelpTooltips) this.draggedObject.addHelp(\"lng: \" + options[0] + \"&#176;, lat: \" + options[1] + \"&#176;\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//check if being moved on altitude\r\n\t\t\t\tif (e.originalEvent.ctrlKey && this.draggedObject) {\r\n\t\t\t\t\tif (!map.tb.enableDraggingObjects) return;\r\n\t\t\t\t\tdraggedAction = 'altitude';\r\n\t\t\t\t\t// Set a UI indicator for dragging.\r\n\t\t\t\t\tthis.getCanvasContainer().style.cursor = 'move';\r\n\t\t\t\t\t// Capture the first xy coordinates, height must be the same to move on the same plane\r\n\t\t\t\t\tlet now = (e.point.y * this.tb.altitudeStep);\r\n\t\t\t\t\tlet options = [this.draggedObject.coordinates[0], this.draggedObject.coordinates[1], Number((- now - altDiff).toFixed(this.tb.gridStep))];\r\n\t\t\t\t\tthis.draggedObject.setCoords(options);\r\n\t\t\t\t\tif (map.tb.enableHelpTooltips) this.draggedObject.addHelp(\"alt: \" + options[2] + \"m\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet intersectionExists\r\n\t\t\t\tlet intersects = [];\r\n\r\n\t\t\t\tif (map.tb.enableSelectingObjects) {\r\n\t\t\t\t\t// calculate objects intersecting the picking ray\r\n\t\t\t\t\tintersects = this.tb.queryRenderedFeatures(e.point);\r\n\t\t\t\t}\r\n\t\t\t\tintersectionExists = typeof intersects[0] == 'object';\r\n\r\n\t\t\t\t// if intersect exists, highlight it, if not check the extrusion layer\r\n\t\t\t\tif (intersectionExists) {\r\n\t\t\t\t\tlet nearestObject = Threebox.prototype.findParent3DObject(intersects[0]);\r\n\t\t\t\t\tif (nearestObject) {\r\n\t\t\t\t\t\tthis.outFeature(this.overedFeature);\r\n\t\t\t\t\t\tthis.getCanvasContainer().style.cursor = 'pointer';\r\n\t\t\t\t\t\tif (!this.selectedObject || nearestObject.uuid != this.selectedObject.uuid) {\r\n\t\t\t\t\t\t\tif (this.overedObject && this.overedObject.uuid != nearestObject.uuid) {\r\n\t\t\t\t\t\t\t\tthis.outObject();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tnearestObject.over = true;\r\n\t\t\t\t\t\t\tthis.overedObject = nearestObject;\r\n\t\t\t\t\t\t} else if (this.selectedObject && nearestObject.uuid == this.selectedObject.uuid) {\r\n\t\t\t\t\t\t\tnearestObject.over = true;\r\n\t\t\t\t\t\t\tthis.overedObject = nearestObject;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.repaint = true;\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t//clean the object overed\r\n\t\t\t\t\tif (this.overedObject) { this.outObject(); }\r\n\t\t\t\t\t//now let's check the extrusion layer objects\r\n\t\t\t\t\tlet features = [];\r\n\t\t\t\t\tif (map.tb.enableSelectingFeatures) {\r\n\t\t\t\t\t\tfeatures = this.queryRenderedFeatures(e.point);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (features.length > 0) {\r\n\t\t\t\t\t\tthis.outFeature(features[0]);\r\n\r\n\t\t\t\t\t\tif (features[0].layer.type == 'fill-extrusion' && typeof features[0].id != 'undefined') {\r\n\t\t\t\t\t\t\tif ((!this.selectedFeature || this.selectedFeature.id != features[0].id)) {\r\n\t\t\t\t\t\t\t\tthis.getCanvasContainer().style.cursor = 'pointer';\r\n\t\t\t\t\t\t\t\tthis.overedFeature = features[0];\r\n\t\t\t\t\t\t\t\tthis.setFeatureState(\r\n\t\t\t\t\t\t\t\t\t{ source: this.overedFeature.source, sourceLayer: this.overedFeature.sourceLayer, id: this.overedFeature.id },\r\n\t\t\t\t\t\t\t\t\t{ hover: true }\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tthis.overedFeature = map.queryRenderedFeatures({ layers: [this.overedFeature.layer.id], filter: [\"==\", ['id'], this.overedFeature.id] })[0];\r\n\t\t\t\t\t\t\t\tthis.addTooltip(this.overedFeature);\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.onMouseDown = function (e) {\r\n\r\n\t\t\t\t// Continue the rest of the function shiftkey or altkey are pressed, and if object is selected\r\n\t\t\t\tif (!((e.originalEvent.shiftKey || e.originalEvent.altKey || e.originalEvent.ctrlKey) && e.originalEvent.button === 0 && this.selectedObject)) return;\r\n\t\t\t\tif (!map.tb.enableDraggingObjects && !map.tb.enableRotatingObjects) return;\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tmap.getCanvasContainer().style.cursor = 'move';\r\n\r\n\t\t\t\t// Disable default drag zooming when the shift key is held down.\r\n\t\t\t\t//map.dragPan.disable();\r\n\r\n\t\t\t\t// Call functions for the following events\r\n\t\t\t\tmap.once('mouseup', this.onMouseUp);\r\n\t\t\t\t//map.once('mouseout', this.onMouseUp);\r\n\r\n\t\t\t\t// move the selected object\r\n\t\t\t\tthis.draggedObject = this.selectedObject;\r\n\r\n\t\t\t\t// Capture the first xy coordinates\r\n\t\t\t\tstart = mousePos(e);\r\n\t\t\t\tstartCoords = this.draggedObject.coordinates;\r\n\r\n\t\t\t\trotationDiff = utils.degreeify(this.draggedObject.rotation);\r\n\t\t\t\tlngDiff = startCoords[0] - e.lngLat.lng;\r\n\t\t\t\tlatDiff = startCoords[1] - e.lngLat.lat;\r\n\t\t\t\taltDiff = -this.draggedObject.modelHeight - (e.point.y * this.tb.altitudeStep);\r\n\t\t\t}\r\n\r\n\t\t\tthis.onMouseUp = function (e) {\r\n\r\n\t\t\t\t// Set a UI indicator for dragging.\r\n\t\t\t\tthis.getCanvasContainer().style.cursor = this.tb.defaultCursor;\r\n\r\n\t\t\t\t// Remove these events now that finish has been called.\r\n\t\t\t\t//map.off('mousemove', onMouseMove);\r\n\t\t\t\tthis.off('mouseup', this.onMouseUp);\r\n\t\t\t\tthis.off('mouseout', this.onMouseUp);\r\n\t\t\t\tthis.dragPan.enable();\r\n\r\n\t\t\t\tif (this.draggedObject) {\r\n\t\t\t\t\tthis.draggedObject.dispatchEvent({ type: 'ObjectDragged', detail: { draggedObject: this.draggedObject, draggedAction: draggedAction } });\r\n\t\t\t\t\tthis.draggedObject.removeHelp();\r\n\t\t\t\t\tthis.draggedObject = null;\r\n\t\t\t\t\tdraggedAction = null;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tthis.onMouseOut = function (e) {\r\n\t\t\t\tif (this.overedFeature) {\r\n\t\t\t\t\tlet features = this.queryRenderedFeatures(e.point);\r\n\t\t\t\t\tif (features.length > 0 && this.overedFeature.id != features[0].id) {\r\n\t\t\t\t\t\tthis.getCanvasContainer().style.cursor = this.tb.defaultCursor;\r\n\t\t\t\t\t\t//only unover when new feature is another\r\n\t\t\t\t\t\tthis.outFeature(features[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.onZoom = function (e) {\r\n\t\t\t\tthis.tb.zoomLayers.forEach((l) => { this.tb.toggleLayer(l); });\r\n\t\t\t\tthis.tb.setObjectsScale();\r\n\t\t\t}\r\n\r\n\t\t\tlet ctrlDown = false;\r\n\t\t\tlet shiftDown = false;\r\n\t\t\tlet ctrlKey = 17, cmdKey = 91, shiftKey = 16, sK = 83, dK = 68;\r\n\r\n\t\t\tfunction onKeyDown(e) {\r\n\r\n\t\t\t\tif (e.which === ctrlKey || e.which === cmdKey) ctrlDown = true;\r\n\t\t\t\tif (e.which === shiftKey) shiftDown = true;\r\n\t\t\t\tlet obj = this.selectedObject;\r\n\t\t\t\tif (shiftDown && e.which === sK && obj) {\r\n\t\t\t\t\t//shift + sS\r\n\t\t\t\t\tlet dc = utils.toDecimal;\r\n\t\t\t\t\tif (!obj.help) {\r\n\t\t\t\t\t\tlet s = obj.modelSize;\r\n\t\t\t\t\t\tlet sf = 1;\r\n\t\t\t\t\t\tif (obj.userData.units !== 'meters') {\r\n\t\t\t\t\t\t\t//if not meters, calculate scale to the current lat\r\n\t\t\t\t\t\t\tsf = utils.projectedUnitsPerMeter(obj.coordinates[1]);\r\n\t\t\t\t\t\t\tif (!sf) { sf = 1; };\r\n\t\t\t\t\t\t\tsf = dc(sf, 7);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (map.tb.enableHelpTooltips) obj.addHelp(\"size(m): \" + dc((s.x / sf), 3) + \" W, \" + dc((s.y / sf), 3) + \" L, \" + dc((s.z / sf), 3) + \" H\");\r\n\t\t\t\t\t\tthis.repaint = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tobj.removeHelp();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\r\n\t\t\tfunction onKeyUp (e) {\r\n\t\t\t\tif (e.which == ctrlKey || e.which == cmdKey) ctrlDown = false;\r\n\t\t\t\tif (e.which === shiftKey) shiftDown = false;\r\n\t\t\t}\r\n\r\n\t\t\t//listener to the events\r\n\t\t\t//this.on('contextmenu', map.onContextMenu);\r\n\t\t\tthis.on('click', this.onClick);\r\n\t\t\tthis.on('mousemove', this.onMouseMove);\r\n\t\t\tthis.on('mouseout', this.onMouseOut)\r\n\t\t\tthis.on('mousedown', this.onMouseDown);\r\n\t\t\tthis.on('zoom', this.onZoom);\r\n\t\t\tthis.on('zoomend', this.onZoom);\r\n\r\n\t\t\tdocument.addEventListener('keydown', onKeyDown.bind(this), true);\r\n\t\t\tdocument.addEventListener('keyup', onKeyUp.bind(this));\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\t//[jscastro] added property to manage an athmospheric sky layer\r\n\tget sky() { return this.options.sky; },\r\n\tset sky(value) {\r\n\t\tif (value) {\r\n\t\t\tthis.createSkyLayer();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.removeLayer(this.skyLayerName);\r\n\t\t}\r\n\t\tthis.options.sky = value;\r\n\t},\r\n\r\n\t//[jscastro] added property to manage an athmospheric sky layer\r\n\tget terrain() { return this.options.terrain; },\r\n\tset terrain(value) {\r\n\t\tthis.terrainLayerName = '';\r\n\t\tif (value) {\r\n\t\t\tthis.createTerrainLayer();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (this.mapboxVersion < 2.0) { console.warn(\"Terrain layer are only supported by Mapbox-gl-js > v2.0\"); return };\r\n\r\n\t\t\tif (this.map.getTerrain()) {\r\n\t\t\t\tthis.map.setTerrain(null); //\r\n\t\t\t\tthis.map.removeSource(this.terrainSourceName);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.options.terrain = value;\r\n\t},\r\n\r\n\t//[jscastro] added property to manage FOV for perspective camera\r\n\tget fov() { return this.options.fov;},\r\n\tset fov(value) {\r\n\t\tif (this.camera instanceof THREE.PerspectiveCamera && this.options.fov !== value) {\r\n\t\t\tthis.map.transform.fov = value;\r\n\t\t\tthis.camera.fov = this.map.transform.fov;\r\n\t\t\tthis.cameraSync.setupCamera();\r\n\t\t\tthis.map.repaint = true;\r\n\t\t\tthis.options.fov = value;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t//[jscastro] added property to manage camera type\r\n\tget orthographic() { return this.options.orthographic; },\r\n\tset orthographic(value) {\r\n\t\tconst h = this.map.getCanvas().clientHeight;\r\n\t\tconst w = this.map.getCanvas().clientWidth;\r\n\t\tif (value) {\r\n\t\t\tthis.map.transform.fov = 0;\r\n\t\t\tthis.camera = new THREE.OrthographicCamera(w / - 2, w / 2, h / 2, h / - 2, 0.1, 1e21);\r\n\t\t} else {\r\n\t\t\tthis.map.transform.fov = this.fov;\r\n\t\t\tthis.camera = new THREE.PerspectiveCamera(this.map.transform.fov, w / h, 0.1, 1e21);\r\n\t\t}\r\n\t\tthis.camera.layers.enable(0);\r\n\t\tthis.camera.layers.enable(1);\r\n\t\t// The CameraSync object will keep the Mapbox and THREE.js camera movements in sync.\r\n\t\t// It requires a world group to scale as we zoom in. Rotation is handled in the camera's\r\n\t\t// projection matrix itself (as is field of view and near/far clipping)\r\n\t\t// It automatically registers to listen for move events on the map so we don't need to do that here\r\n\t\tthis.cameraSync = new CameraSync(this.map, this.camera, this.world);\r\n\t\tthis.map.repaint = true; // repaint the map\r\n\t\tthis.options.orthographic = value;\r\n\r\n\t},\r\n\r\n\t//[jscastro] method to create an athmospheric sky layer\r\n\tcreateSkyLayer: function () {\r\n\t\tif (this.mapboxVersion < 2.0) { console.warn(\"Sky layer are only supported by Mapbox-gl-js > v2.0\"); this.options.sky = false; return };\r\n\r\n\t\tlet layer = this.map.getLayer(this.skyLayerName);\r\n\t\tif (!layer) {\r\n\t\t\tthis.map.addLayer({\r\n\t\t\t\t'id': this.skyLayerName,\r\n\t\t\t\t'type': 'sky',\r\n\t\t\t\t'paint': {\r\n\t\t\t\t\t'sky-opacity': [\r\n\t\t\t\t\t\t'interpolate',\r\n\t\t\t\t\t\t['linear'],\r\n\t\t\t\t\t\t['zoom'],\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t5,\r\n\t\t\t\t\t\t0.3,\r\n\t\t\t\t\t\t8,\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t],\r\n\t\t\t\t\t// set up the sky layer for atmospheric scattering\r\n\t\t\t\t\t'sky-type': 'atmosphere',\r\n\t\t\t\t\t// explicitly set the position of the sun rather than allowing the sun to be attached to the main light source\r\n\t\t\t\t\t'sky-atmosphere-sun': this.getSunSky(this.lightDateTime),\r\n\t\t\t\t\t// set the intensity of the sun as a light source (0-100 with higher values corresponding to brighter skies)\r\n\t\t\t\t\t'sky-atmosphere-sun-intensity': 10\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.map.once('idle', () => {\r\n\t\t\t\tthis.setSunlight();\r\n\t\t\t\tthis.repaint();\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\t//[jscastro] method to create a terrain layer\r\n\tcreateTerrainLayer: function () {\r\n\t\tif (this.mapboxVersion < 2.0) { console.warn(\"Terrain layer are only supported by Mapbox-gl-js > v2.0\"); this.options.terrain = false; return };\r\n\t\tlet layer = this.map.getTerrain();\r\n\t\tif (!layer) {\r\n\t\t\t// add the DEM source as a terrain layer with exaggerated height\r\n\t\t\tthis.map.addSource(this.terrainSourceName, {\r\n\t\t\t\t'type': 'raster-dem',\r\n\t\t\t\t'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',\r\n\t\t\t\t'tileSize': 512,\r\n\t\t\t\t'maxzoom': 14\r\n\t\t\t});\r\n\t\t\tthis.map.setTerrain({ 'source': this.terrainSourceName, 'exaggeration': this.terrainExaggeration });\r\n\t\t\tthis.map.once('idle', () => {\r\n\t\t\t\t//alert(\"idle\");\r\n\t\t\t\tthis.cameraSync.updateCamera();\r\n\t\t\t\tthis.repaint();\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t},\r\n\r\n\t// Objects\r\n\tsphere: function (options) {\r\n\t\tthis.setDefaultView(options, this.options);\r\n\t\treturn sphere(options, this.world)\r\n\t},\r\n\r\n\tline: line,\r\n\r\n\tlabel: label,\r\n\r\n\ttooltip: tooltip,\r\n\r\n\ttube: function (options) {\r\n\t\tthis.setDefaultView(options, this.options);\r\n\t\treturn tube(options, this.world)\r\n\t},\r\n\r\n\textrusion: function (options) {\r\n\t\tthis.setDefaultView(options, this.options);\r\n\t\treturn extrusion(options);\r\n\t},\r\n\r\n\tObject3D: function (options) {\r\n\t\tthis.setDefaultView(options, this.options);\r\n\t\treturn Object3D(options)\r\n\t},\r\n\r\n\tloadObj: async function loadObj(options, cb) {\r\n\t\tthis.setDefaultView(options, this.options);\r\n\t\tif (options.clone === false) {\r\n\t\t\treturn new Promise(\r\n\t\t\t\tasync (resolve) => {\r\n\t\t\t\t\tloader(options, cb, async (obj) => {\r\n\t\t\t\t\t\tresolve(obj);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//[jscastro] new added cache for 3D Objects\r\n\t\t\tlet cache = this.objectsCache.get(options.obj);\r\n\t\t\tif (cache) {\r\n\t\t\t\tcache.promise\r\n\t\t\t\t\t.then(obj => {\r\n\t\t\t\t\t\tcb(obj.duplicate(options));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.objectsCache.delete(options.obj);\r\n\t\t\t\t\t\tconsole.error(\"Could not load model file: \" + options.obj);\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.objectsCache.set(options.obj, {\r\n\t\t\t\t\tpromise: new Promise(\r\n\t\t\t\t\t\tasync (resolve, reject) => {\r\n\t\t\t\t\t\t\tloader(options, cb, async (obj) => {\r\n\t\t\t\t\t\t\t\tif (obj.duplicate) {\r\n\t\t\t\t\t\t\t\t\tresolve(obj.duplicate());\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treject(obj);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Material\r\n\r\n\tmaterial: function (o) {\r\n\t\treturn material(o)\r\n\t},\r\n\r\n\tinitLights : {\r\n\t\tambientLight: null,\r\n\t\tdirLight: null,\r\n\t\tdirLightBack: null,\r\n\t\tdirLightHelper: null,\r\n\t\themiLight: null,\r\n\t\tpointLight: null\r\n\t},\r\n\r\n\tutils: utils,\r\n\r\n\tSunCalc: SunCalc,\r\n\r\n\tConstants: ThreeboxConstants,\r\n\r\n\tprojectToWorld: function (coords) {\r\n\t\treturn this.utils.projectToWorld(coords)\r\n\t},\r\n\r\n\tunprojectFromWorld: function (v3) {\r\n\t\treturn this.utils.unprojectFromWorld(v3)\r\n\t},\r\n\r\n\tprojectedUnitsPerMeter: function (lat) {\r\n\t\treturn this.utils.projectedUnitsPerMeter(lat)\r\n\t},\r\n\r\n\t//get the center point of a feature\r\n\tgetFeatureCenter: function getFeatureCenter(feature, obj, level) {\r\n\t\treturn utils.getFeatureCenter(feature, obj, level);\r\n\t},\r\n\r\n\tgetObjectHeightOnFloor: function (feature, obj, level) {\r\n\t\treturn utils.getObjectHeightOnFloor(feature, obj, level);\r\n\t},\r\n\r\n\tqueryRenderedFeatures: function (point) {\r\n\r\n\t\tlet mouse = new THREE.Vector2();\r\n\r\n\t\t// // scale mouse pixel position to a percentage of the screen's width and height\r\n\t\tmouse.x = (point.x / this.map.transform.width) * 2 - 1;\r\n\t\tmouse.y = 1 - (point.y / this.map.transform.height) * 2;\r\n\r\n\t\tthis.raycaster.setFromCamera(mouse, this.camera);\r\n\r\n\t\t// calculate objects intersecting the picking ray\r\n\t\tlet intersects = this.raycaster.intersectObjects(this.world.children, true);\r\n\r\n\t\treturn intersects\r\n\t},\r\n\r\n\t//[jscastro] find 3D object of a mesh. this method is needed to know the object of a raycasted mesh\r\n\tfindParent3DObject: function (mesh) {\r\n\t\t//find the Parent Object3D of the mesh captured by Raytracer\r\n\t\tvar result;\r\n\t\tmesh.object.traverseAncestors(function (m) {\r\n\t\t\tif (m.parent)\r\n\t\t\t\tif (m.parent.type == \"Group\" && m.userData.obj) {\r\n\t\t\t\t\tresult = m;\r\n\t\t\t\t}\r\n\t\t});\r\n\t\treturn result;\r\n\t},\r\n\r\n\t//[jscastro] method to replicate behaviour of map.setLayoutProperty when Threebox are affected\r\n\tsetLayoutProperty: function (layerId, name, value) {\r\n\t\t//first set layout property at the map\r\n\t\tthis.map.setLayoutProperty(layerId, name, value);\r\n\t\tif (value !== null && value !== undefined) {\r\n\t\t\tif (name === 'visibility') {\r\n\t\t\t\tthis.world.children.filter(o => (o.layer === layerId)).forEach((o) => { o.visibility = value });\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//[jscastro] Custom Layers doesn't work on minzoom and maxzoom attributes, and if the layer is including labels they don't hide either on minzoom\r\n\tsetLayerZoomRange: function (layerId, minZoomLayer, maxZoomLayer) {\r\n\t\tif (this.map.getLayer(layerId)) {\r\n\t\t\tthis.map.setLayerZoomRange(layerId, minZoomLayer, maxZoomLayer);\r\n\t\t\tif (!this.zoomLayers.includes(layerId)) this.zoomLayers.push(layerId);\r\n\t\t\tthis.toggleLayer(layerId);\r\n\t\t}\r\n\t},\r\n\r\n\t//[jscastro] method to set the height of all the objects in a level. this only works if the objects have a geojson feature\r\n\tsetLayerHeigthProperty: function (layerId, level) {\r\n\t\tlet layer = this.map.getLayer(layerId);\r\n\t\tif (!layer) return;\r\n\t\tif (layer.type == \"fill-extrusion\") {\r\n\t\t\tlet data = this.map.getStyle().sources[layer.source].data;\r\n\t\t\tlet features = data.features;\r\n\t\t\tfeatures.forEach(function (f) {\r\n\t\t\t\tf.properties.level = level;\r\n\t\t\t});\r\n\t\t\t//we change the level on the source\r\n\t\t\tthis.map.getSource(layer.source).setData(data);\r\n\t\t} else if (layer.type == \"custom\") {\r\n\t\t\tthis.world.children.forEach(function (obj) {\r\n\t\t\t\tlet feature = obj.userData.feature;\r\n\t\t\t\tif (feature && feature.layer === layerId) {\r\n\t\t\t\t\t//TODO: this could be a multidimensional array\r\n\t\t\t\t\tlet location = this.tb.getFeatureCenter(feature, obj, level);\r\n\t\t\t\t\tobj.setCoords(location);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\t//[jscastro] method to set globally all the objects that are fixedScale\r\n\tsetObjectsScale: function () {\r\n\t\tthis.world.children.filter(o => (o.fixedZoom != null)).forEach((o) => { o.setObjectScale(this.map.transform.scale); });\r\n\t},\r\n\r\n\t//[jscastro] mapbox setStyle removes all the layers, including custom layers, so tb.world must be cleaned up too\r\n\tsetStyle: function (styleId, options) {\r\n\t\tthis.clear().then(() => {\r\n\t\t\tthis.map.setStyle(styleId, options);\r\n\t\t});\r\n\t},\r\n\r\n\t//[jscastro] method to toggle Layer visibility checking zoom range\r\n\ttoggleLayer: function (layerId, visible = true) {\r\n\t\tlet l = this.map.getLayer(layerId);\r\n\t\tif (l) {\r\n\t\t\tif (!visible) {\r\n\t\t\t\tthis.toggle(l.id, false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet z = this.map.getZoom();\r\n\t\t\tif (l.minzoom && z < l.minzoom) { this.toggle(l.id, false); return; };\r\n\t\t\tif (l.maxzoom && z >= l.maxzoom) { this.toggle(l.id, false); return; };\r\n\t\t\tthis.toggle(l.id, true);\r\n\t\t};\r\n\t},\r\n\r\n\t//[jscastro] method to toggle Layer visibility\r\n\ttoggle: function (layerId, visible) {\r\n\t\t//call\r\n\t\tthis.setLayoutProperty(layerId, 'visibility', (visible ? 'visible' : 'none'))\r\n\t\tthis.labelRenderer.toggleLabels(layerId, visible);\r\n\t},\r\n\r\n\tupdate: function () {\r\n\r\n\t\tif (this.map.repaint) this.map.repaint = false\r\n\r\n\t\tvar timestamp = Date.now();\r\n\r\n\t\t// Update any animations\r\n\t\tthis.objects.animationManager.update(timestamp);\r\n\r\n\t\tthis.updateLightHelper();\r\n\r\n\t\t// Render the scene and repaint the map\r\n\t\tthis.renderer.resetState(); //update threejs r126\r\n\t\tthis.renderer.render(this.scene, this.camera);\r\n\r\n\t\t// [jscastro] Render any label\r\n\t\tthis.labelRenderer.render(this.scene, this.camera);\r\n\t\tif (this.options.passiveRendering === false) this.map.triggerRepaint();\r\n\t},\r\n\r\n\tadd: function (obj, layerId, sourceId) {\r\n\t\t//[jscastro] remove the tooltip if not enabled\r\n\t\tif (!this.enableTooltips && obj.tooltip) { obj.tooltip.visibility = false };\r\n\t\tthis.world.add(obj);\r\n\t\tif (layerId) {\r\n\t\t\tobj.layer = layerId;\r\n\t\t\tobj.source = sourceId;\r\n\t\t\tlet l = this.map.getLayer(layerId);\r\n\t\t\tif (l) {\r\n\t\t\t\tlet v = l.visibility;\r\n\t\t\t\tlet u = typeof v === 'undefined';\r\n\t\t\t\tobj.visibility = (u || v === 'visible' ? true : false);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tremoveByName: function (name) {\r\n\t\tlet obj = this.world.getObjectByName(name);\r\n\t\tif (obj) this.remove(obj);\r\n\t},\r\n\r\n\tremove: function (obj) {\r\n\t\tif (this.map.selectedObject && obj.uuid == this.map.selectedObject.uuid) this.map.unselectObject();\r\n\t\tif (this.map.draggedObject && obj.uuid == this.map.draggedObject.uuid) this.map.draggedObject = null;\r\n\t\tif (obj.dispose) obj.dispose();\r\n\t\tthis.world.remove(obj);\r\n\t\tobj = null;\r\n\t},\r\n\r\n\t//[jscastro] this clears tb.world in order to dispose properly the resources\r\n\tclear: async function (layerId = null, dispose = false) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet objects = [];\r\n\t\t\tthis.world.children.forEach(function (object) {\r\n\t\t\t\tobjects.push(object);\r\n\t\t\t});\r\n\t\t\tfor (let i = 0; i < objects.length; i++) {\r\n\t\t\t\tlet obj = objects[i];\r\n\t\t\t\t//if layerId, check the layer to remove, otherwise always remove\r\n\t\t\t\tif (obj.layer === layerId || !layerId) {\r\n\t\t\t\t\tthis.remove(obj);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (dispose) {\r\n\t\t\t\tthis.objectsCache.forEach((value) => {\r\n\t\t\t\t\tvalue.promise.then(obj => {\r\n\t\t\t\t\t\tobj.dispose();\r\n\t\t\t\t\t\tobj = null;\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tresolve(\"clear\");\r\n\t\t});\r\n\t},\r\n\r\n\t//[jscastro] remove a layer clearing first the 3D objects from this layer in tb.world\r\n\tremoveLayer: function (layerId) {\r\n\t\tthis.clear(layerId, true).then( () => {\r\n\t\t\tthis.map.removeLayer(layerId);\r\n\t\t});\r\n\t},\r\n\r\n\t//[jscastro] get the sun position (azimuth, altitude) from a given datetime, lng, lat\r\n\tgetSunPosition: function (date, coords) {\r\n\t\treturn SunCalc.getPosition(date || Date.now(), coords[1], coords[0]);  \r\n\t},\r\n\r\n\t//[jscastro] get the sun times for sunrise, sunset, etc.. from a given datetime, lng, lat and alt\r\n\tgetSunTimes: function (date, coords) {\r\n\t\treturn SunCalc.getTimes(date, coords[1], coords[0], (coords[2] ? coords[2] : 0));\r\n\t},\r\n\r\n\t//[jscastro] set shadows for fill-extrusion layers\r\n\tsetBuildingShadows: function (options) {\r\n\t\tif (this.map.getLayer(options.buildingsLayerId)) {\r\n\t\t\tlet layer = new BuildingShadows(options, this);\r\n\t\t\tthis.map.addLayer(layer, options.buildingsLayerId);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.warn(\"The layer '\" + options.buildingsLayerId + \"' does not exist in the map.\");\r\n\t\t}\r\n\t},\r\n\r\n\t//[jscastro] This method set the sun light for a given datetime and lnglat\r\n\tsetSunlight: function (newDate = new Date(), coords) {\r\n\t\tif (!this.lights.dirLight || !this.options.realSunlight) {\r\n\t\t\tconsole.warn(\"To use setSunlight it's required to set realSunlight : true in Threebox initial options.\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar date = new Date(newDate.getTime());\r\n\r\n\t\tif (coords) {\r\n\t\t\tif (coords.lng && coords.lat) this.mapCenter = coords\r\n\t\t\telse this.mapCenter = { lng: coords[0], lat: coords[1] };\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.mapCenter = this.map.getCenter();\r\n\t\t}\r\n\r\n\t\tif (this.lightDateTime && this.lightDateTime.getTime() === date.getTime() && this.lightLng === this.mapCenter.lng && this.lightLat === this.mapCenter.lat) {\r\n\t\t\treturn; //setSunLight could be called on render, so due to performance, avoid duplicated calls\r\n\t\t}\r\n\r\n\t\tthis.lightDateTime = date;\r\n\t\tthis.lightLng = this.mapCenter.lng; \r\n\t\tthis.lightLat = this.mapCenter.lat\r\n\t\tthis.sunPosition = this.getSunPosition(date, [this.mapCenter.lng, this.mapCenter.lat]);  \r\n\t\tlet altitude = this.sunPosition.altitude;\r\n\t\tlet azimuth = Math.PI + this.sunPosition.azimuth;\r\n\t\t//console.log(\"Altitude: \" + utils.degreeify(altitude) + \", Azimuth: \" + (utils.degreeify(azimuth)));\r\n\r\n\t\tlet radius = ThreeboxConstants.WORLD_SIZE / 2;\r\n\t\tlet alt = Math.sin(altitude);\r\n\t\tlet altRadius = Math.cos(altitude);\r\n\t\tlet azCos = Math.cos(azimuth) * altRadius;\r\n\t\tlet azSin = Math.sin(azimuth) * altRadius;\r\n\r\n\t\tthis.lights.dirLight.position.set(azSin, azCos, alt);\r\n\t\tthis.lights.dirLight.position.multiplyScalar(radius);\r\n\t\tthis.lights.dirLight.intensity = Math.max(alt, 0);\r\n\t\tthis.lights.hemiLight.intensity = Math.max(alt * 1, 0.1);\r\n\t\t//console.log(\"Intensity:\" + this.lights.dirLight.intensity);\r\n\t\tthis.lights.dirLight.updateMatrixWorld();\r\n\t\tthis.updateLightHelper();\r\n\t\tif (this.map.loaded()) {\r\n\t\t\tthis.updateSunGround(this.sunPosition);\r\n\t\t\tthis.map.setLight({\r\n\t\t\t\tanchor: 'map',\r\n\t\t\t\tposition: [3, 180 + this.sunPosition.azimuth * 180 / Math.PI, 90 - this.sunPosition.altitude * 180 / Math.PI],\r\n\t\t\t\tintensity: Math.cos(this.sunPosition.altitude), //0.4,\r\n\t\t\t\tcolor: `hsl(40, ${50 * Math.cos(this.sunPosition.altitude)}%, ${Math.max(20, 20 + (96 * Math.sin(this.sunPosition.altitude)))}%)`\r\n\r\n\t\t\t}, { duration: 0 });\r\n\t\t\tif (this.sky) { this.updateSunSky(this.getSunSky(date, this.sunPosition));}\r\n\t\t}\r\n\t},\r\n\r\n\tgetSunSky: function (date, sunPos) {\r\n\t\tif (!sunPos) {\r\n\t\t\tvar center = this.map.getCenter();\r\n\t\t\tsunPos = this.getSunPosition(\r\n\t\t\t\tdate || Date.now(), [center.lng, center.lat]\r\n\t\t\t);\r\n\t\t}\r\n\t\tvar sunAzimuth = 180 + (sunPos.azimuth * 180) / Math.PI;\r\n\t\tvar sunAltitude = 90 - (sunPos.altitude * 180) / Math.PI;\r\n\t\treturn [sunAzimuth, sunAltitude];\r\n\t},\r\n\r\n\tupdateSunSky: function (sunPos) {\r\n\t\tif (this.sky) {\r\n\t\t\t// update the `sky-atmosphere-sun` paint property with the position of the sun based on the selected time\r\n\t\t\tthis.map.setPaintProperty(this.skyLayerName, 'sky-atmosphere-sun', sunPos);\r\n\t\t}\r\n\t},\r\n\r\n\tupdateSunGround: function (sunPos) {\r\n\t\tif (this.terrainLayerName != '') {\r\n\t\t\t// update the raster layer paint property with the position of the sun based on the selected time\r\n\t\t\tthis.map.setPaintProperty(this.terrainLayerName, 'raster-opacity', Math.max(Math.min(1, sunPos.altitude * 4), 0.25));\r\n\t\t}\r\n\t},\r\n\r\n\t//[jscastro] this updates the directional light helper\r\n\tupdateLightHelper: function () {\r\n\t\tif (this.lights.dirLightHelper) {\r\n\t\t\tthis.lights.dirLightHelper.position.setFromMatrixPosition(this.lights.dirLight.matrixWorld);\r\n\t\t\tthis.lights.dirLightHelper.updateMatrix();\r\n\t\t\tthis.lights.dirLightHelper.update();\r\n\t\t}\r\n\t},\r\n\r\n\t//[jscastro] method to fully dispose the resources, watch out is you call this without navigating to other page\r\n\tdispose: async function () {\r\n\r\n\t\tconsole.log(this.memory());\r\n\t\t//console.log(window.performance.memory);\r\n\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tresolve(\r\n\t\t\t\tthis.clear(null, true).then((resolve) => {\r\n\t\t\t\t\tthis.map.remove();\r\n\t\t\t\t\tthis.map = {};\r\n\t\t\t\t\tthis.scene.remove(this.world);\r\n\t\t\t\t\tthis.world.children = [];\r\n\t\t\t\t\tthis.world = null;\r\n\t\t\t\t\tthis.objectsCache.clear();\r\n\t\t\t\t\tthis.labelRenderer.dispose();\r\n\t\t\t\t\tconsole.log(this.memory());\r\n\t\t\t\t\tthis.renderer.dispose();\r\n\t\t\t\t\treturn resolve;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\t//console.log(window.performance.memory);\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tdefaultLights: function () {\r\n\r\n\t\tthis.lights.ambientLight = new THREE.AmbientLight(new THREE.Color('hsl(0, 0%, 100%)'), 0.75);\r\n\t\tthis.scene.add(this.lights.ambientLight);\r\n\r\n\t\tthis.lights.dirLightBack = new THREE.DirectionalLight(new THREE.Color('hsl(0, 0%, 100%)'), 0.25);\r\n\t\tthis.lights.dirLightBack.position.set(30, 100, 100);\r\n\t\tthis.scene.add(this.lights.dirLightBack);\r\n\r\n\t\tthis.lights.dirLight  = new THREE.DirectionalLight(new THREE.Color('hsl(0, 0%, 100%)'), 0.25);\r\n\t\tthis.lights.dirLight.position.set(-30, 100, -100);\r\n\t\tthis.scene.add(this.lights.dirLight);\r\n\r\n\t},\r\n\r\n\trealSunlight: function (helper = false) {\r\n\r\n\t\tthis.renderer.shadowMap.enabled = true;\r\n\t\t//this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n\t\tthis.lights.dirLight = new THREE.DirectionalLight(0xffffff, 1);\r\n\t\tthis.scene.add(this.lights.dirLight);\r\n\t\tif (helper) {\r\n\t\t\tthis.lights.dirLightHelper = new THREE.DirectionalLightHelper(this.lights.dirLight, 5);\r\n\t\t\tthis.scene.add(this.lights.dirLightHelper);\r\n\t\t}\r\n\t\tlet d2 = 1000; let r2 = 2; let mapSize2 = 8192;\r\n\t\tthis.lights.dirLight.castShadow = true;\r\n\t\tthis.lights.dirLight.shadow.radius = r2;\r\n\t\tthis.lights.dirLight.shadow.mapSize.width = mapSize2;\r\n\t\tthis.lights.dirLight.shadow.mapSize.height = mapSize2;\r\n\t\tthis.lights.dirLight.shadow.camera.top = this.lights.dirLight.shadow.camera.right = d2;\r\n\t\tthis.lights.dirLight.shadow.camera.bottom = this.lights.dirLight.shadow.camera.left = -d2;\r\n\t\tthis.lights.dirLight.shadow.camera.near = 1;\r\n\t\tthis.lights.dirLight.shadow.camera.visible = true;\r\n\t\tthis.lights.dirLight.shadow.camera.far = 400000000; \r\n\r\n\t\tthis.lights.hemiLight = new THREE.HemisphereLight(new THREE.Color(0xffffff), new THREE.Color(0xffffff), 0.6);\r\n\t\tthis.lights.hemiLight.color.setHSL(0.661, 0.96, 0.12);\r\n\t\tthis.lights.hemiLight.groundColor.setHSL(0.11, 0.96, 0.14);\r\n\t\tthis.lights.hemiLight.position.set(0, 0, 50);\r\n\t\tthis.scene.add(this.lights.hemiLight);\r\n\t\tthis.setSunlight();\r\n\r\n\t\tthis.map.once('idle', () => {\r\n\t\t\tthis.setSunlight();\r\n\t\t\tthis.repaint();\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tsetDefaultView: function (options, defOptions) {\r\n\t\toptions.bbox = (options.bbox || options.bbox == null) && defOptions.enableSelectingObjects;\r\n\t\toptions.tooltip = (options.tooltip || options.tooltip == null) && defOptions.enableTooltips;\r\n\t\toptions.mapScale = this.map.transform.scale;\r\n\t},\r\n\r\n\tmemory: function () { return this.renderer.info.memory },\r\n\r\n\tprograms: function () { return this.renderer.info.programs.length },\r\n\r\n\tversion: '2.2.7',\r\n\r\n}\r\n\r\nvar defaultOptions = {\r\n\tdefaultLights: false,\r\n\trealSunlight: false,\r\n\trealSunlightHelper: false,\r\n\tpassiveRendering: true,\r\n\tpreserveDrawingBuffer: false,\r\n\tenableSelectingFeatures: false,\r\n\tenableSelectingObjects: false,\r\n\tenableDraggingObjects: false,\r\n\tenableRotatingObjects: false,\r\n\tenableTooltips: false,\r\n\tenableHelpTooltips: false,\r\n\tmultiLayer: false,\r\n\torthographic: false,\r\n\tfov: ThreeboxConstants.FOV_DEGREES,\r\n\tsky: false,\r\n\tterrain: false\r\n}\r\nmodule.exports = exports = Threebox;\r\n\r\n", "module.exports = exports = {\r\n    Threebox: require('./src/Threebox'),\r\n    THREE: require('./src/three.js')\r\n}"],
  "mappings": "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",
  "names": ["o", "t", "e", "n", "i", "r", "s", "a", "l", "c", "h", "u", "d", "p", "m", "f", "g", "v", "y", "x", "_", "b", "M", "w", "S", "T", "E", "A", "L", "R", "C", "P", "I", "D", "N", "z", "B", "O", "U", "F", "V", "W", "k", "H", "G", "j", "q", "J", "Y", "X", "Z", "Q", "$", "K", "tt", "et", "nt", "it", "rt", "st", "at", "ot", "lt", "ct", "ht", "ut", "dt", "pt", "mt", "ft", "gt", "vt", "yt", "xt", "_t", "wt", "Et", "bt", "Mt", "Lt", "Pt", "It", "Dt", "Ht", "Ot", "Ct", "Nt", "zt", "Bt", "Ft", "Ut", "THREE", "THREE", "o", "THREE", "options", "THREE", "options", "p", "THREE", "THREE", "material", "options", "_applyAxisAngle", "zoomScale", "o", "THREE", "THREE", "THREE", "THREE", "name", "THREE", "options", "e", "r", "t", "n", "o", "s", "a", "u", "i", "f", "h", "c", "l", "p", "v", "d", "g", "y", "m", "b", "z", "U", "O", "H", "T", "Z", "I", "F", "E", "G", "P", "j", "_", "q", "Y", "B", "J", "K", "L", "N", "Q", "R", "V", "W", "tt", "X", "$", "nt", "w", "x", "k", "M", "A", "S", "D", "C", "rt", "et", "it", "ot", "at", "THREE", "child", "material", "skeleton", "THREE", "self", "options", "URL", "sourceURI", "o", "accessor", "THREE", "xml", "text", "library", "animations", "extra", "technique", "count", "position", "vector", "matrix", "j", "root", "object", "parserError", "options", "THREE", "line", "THREE", "tube", "THREE", "renderer", "options", "THREE", "options", "map", "o", "resolve"]
}
